!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var commonjsGlobal$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ceil=Math.ceil,floor=Math.floor,toInteger$4=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},check=function(e){return e&&e.Math==Math&&e},global$n=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal$1&&commonjsGlobal$1)||function(){return this}()||Function("return this")(),shared$3={exports:{}},global$m=global$n,setGlobal$3=function(e,t){try{Object.defineProperty(global$m,e,{value:t,configurable:!0,writable:!0})}catch(r){global$m[e]=t}return t},global$l=global$n,setGlobal$2=setGlobal$3,SHARED="__core-js_shared__",store$5=global$l[SHARED]||setGlobal$2(SHARED,{}),sharedStore=store$5,store$4=sharedStore;(shared$3.exports=function(e,t){return store$4[e]||(store$4[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.18.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var requireObjectCoercible$4=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},requireObjectCoercible$3=requireObjectCoercible$4,toObject$6=function(e){return Object(requireObjectCoercible$3(e))},toObject$5=toObject$6,hasOwnProperty$2={}.hasOwnProperty,has$b=Object.hasOwn||function(e,t){return hasOwnProperty$2.call(toObject$5(e),t)},id=0,postfix=Math.random(),uid$3=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++id+postfix).toString(36)},isCallable$i=function(e){return"function"==typeof e},global$k=global$n,isCallable$h=isCallable$i,aFunction=function(e){return isCallable$h(e)?e:void 0},getBuiltIn$9=function(e,t){return arguments.length<2?aFunction(global$k[e]):global$k[e]&&global$k[e][t]},getBuiltIn$8=getBuiltIn$9,engineUserAgent=getBuiltIn$8("navigator","userAgent")||"",global$j=global$n,userAgent$3=engineUserAgent,process$4=global$j.process,Deno=global$j.Deno,versions$1=process$4&&process$4.versions||Deno&&Deno.version,v8=versions$1&&versions$1.v8,match,version$1;v8?(match=v8.split("."),version$1=match[0]<4?1:match[0]+match[1]):userAgent$3&&(match=userAgent$3.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$3.match(/Chrome\/(\d+)/),match&&(version$1=match[1])));var engineV8Version=version$1&&+version$1,fails$b=function(e){try{return!!e()}catch(e){return!0}},V8_VERSION$1=engineV8Version,fails$a=fails$b,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails$a((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1&&V8_VERSION$1<41})),NATIVE_SYMBOL$1=nativeSymbol,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,global$i=global$n,shared$2=shared$3.exports,has$a=has$b,uid$2=uid$3,NATIVE_SYMBOL=nativeSymbol,USE_SYMBOL_AS_UID$1=useSymbolAsUid,WellKnownSymbolsStore=shared$2("wks"),Symbol$1=global$i.Symbol,createWellKnownSymbol=USE_SYMBOL_AS_UID$1?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$2,wellKnownSymbol$h=function(e){return has$a(WellKnownSymbolsStore,e)&&(NATIVE_SYMBOL||"string"==typeof WellKnownSymbolsStore[e])||(NATIVE_SYMBOL&&has$a(Symbol$1,e)?WellKnownSymbolsStore[e]=Symbol$1[e]:WellKnownSymbolsStore[e]=createWellKnownSymbol("Symbol."+e)),WellKnownSymbolsStore[e]},wellKnownSymbol$g=wellKnownSymbol$h,TO_STRING_TAG$3=wellKnownSymbol$g("toStringTag"),test={};test[TO_STRING_TAG$3]="z";var toStringTagSupport="[object z]"===String(test),toString$7={}.toString,classofRaw$1=function(e){return toString$7.call(e).slice(8,-1)},TO_STRING_TAG_SUPPORT$2=toStringTagSupport,isCallable$g=isCallable$i,classofRaw=classofRaw$1,wellKnownSymbol$f=wellKnownSymbol$h,TO_STRING_TAG$2=wellKnownSymbol$f("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}},classof$8=TO_STRING_TAG_SUPPORT$2?classofRaw:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=tryGet(t=Object(e),TO_STRING_TAG$2))?r:CORRECT_ARGUMENTS?classofRaw(t):"Object"==(n=classofRaw(t))&&isCallable$g(t.callee)?"Arguments":n},classof$7=classof$8,toString$6=function(e){if("Symbol"===classof$7(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)},toInteger$3=toInteger$4,toString$5=toString$6,requireObjectCoercible$2=requireObjectCoercible$4,createMethod$3=function(e){return function(t,r){var n,i,o=toString$5(requireObjectCoercible$2(t)),a=toInteger$3(r),s=o.length;return a<0||a>=s?e?"":void 0:(n=o.charCodeAt(a))<55296||n>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):n:e?o.slice(a,a+2):i-56320+(n-55296<<10)+65536}},stringMultibyte={codeAt:createMethod$3(!1),charAt:createMethod$3(!0)},isCallable$f=isCallable$i,store$3=sharedStore,functionToString=Function.toString;isCallable$f(store$3.inspectSource)||(store$3.inspectSource=function(e){return functionToString.call(e)});var inspectSource$4=store$3.inspectSource,global$h=global$n,isCallable$e=isCallable$i,inspectSource$3=inspectSource$4,WeakMap$2=global$h.WeakMap,nativeWeakMap=isCallable$e(WeakMap$2)&&/native code/.test(inspectSource$3(WeakMap$2)),isCallable$d=isCallable$i,isObject$b=function(e){return"object"==typeof e?null!==e:isCallable$d(e)},fails$9=fails$b,descriptors=!fails$9((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),objectDefineProperty={},global$g=global$n,isObject$a=isObject$b,document$3=global$g.document,EXISTS$1=isObject$a(document$3)&&isObject$a(document$3.createElement),documentCreateElement$2=function(e){return EXISTS$1?document$3.createElement(e):{}},DESCRIPTORS$8=descriptors,fails$8=fails$b,createElement$2=documentCreateElement$2,ie8DomDefine=!DESCRIPTORS$8&&!fails$8((function(){return 7!=Object.defineProperty(createElement$2("div"),"a",{get:function(){return 7}}).a})),isObject$9=isObject$b,anObject$b=function(e){if(isObject$9(e))return e;throw TypeError(String(e)+" is not an object")},isCallable$c=isCallable$i,getBuiltIn$7=getBuiltIn$9,USE_SYMBOL_AS_UID=useSymbolAsUid,isSymbol$3=USE_SYMBOL_AS_UID?function(e){return"symbol"==typeof e}:function(e){var t=getBuiltIn$7("Symbol");return isCallable$c(t)&&Object(e)instanceof t},tryToString$2=function(e){try{return String(e)}catch(e){return"Object"}},isCallable$b=isCallable$i,tryToString$1=tryToString$2,aCallable$7=function(e){if(isCallable$b(e))return e;throw TypeError(tryToString$1(e)+" is not a function")},aCallable$6=aCallable$7,getMethod$3=function(e,t){var r=e[t];return null==r?void 0:aCallable$6(r)},isCallable$a=isCallable$i,isObject$8=isObject$b,ordinaryToPrimitive$1=function(e,t){var r,n;if("string"===t&&isCallable$a(r=e.toString)&&!isObject$8(n=r.call(e)))return n;if(isCallable$a(r=e.valueOf)&&!isObject$8(n=r.call(e)))return n;if("string"!==t&&isCallable$a(r=e.toString)&&!isObject$8(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},isObject$7=isObject$b,isSymbol$2=isSymbol$3,getMethod$2=getMethod$3,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$e=wellKnownSymbol$h,TO_PRIMITIVE=wellKnownSymbol$e("toPrimitive"),toPrimitive$1=function(e,t){if(!isObject$7(e)||isSymbol$2(e))return e;var r,n=getMethod$2(e,TO_PRIMITIVE);if(n){if(void 0===t&&(t="default"),r=n.call(e,t),!isObject$7(r)||isSymbol$2(r))return r;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),ordinaryToPrimitive(e,t)},toPrimitive=toPrimitive$1,isSymbol$1=isSymbol$3,toPropertyKey$3=function(e){var t=toPrimitive(e,"string");return isSymbol$1(t)?t:String(t)},DESCRIPTORS$7=descriptors,IE8_DOM_DEFINE$1=ie8DomDefine,anObject$a=anObject$b,toPropertyKey$2=toPropertyKey$3,$defineProperty=Object.defineProperty;objectDefineProperty.f=DESCRIPTORS$7?$defineProperty:function(e,t,r){if(anObject$a(e),t=toPropertyKey$2(t),anObject$a(r),IE8_DOM_DEFINE$1)try{return $defineProperty(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var createPropertyDescriptor$5=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},DESCRIPTORS$6=descriptors,definePropertyModule$5=objectDefineProperty,createPropertyDescriptor$4=createPropertyDescriptor$5,createNonEnumerableProperty$6=DESCRIPTORS$6?function(e,t,r){return definePropertyModule$5.f(e,t,createPropertyDescriptor$4(1,r))}:function(e,t,r){return e[t]=r,e},shared$1=shared$3.exports,uid$1=uid$3,keys=shared$1("keys"),sharedKey$3=function(e){return keys[e]||(keys[e]=uid$1(e))},hiddenKeys$4={},NATIVE_WEAK_MAP=nativeWeakMap,global$f=global$n,isObject$6=isObject$b,createNonEnumerableProperty$5=createNonEnumerableProperty$6,objectHas=has$b,shared=sharedStore,sharedKey$2=sharedKey$3,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",WeakMap$1=global$f.WeakMap,set$3,get$2,has$9,enforce=function(e){return has$9(e)?get$2(e):set$3(e,{})},getterFor=function(e){return function(t){var r;if(!isObject$6(t)||(r=get$2(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(NATIVE_WEAK_MAP||shared.state){var store$2=shared.state||(shared.state=new WeakMap$1),wmget=store$2.get,wmhas=store$2.has,wmset=store$2.set;set$3=function(e,t){if(wmhas.call(store$2,e))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return t.facade=e,wmset.call(store$2,e,t),t},get$2=function(e){return wmget.call(store$2,e)||{}},has$9=function(e){return wmhas.call(store$2,e)}}else{var STATE=sharedKey$2("state");hiddenKeys$3[STATE]=!0,set$3=function(e,t){if(objectHas(e,STATE))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return t.facade=e,createNonEnumerableProperty$5(e,STATE,t),t},get$2=function(e){return objectHas(e,STATE)?e[STATE]:{}},has$9=function(e){return objectHas(e,STATE)}}var internalState={set:set$3,get:get$2,has:has$9,enforce:enforce,getterFor:getterFor},objectGetOwnPropertyDescriptor={},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$3=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$3&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(e){var t=getOwnPropertyDescriptor$3(this,e);return!!t&&t.enumerable}:$propertyIsEnumerable;var fails$7=fails$b,classof$6=classofRaw$1,split$1="".split,indexedObject=fails$7((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==classof$6(e)?split$1.call(e,""):Object(e)}:Object,IndexedObject$2=indexedObject,requireObjectCoercible$1=requireObjectCoercible$4,toIndexedObject$5=function(e){return IndexedObject$2(requireObjectCoercible$1(e))},DESCRIPTORS$5=descriptors,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,createPropertyDescriptor$3=createPropertyDescriptor$5,toIndexedObject$4=toIndexedObject$5,toPropertyKey$1=toPropertyKey$3,has$8=has$b,IE8_DOM_DEFINE=ie8DomDefine,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$5?$getOwnPropertyDescriptor:function(e,t){if(e=toIndexedObject$4(e),t=toPropertyKey$1(t),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(e,t)}catch(e){}if(has$8(e,t))return createPropertyDescriptor$3(!propertyIsEnumerableModule$1.f.call(e,t),e[t])};var redefine$7={exports:{}},DESCRIPTORS$4=descriptors,has$7=has$b,FunctionPrototype=Function.prototype,getDescriptor=DESCRIPTORS$4&&Object.getOwnPropertyDescriptor,EXISTS=has$7(FunctionPrototype,"name"),PROPER=EXISTS&&"something"===function(){}.name,CONFIGURABLE=EXISTS&&(!DESCRIPTORS$4||DESCRIPTORS$4&&getDescriptor(FunctionPrototype,"name").configurable),functionName={EXISTS:EXISTS,PROPER:PROPER,CONFIGURABLE:CONFIGURABLE},global$e=global$n,isCallable$9=isCallable$i,has$6=has$b,createNonEnumerableProperty$4=createNonEnumerableProperty$6,setGlobal$1=setGlobal$3,inspectSource$2=inspectSource$4,InternalStateModule$3=internalState,CONFIGURABLE_FUNCTION_NAME$1=functionName.CONFIGURABLE,getInternalState$3=InternalStateModule$3.get,enforceInternalState=InternalStateModule$3.enforce,TEMPLATE=String(String).split("String");(redefine$7.exports=function(e,t,r,n){var i,o=!!n&&!!n.unsafe,a=!!n&&!!n.enumerable,s=!!n&&!!n.noTargetGet,l=n&&void 0!==n.name?n.name:t;isCallable$9(r)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!has$6(r,"name")||CONFIGURABLE_FUNCTION_NAME$1&&r.name!==l)&&createNonEnumerableProperty$4(r,"name",l),(i=enforceInternalState(r)).source||(i.source=TEMPLATE.join("string"==typeof l?l:""))),e!==global$e?(o?!s&&e[t]&&(a=!0):delete e[t],a?e[t]=r:createNonEnumerableProperty$4(e,t,r)):a?e[t]=r:setGlobal$1(t,r)})(Function.prototype,"toString",(function(){return isCallable$9(this)&&getInternalState$3(this).source||inspectSource$2(this)}));var objectGetOwnPropertyNames={},toInteger$2=toInteger$4,min$3=Math.min,toLength$7=function(e){return e>0?min$3(toInteger$2(e),9007199254740991):0},toInteger$1=toInteger$4,max$1=Math.max,min$2=Math.min,toAbsoluteIndex$1=function(e,t){var r=toInteger$1(e);return r<0?max$1(r+t,0):min$2(r,t)},toIndexedObject$3=toIndexedObject$5,toLength$6=toLength$7,toAbsoluteIndex=toAbsoluteIndex$1,createMethod$2=function(e){return function(t,r,n){var i,o=toIndexedObject$3(t),a=toLength$6(o.length),s=toAbsoluteIndex(n,a);if(e&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===r)return e||s||0;return!e&&-1}},arrayIncludes={includes:createMethod$2(!0),indexOf:createMethod$2(!1)},has$5=has$b,toIndexedObject$2=toIndexedObject$5,indexOf=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,objectKeysInternal=function(e,t){var r,n=toIndexedObject$2(e),i=0,o=[];for(r in n)!has$5(hiddenKeys$2,r)&&has$5(n,r)&&o.push(r);for(;t.length>i;)has$5(n,r=t[i++])&&(~indexOf(o,r)||o.push(r));return o},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(e){return internalObjectKeys$1(e,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$6=getBuiltIn$9,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,anObject$9=anObject$b,ownKeys$g=getBuiltIn$6("Reflect","ownKeys")||function(e){var t=getOwnPropertyNamesModule.f(anObject$9(e)),r=getOwnPropertySymbolsModule$1.f;return r?t.concat(r(e)):t},has$4=has$b,ownKeys$f=ownKeys$g,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$4=objectDefineProperty,copyConstructorProperties$1=function(e,t){for(var r=ownKeys$f(t),n=definePropertyModule$4.f,i=getOwnPropertyDescriptorModule.f,o=0;o<r.length;o++){var a=r[o];has$4(e,a)||n(e,a,i(t,a))}},fails$6=fails$b,isCallable$8=isCallable$i,replacement=/#|\.prototype\./,isForced$2=function(e,t){var r=data$1[normalize(e)];return r==POLYFILL||r!=NATIVE&&(isCallable$8(t)?fails$6(t):!!t)},normalize=isForced$2.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data$1=isForced$2.data={},NATIVE=isForced$2.NATIVE="N",POLYFILL=isForced$2.POLYFILL="P",isForced_1=isForced$2,global$d=global$n,getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$3=createNonEnumerableProperty$6,redefine$6=redefine$7.exports,setGlobal=setGlobal$3,copyConstructorProperties=copyConstructorProperties$1,isForced$1=isForced_1,_export=function(e,t){var r,n,i,o,a,s=e.target,l=e.global,c=e.stat;if(r=l?global$d:c?global$d[s]||setGlobal(s,{}):(global$d[s]||{}).prototype)for(n in t){if(o=t[n],i=e.noTargetGet?(a=getOwnPropertyDescriptor$2(r,n))&&a.value:r[n],!isForced$1(l?n:s+(c?".":"#")+n,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;copyConstructorProperties(o,i)}(e.sham||i&&i.sham)&&createNonEnumerableProperty$3(o,"sham",!0),redefine$6(r,n,o,e)}},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$3=Object.keys||function(e){return internalObjectKeys(e,enumBugKeys$1)},DESCRIPTORS$3=descriptors,definePropertyModule$3=objectDefineProperty,anObject$8=anObject$b,objectKeys$2=objectKeys$3,objectDefineProperties=DESCRIPTORS$3?Object.defineProperties:function(e,t){anObject$8(e);for(var r,n=objectKeys$2(t),i=n.length,o=0;i>o;)definePropertyModule$3.f(e,r=n[o++],t[r]);return e},getBuiltIn$5=getBuiltIn$9,html$2=getBuiltIn$5("document","documentElement"),anObject$7=anObject$b,defineProperties=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html$1=html$2,documentCreateElement$1=documentCreateElement$2,sharedKey$1=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$1("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame=function(){var e,t=documentCreateElement$1("iframe"),r="java"+SCRIPT+":";return t.style.display="none",html$1.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(scriptTag("document.F=Object")),e.close(),e.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(e){}NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var e=enumBugKeys.length;e--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[e]];return NullProtoObject()};hiddenKeys[IE_PROTO$1]=!0;var objectCreate=Object.create||function(e,t){var r;return null!==e?(EmptyConstructor[PROTOTYPE]=anObject$7(e),r=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,r[IE_PROTO$1]=e):r=NullProtoObject(),void 0===t?r:defineProperties(r,t)},fails$5=fails$b,correctPrototypeGetter=!fails$5((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),has$3=has$b,isCallable$7=isCallable$i,toObject$4=toObject$6,sharedKey=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(e){var t=toObject$4(e);if(has$3(t,IE_PROTO))return t[IE_PROTO];var r=t.constructor;return isCallable$7(r)&&t instanceof r?r.prototype:t instanceof Object?ObjectPrototype:null},fails$4=fails$b,isCallable$6=isCallable$i,getPrototypeOf$3=objectGetPrototypeOf,redefine$5=redefine$7.exports,wellKnownSymbol$d=wellKnownSymbol$h,ITERATOR$5=wellKnownSymbol$d("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$3(getPrototypeOf$3(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=null==IteratorPrototype$2||fails$4((function(){var e={};return IteratorPrototype$2[ITERATOR$5].call(e)!==e}));NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={}),isCallable$6(IteratorPrototype$2[ITERATOR$5])||redefine$5(IteratorPrototype$2,ITERATOR$5,(function(){return this}));var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},defineProperty$2=objectDefineProperty.f,has$2=has$b,wellKnownSymbol$c=wellKnownSymbol$h,TO_STRING_TAG$1=wellKnownSymbol$c("toStringTag"),setToStringTag$3=function(e,t,r){e&&!has$2(e=r?e:e.prototype,TO_STRING_TAG$1)&&defineProperty$2(e,TO_STRING_TAG$1,{configurable:!0,value:t})},iterators={},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$2=objectCreate,createPropertyDescriptor$2=createPropertyDescriptor$5,setToStringTag$2=setToStringTag$3,Iterators$4=iterators,returnThis$1=function(){return this},createIteratorConstructor$1=function(e,t,r){var n=t+" Iterator";return e.prototype=create$2(IteratorPrototype$1,{next:createPropertyDescriptor$2(1,r)}),setToStringTag$2(e,n,!1),Iterators$4[n]=returnThis$1,e},isCallable$5=isCallable$i,aPossiblePrototype$1=function(e){if("object"==typeof e||isCallable$5(e))return e;throw TypeError("Can't set "+String(e)+" as a prototype")},anObject$6=anObject$b,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return anObject$6(r),aPossiblePrototype(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),$$f=_export,FunctionName=functionName,isCallable$4=isCallable$i,createIteratorConstructor=createIteratorConstructor$1,getPrototypeOf$2=objectGetPrototypeOf,setPrototypeOf$3=objectSetPrototypeOf,setToStringTag$1=setToStringTag$3,createNonEnumerableProperty$2=createNonEnumerableProperty$6,redefine$4=redefine$7.exports,wellKnownSymbol$b=wellKnownSymbol$h,Iterators$3=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$4=wellKnownSymbol$b("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$2=function(e,t,r,n,i,o,a){createIteratorConstructor(r,t,n);var s,l,c,u=function(e){if(e===i&&m)return m;if(!BUGGY_SAFARI_ITERATORS&&e in p)return p[e];switch(e){case KEYS:case VALUES:case ENTRIES:return function(){return new r(this,e)}}return function(){return new r(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[ITERATOR$4]||p["@@iterator"]||i&&p[i],m=!BUGGY_SAFARI_ITERATORS&&h||u(i),g="Array"==t&&p.entries||h;if(g&&(s=getPrototypeOf$2(g.call(new e)))!==Object.prototype&&s.next&&(getPrototypeOf$2(s)!==IteratorPrototype&&(setPrototypeOf$3?setPrototypeOf$3(s,IteratorPrototype):isCallable$4(s[ITERATOR$4])||redefine$4(s,ITERATOR$4,returnThis)),setToStringTag$1(s,d,!0)),PROPER_FUNCTION_NAME&&i==VALUES&&h&&h.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty$2(p,"name",VALUES):(f=!0,m=function(){return h.call(this)})),i)if(l={values:u(VALUES),keys:o?m:u(KEYS),entries:u(ENTRIES)},a)for(c in l)(BUGGY_SAFARI_ITERATORS||f||!(c in p))&&redefine$4(p,c,l[c]);else $$f({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS||f},l);return p[ITERATOR$4]!==m&&redefine$4(p,ITERATOR$4,m,{name:i}),Iterators$3[t]=m,l},charAt=stringMultibyte.charAt,toString$4=toString$6,InternalStateModule$2=internalState,defineIterator$1=defineIterator$2,STRING_ITERATOR="String Iterator",setInternalState$2=InternalStateModule$2.set,getInternalState$2=InternalStateModule$2.getterFor(STRING_ITERATOR);defineIterator$1(String,"String",(function(e){setInternalState$2(this,{type:STRING_ITERATOR,string:toString$4(e),index:0})}),(function(){var e,t=getInternalState$2(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=charAt(r,n),t.index+=e.length,{value:e,done:!1})}));var aCallable$5=aCallable$7,functionBindContext=function(e,t,r){if(aCallable$5(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},anObject$5=anObject$b,getMethod$1=getMethod$3,iteratorClose$2=function(e,t,r){var n,i;anObject$5(e);try{if(!(n=getMethod$1(e,"return"))){if("throw"===t)throw r;return r}n=n.call(e)}catch(e){i=!0,n=e}if("throw"===t)throw r;if(i)throw n;return anObject$5(n),r},anObject$4=anObject$b,iteratorClose$1=iteratorClose$2,callWithSafeIterationClosing$1=function(e,t,r,n){try{return n?t(anObject$4(r)[0],r[1]):t(r)}catch(t){iteratorClose$1(e,"throw",t)}},wellKnownSymbol$a=wellKnownSymbol$h,Iterators$2=iterators,ITERATOR$3=wellKnownSymbol$a("iterator"),ArrayPrototype$1=Array.prototype,isArrayIteratorMethod$2=function(e){return void 0!==e&&(Iterators$2.Array===e||ArrayPrototype$1[ITERATOR$3]===e)},fails$3=fails$b,isCallable$3=isCallable$i,classof$5=classof$8,getBuiltIn$4=getBuiltIn$9,inspectSource$1=inspectSource$4,empty=[],construct=getBuiltIn$4("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=constructorRegExp.exec,INCORRECT_TO_STRING=!constructorRegExp.exec((function(){})),isConstructorModern=function(e){if(!isCallable$3(e))return!1;try{return construct(Object,empty,e),!0}catch(e){return!1}},isConstructorLegacy=function(e){if(!isCallable$3(e))return!1;switch(classof$5(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return INCORRECT_TO_STRING||!!exec.call(constructorRegExp,inspectSource$1(e))},isConstructor$3=!construct||fails$3((function(){var e;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){e=!0}))||e}))?isConstructorLegacy:isConstructorModern,toPropertyKey=toPropertyKey$3,definePropertyModule$2=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$5,createProperty$1=function(e,t,r){var n=toPropertyKey(t);n in e?definePropertyModule$2.f(e,n,createPropertyDescriptor$1(0,r)):e[n]=r},classof$4=classof$8,getMethod=getMethod$3,Iterators$1=iterators,wellKnownSymbol$9=wellKnownSymbol$h,ITERATOR$2=wellKnownSymbol$9("iterator"),getIteratorMethod$3=function(e){if(null!=e)return getMethod(e,ITERATOR$2)||getMethod(e,"@@iterator")||Iterators$1[classof$4(e)]},aCallable$4=aCallable$7,anObject$3=anObject$b,getIteratorMethod$2=getIteratorMethod$3,getIterator$2=function(e,t){var r=arguments.length<2?getIteratorMethod$2(e):t;if(aCallable$4(r))return anObject$3(r.call(e));throw TypeError(String(e)+" is not iterable")},bind$7=functionBindContext,toObject$3=toObject$6,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod$1=isArrayIteratorMethod$2,isConstructor$2=isConstructor$3,toLength$5=toLength$7,createProperty=createProperty$1,getIterator$1=getIterator$2,getIteratorMethod$1=getIteratorMethod$3,arrayFrom$1=function(e){var t=toObject$3(e),r=isConstructor$2(this),n=arguments.length,i=n>1?arguments[1]:void 0,o=void 0!==i;o&&(i=bind$7(i,n>2?arguments[2]:void 0,2));var a,s,l,c,u,d,f=getIteratorMethod$1(t),p=0;if(!f||this==Array&&isArrayIteratorMethod$1(f))for(a=toLength$5(t.length),s=r?new this(a):Array(a);a>p;p++)d=o?i(t[p],p):t[p],createProperty(s,p,d);else for(u=(c=getIterator$1(t,f)).next,s=r?new this:[];!(l=u.call(c)).done;p++)d=o?callWithSafeIterationClosing(c,i,[l.value,p],!0):l.value,createProperty(s,p,d);return s.length=p,s},wellKnownSymbol$8=wellKnownSymbol$h,ITERATOR$1=wellKnownSymbol$8("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$1]=function(){return this},Array.from(iteratorWithReturn,(function(){throw 2}))}catch(e){}var checkCorrectnessOfIteration$2=function(e,t){if(!t&&!SAFE_CLOSING)return!1;var r=!1;try{var n={};n[ITERATOR$1]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},$$e=_export,from=arrayFrom$1,checkCorrectnessOfIteration$1=checkCorrectnessOfIteration$2,INCORRECT_ITERATION$1=!checkCorrectnessOfIteration$1((function(e){Array.from(e)}));$$e({target:"Array",stat:!0,forced:INCORRECT_ITERATION$1},{from:from});var global$c=global$n,path$5=global$c,path$4=path$5;path$4.Array.from;var wellKnownSymbol$7=wellKnownSymbol$h,create$1=objectCreate,definePropertyModule$1=objectDefineProperty,UNSCOPABLES=wellKnownSymbol$7("unscopables"),ArrayPrototype=Array.prototype;null==ArrayPrototype[UNSCOPABLES]&&definePropertyModule$1.f(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create$1(null)});var addToUnscopables$4=function(e){ArrayPrototype[UNSCOPABLES][e]=!0},$$d=_export,$includes=arrayIncludes.includes,addToUnscopables$3=addToUnscopables$4;$$d({target:"Array",proto:!0},{includes:function(e){return $includes(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$3("includes");var global$b=global$n,bind$6=functionBindContext,call=Function.call,entryUnbind$4=function(e,t,r){return bind$6(call,global$b[e].prototype[t],r)},entryUnbind$3=entryUnbind$4;entryUnbind$3("Array","includes");var classof$3=classofRaw$1,isArray$3=Array.isArray||function(e){return"Array"==classof$3(e)},isArray$2=isArray$3,toLength$4=toLength$7,bind$5=functionBindContext,flattenIntoArray$1=function(e,t,r,n,i,o,a,s){for(var l,c=i,u=0,d=!!a&&bind$5(a,s,3);u<n;){if(u in r){if(l=d?d(r[u],u,t):r[u],o>0&&isArray$2(l))c=flattenIntoArray$1(e,t,l,toLength$4(l.length),c,o-1)-1;else{if(c>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[c]=l}c++}u++}return c},flattenIntoArray_1=flattenIntoArray$1,isArray$1=isArray$3,isConstructor$1=isConstructor$3,isObject$5=isObject$b,wellKnownSymbol$6=wellKnownSymbol$h,SPECIES$3=wellKnownSymbol$6("species"),arraySpeciesConstructor$1=function(e){var t;return isArray$1(e)&&(t=e.constructor,(isConstructor$1(t)&&(t===Array||isArray$1(t.prototype))||isObject$5(t)&&null===(t=t[SPECIES$3]))&&(t=void 0)),void 0===t?Array:t},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$2=function(e,t){return new(arraySpeciesConstructor(e))(0===t?0:t)},$$c=_export,flattenIntoArray=flattenIntoArray_1,toObject$2=toObject$6,toLength$3=toLength$7,toInteger=toInteger$4,arraySpeciesCreate$1=arraySpeciesCreate$2;$$c({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=toObject$2(this),r=toLength$3(t.length),n=arraySpeciesCreate$1(t,0);return n.length=flattenIntoArray(n,t,t,r,0,void 0===e?1:toInteger(e)),n}});var addToUnscopables$2=addToUnscopables$4;addToUnscopables$2("flat");var entryUnbind$2=entryUnbind$4;entryUnbind$2("Array","flat");var bind$4=functionBindContext,IndexedObject$1=indexedObject,toObject$1=toObject$6,toLength$2=toLength$7,arraySpeciesCreate=arraySpeciesCreate$2,push$1=[].push,createMethod$1=function(e){var t=1==e,r=2==e,n=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(l,c,u,d){for(var f,p,h=toObject$1(l),m=IndexedObject$1(h),g=bind$4(c,u,3),y=toLength$2(m.length),v=0,b=d||arraySpeciesCreate,w=t?b(l,y):r||a?b(l,0):void 0;y>v;v++)if((s||v in m)&&(p=g(f=m[v],v,h),e))if(t)w[v]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return v;case 2:push$1.call(w,f)}else switch(e){case 4:return!1;case 7:push$1.call(w,f)}return o?-1:n||i?i:w}},arrayIteration={forEach:createMethod$1(0),map:createMethod$1(1),filter:createMethod$1(2),some:createMethod$1(3),every:createMethod$1(4),find:createMethod$1(5),findIndex:createMethod$1(6),filterReject:createMethod$1(7)},$$b=_export,$find=arrayIteration.find,addToUnscopables$1=addToUnscopables$4,FIND="find",SKIPS_HOLES=!0;FIND in[]&&Array(1)[FIND]((function(){SKIPS_HOLES=!1})),$$b({target:"Array",proto:!0,forced:SKIPS_HOLES},{find:function(e){return $find(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$1(FIND);var entryUnbind$1=entryUnbind$4;entryUnbind$1("Array","find");var DESCRIPTORS$2=descriptors,fails$2=fails$b,objectKeys$1=objectKeys$3,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,propertyIsEnumerableModule=objectPropertyIsEnumerable,toObject=toObject$6,IndexedObject=indexedObject,$assign=Object.assign,defineProperty$1=Object.defineProperty,objectAssign=!$assign||fails$2((function(){if(DESCRIPTORS$2&&1!==$assign({b:1},$assign(defineProperty$1({},"a",{enumerable:!0,get:function(){defineProperty$1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=$assign({},e)[r]||objectKeys$1($assign({},t)).join("")!=n}))?function(e,t){for(var r=toObject(e),n=arguments.length,i=1,o=getOwnPropertySymbolsModule.f,a=propertyIsEnumerableModule.f;n>i;)for(var s,l=IndexedObject(arguments[i++]),c=o?objectKeys$1(l).concat(o(l)):objectKeys$1(l),u=c.length,d=0;u>d;)s=c[d++],DESCRIPTORS$2&&!a.call(l,s)||(r[s]=l[s]);return r}:$assign,$$a=_export,assign=objectAssign;$$a({target:"Object",stat:!0,forced:Object.assign!==assign},{assign:assign});var path$3=path$5;path$3.Object.assign;var DESCRIPTORS$1=descriptors,objectKeys=objectKeys$3,toIndexedObject$1=toIndexedObject$5,propertyIsEnumerable=objectPropertyIsEnumerable.f,createMethod=function(e){return function(t){for(var r,n=toIndexedObject$1(t),i=objectKeys(n),o=i.length,a=0,s=[];o>a;)r=i[a++],DESCRIPTORS$1&&!propertyIsEnumerable.call(n,r)||s.push(e?[r,n[r]]:n[r]);return s}},objectToArray={entries:createMethod(!0),values:createMethod(!1)},$$9=_export,$entries=objectToArray.entries;$$9({target:"Object",stat:!0},{entries:function(e){return $entries(e)}});var path$2=path$5;path$2.Object.entries;var $$8=_export,$values=objectToArray.values;$$8({target:"Object",stat:!0},{values:function(e){return $values(e)}});var path$1=path$5;path$1.Object.values;var anObject$2=anObject$b,isArrayIteratorMethod=isArrayIteratorMethod$2,toLength$1=toLength$7,bind$3=functionBindContext,getIterator=getIterator$2,getIteratorMethod=getIteratorMethod$3,iteratorClose=iteratorClose$2,Result=function(e,t){this.stopped=e,this.result=t},iterate$4=function(e,t,r){var n,i,o,a,s,l,c,u=r&&r.that,d=!(!r||!r.AS_ENTRIES),f=!(!r||!r.IS_ITERATOR),p=!(!r||!r.INTERRUPTED),h=bind$3(t,u,1+d+p),m=function(e){return n&&iteratorClose(n,"normal",e),new Result(!0,e)},g=function(e){return d?(anObject$2(e),p?h(e[0],e[1],m):h(e[0],e[1])):p?h(e,m):h(e)};if(f)n=e;else{if(!(i=getIteratorMethod(e)))throw TypeError(String(e)+" is not iterable");if(isArrayIteratorMethod(i)){for(o=0,a=toLength$1(e.length);a>o;o++)if((s=g(e[o]))&&s instanceof Result)return s;return new Result(!1)}n=getIterator(e,i)}for(l=n.next;!(c=l.call(n)).done;){try{s=g(c.value)}catch(e){iteratorClose(n,"throw",e)}if("object"==typeof s&&s&&s instanceof Result)return s}return new Result(!1)},$$7=_export,getPrototypeOf$1=objectGetPrototypeOf,setPrototypeOf$2=objectSetPrototypeOf,create=objectCreate,createNonEnumerableProperty$1=createNonEnumerableProperty$6,createPropertyDescriptor=createPropertyDescriptor$5,iterate$3=iterate$4,toString$3=toString$6,$AggregateError=function(e,t){var r=this;if(!(r instanceof $AggregateError))return new $AggregateError(e,t);setPrototypeOf$2&&(r=setPrototypeOf$2(new Error(void 0),getPrototypeOf$1(r))),void 0!==t&&createNonEnumerableProperty$1(r,"message",toString$3(t));var n=[];return iterate$3(e,n.push,{that:n}),createNonEnumerableProperty$1(r,"errors",n),r};$AggregateError.prototype=create(Error.prototype,{constructor:createPropertyDescriptor(5,$AggregateError),message:createPropertyDescriptor(5,""),name:createPropertyDescriptor(5,"AggregateError")}),$$7({global:!0},{AggregateError:$AggregateError});var toIndexedObject=toIndexedObject$5,addToUnscopables=addToUnscopables$4,Iterators=iterators,InternalStateModule$1=internalState,defineIterator=defineIterator$2,ARRAY_ITERATOR="Array Iterator",setInternalState$1=InternalStateModule$1.set,getInternalState$1=InternalStateModule$1.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator(Array,"Array",(function(e,t){setInternalState$1(this,{type:ARRAY_ITERATOR,target:toIndexedObject(e),index:0,kind:t})}),(function(){var e=getInternalState$1(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");var TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof$2=classof$8,objectToString$1=TO_STRING_TAG_SUPPORT$1?{}.toString:function(){return"[object "+classof$2(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,redefine$3=redefine$7.exports,toString$2=objectToString$1;TO_STRING_TAG_SUPPORT||redefine$3(Object.prototype,"toString",toString$2,{unsafe:!0});var global$a=global$n,nativePromiseConstructor=global$a.Promise,redefine$2=redefine$7.exports,redefineAll$1=function(e,t,r){for(var n in t)redefine$2(e,n,t[n],r);return e},getBuiltIn$3=getBuiltIn$9,definePropertyModule=objectDefineProperty,wellKnownSymbol$5=wellKnownSymbol$h,DESCRIPTORS=descriptors,SPECIES$2=wellKnownSymbol$5("species"),setSpecies$1=function(e){var t=getBuiltIn$3(e),r=definePropertyModule.f;DESCRIPTORS&&t&&!t[SPECIES$2]&&r(t,SPECIES$2,{configurable:!0,get:function(){return this}})},anInstance$1=function(e,t,r){if(e instanceof t)return e;throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")},isConstructor=isConstructor$3,tryToString=tryToString$2,aConstructor$1=function(e){if(isConstructor(e))return e;throw TypeError(tryToString(e)+" is not a constructor")},anObject$1=anObject$b,aConstructor=aConstructor$1,wellKnownSymbol$4=wellKnownSymbol$h,SPECIES$1=wellKnownSymbol$4("species"),speciesConstructor$2=function(e,t){var r,n=anObject$1(e).constructor;return void 0===n||null==(r=anObject$1(n)[SPECIES$1])?t:aConstructor(r)},userAgent$2=engineUserAgent,engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$2),classof$1=classofRaw$1,global$9=global$n,engineIsNode="process"==classof$1(global$9.process),global$8=global$n,isCallable$2=isCallable$i,fails$1=fails$b,bind$2=functionBindContext,html=html$2,createElement$1=documentCreateElement$2,IS_IOS$1=engineIsIos,IS_NODE$2=engineIsNode,set$2=global$8.setImmediate,clear$1=global$8.clearImmediate,process$3=global$8.process,MessageChannel=global$8.MessageChannel,Dispatch=global$8.Dispatch,counter=0,queue$2={},ONREADYSTATECHANGE="onreadystatechange",location$1,defer,channel,port;try{location$1=global$8.location}catch(e){}var run=function(e){if(queue$2.hasOwnProperty(e)){var t=queue$2[e];delete queue$2[e],t()}},runner=function(e){return function(){run(e)}},listener=function(e){run(e.data)},post=function(e){global$8.postMessage(String(e),location$1.protocol+"//"+location$1.host)};set$2&&clear$1||(set$2=function(e){for(var t=[],r=arguments.length,n=1;r>n;)t.push(arguments[n++]);return queue$2[++counter]=function(){(isCallable$2(e)?e:Function(e)).apply(void 0,t)},defer(counter),counter},clear$1=function(e){delete queue$2[e]},IS_NODE$2?defer=function(e){process$3.nextTick(runner(e))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(runner(e))}:MessageChannel&&!IS_IOS$1?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=bind$2(port.postMessage,port,1)):global$8.addEventListener&&isCallable$2(global$8.postMessage)&&!global$8.importScripts&&location$1&&"file:"!==location$1.protocol&&!fails$1(post)?(defer=post,global$8.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in createElement$1("script")?function(e){html.appendChild(createElement$1("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(e)}}:function(e){setTimeout(runner(e),0)});var task$1={set:set$2,clear:clear$1},userAgent$1=engineUserAgent,global$7=global$n,engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$1)&&void 0!==global$7.Pebble,userAgent=engineUserAgent,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent),global$6=global$n,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,macrotask=task$1.set,IS_IOS=engineIsIos,IS_IOS_PEBBLE=engineIsIosPebble,IS_WEBOS_WEBKIT=engineIsWebosWebkit,IS_NODE$1=engineIsNode,MutationObserver$1=global$6.MutationObserver||global$6.WebKitMutationObserver,document$2=global$6.document,process$2=global$6.process,Promise$1=global$6.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor$1(global$6,"queueMicrotask"),queueMicrotask$1=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,flush,head,last,notify$1,toggle,node,promise,then;queueMicrotask$1||(flush=function(){var e,t;for(IS_NODE$1&&(e=process$2.domain)&&e.exit();head;){t=head.fn,head=head.next;try{t()}catch(e){throw head?notify$1():last=void 0,e}}last=void 0,e&&e.enter()},IS_IOS||IS_NODE$1||IS_WEBOS_WEBKIT||!MutationObserver$1||!document$2?!IS_IOS_PEBBLE&&Promise$1&&Promise$1.resolve?(promise=Promise$1.resolve(void 0),promise.constructor=Promise$1,then=promise.then,notify$1=function(){then.call(promise,flush)}):notify$1=IS_NODE$1?function(){process$2.nextTick(flush)}:function(){macrotask.call(global$6,flush)}:(toggle=!0,node=document$2.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}));var microtask$1=queueMicrotask$1||function(e){var t={fn:e,next:void 0};last&&(last.next=t),head||(head=t,notify$1()),last=t},newPromiseCapability$2={},aCallable$3=aCallable$7,PromiseCapability=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=aCallable$3(t),this.reject=aCallable$3(r)};newPromiseCapability$2.f=function(e){return new PromiseCapability(e)};var anObject=anObject$b,isObject$4=isObject$b,newPromiseCapability$1=newPromiseCapability$2,promiseResolve$2=function(e,t){if(anObject(e),isObject$4(t)&&t.constructor===e)return t;var r=newPromiseCapability$1.f(e);return(0,r.resolve)(t),r.promise},global$5=global$n,hostReportErrors$1=function(e,t){var r=global$5.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))},perform$4=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},engineIsBrowser="object"==typeof window,$$6=_export,global$4=global$n,getBuiltIn$2=getBuiltIn$9,NativePromise$1=nativePromiseConstructor,redefine$1=redefine$7.exports,redefineAll=redefineAll$1,setPrototypeOf$1=objectSetPrototypeOf,setToStringTag=setToStringTag$3,setSpecies=setSpecies$1,aCallable$2=aCallable$7,isCallable$1=isCallable$i,isObject$3=isObject$b,anInstance=anInstance$1,inspectSource=inspectSource$4,iterate$2=iterate$4,checkCorrectnessOfIteration=checkCorrectnessOfIteration$2,speciesConstructor$1=speciesConstructor$2,task=task$1.set,microtask=microtask$1,promiseResolve$1=promiseResolve$2,hostReportErrors=hostReportErrors$1,newPromiseCapabilityModule$3=newPromiseCapability$2,perform$3=perform$4,InternalStateModule=internalState,isForced=isForced_1,wellKnownSymbol$3=wellKnownSymbol$h,IS_BROWSER=engineIsBrowser,IS_NODE=engineIsNode,V8_VERSION=engineV8Version,SPECIES=wellKnownSymbol$3("species"),PROMISE="Promise",getInternalState=InternalStateModule.get,setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),NativePromisePrototype=NativePromise$1&&NativePromise$1.prototype,PromiseConstructor=NativePromise$1,PromiseConstructorPrototype=NativePromisePrototype,TypeError$1=global$4.TypeError,document$1=global$4.document,process$1=global$4.process,newPromiseCapability=newPromiseCapabilityModule$3.f,newGenericPromiseCapability=newPromiseCapability,DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$4.dispatchEvent),NATIVE_REJECTION_EVENT=isCallable$1(global$4.PromiseRejectionEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,SUBCLASSING=!1,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,FORCED=isForced(PROMISE,(function(){var e=inspectSource(PromiseConstructor),t=e!==String(PromiseConstructor);if(!t&&66===V8_VERSION)return!0;if(V8_VERSION>=51&&/native code/.test(e))return!1;var r=new PromiseConstructor((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[SPECIES]=n,!(SUBCLASSING=r.then((function(){}))instanceof n)||!t&&IS_BROWSER&&!NATIVE_REJECTION_EVENT})),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration((function(e){PromiseConstructor.all(e).catch((function(){}))})),isThenable=function(e){var t;return!(!isObject$3(e)||!isCallable$1(t=e.then))&&t},notify=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;microtask((function(){for(var n=e.value,i=e.state==FULFILLED,o=0;r.length>o;){var a,s,l,c=r[o++],u=i?c.ok:c.fail,d=c.resolve,f=c.reject,p=c.domain;try{u?(i||(e.rejection===UNHANDLED&&onHandleUnhandled(e),e.rejection=HANDLED),!0===u?a=n:(p&&p.enter(),a=u(n),p&&(p.exit(),l=!0)),a===c.promise?f(TypeError$1("Promise-chain cycle")):(s=isThenable(a))?s.call(a,d,f):d(a)):f(n)}catch(e){p&&!l&&p.exit(),f(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&onUnhandled(e)}))}},dispatchEvent=function(e,t,r){var n,i;DISPATCH_EVENT?((n=document$1.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),global$4.dispatchEvent(n)):n={promise:t,reason:r},!NATIVE_REJECTION_EVENT&&(i=global$4["on"+e])?i(n):e===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",r)},onUnhandled=function(e){task.call(global$4,(function(){var t,r=e.facade,n=e.value;if(isUnhandled(e)&&(t=perform$3((function(){IS_NODE?process$1.emit("unhandledRejection",n,r):dispatchEvent(UNHANDLED_REJECTION,r,n)})),e.rejection=IS_NODE||isUnhandled(e)?UNHANDLED:HANDLED,t.error))throw t.value}))},isUnhandled=function(e){return e.rejection!==HANDLED&&!e.parent},onHandleUnhandled=function(e){task.call(global$4,(function(){var t=e.facade;IS_NODE?process$1.emit("rejectionHandled",t):dispatchEvent(REJECTION_HANDLED,t,e.value)}))},bind$1=function(e,t,r){return function(n){e(t,n,r)}},internalReject=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=REJECTED,notify(e,!0))},internalResolve=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw TypeError$1("Promise can't be resolved itself");var n=isThenable(t);n?microtask((function(){var r={done:!1};try{n.call(t,bind$1(internalResolve,r,e),bind$1(internalReject,r,e))}catch(t){internalReject(r,t,e)}})):(e.value=t,e.state=FULFILLED,notify(e,!1))}catch(t){internalReject({done:!1},t,e)}}};if(FORCED&&(PromiseConstructor=function(e){anInstance(this,PromiseConstructor,PROMISE),aCallable$2(e),Internal.call(this);var t=getInternalState(this);try{e(bind$1(internalResolve,t),bind$1(internalReject,t))}catch(e){internalReject(t,e)}},PromiseConstructorPrototype=PromiseConstructor.prototype,Internal=function(e){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:PENDING,value:void 0})},Internal.prototype=redefineAll(PromiseConstructorPrototype,{then:function(e,t){var r=getInternalPromiseState(this),n=newPromiseCapability(speciesConstructor$1(this,PromiseConstructor));return n.ok=!isCallable$1(e)||e,n.fail=isCallable$1(t)&&t,n.domain=IS_NODE?process$1.domain:void 0,r.parent=!0,r.reactions.push(n),r.state!=PENDING&&notify(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),OwnPromiseCapability=function(){var e=new Internal,t=getInternalState(e);this.promise=e,this.resolve=bind$1(internalResolve,t),this.reject=bind$1(internalReject,t)},newPromiseCapabilityModule$3.f=newPromiseCapability=function(e){return e===PromiseConstructor||e===PromiseWrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)},isCallable$1(NativePromise$1)&&NativePromisePrototype!==Object.prototype)){nativeThen=NativePromisePrototype.then,SUBCLASSING||(redefine$1(NativePromisePrototype,"then",(function(e,t){var r=this;return new PromiseConstructor((function(e,t){nativeThen.call(r,e,t)})).then(e,t)}),{unsafe:!0}),redefine$1(NativePromisePrototype,"catch",PromiseConstructorPrototype.catch,{unsafe:!0}));try{delete NativePromisePrototype.constructor}catch(e){}setPrototypeOf$1&&setPrototypeOf$1(NativePromisePrototype,PromiseConstructorPrototype)}$$6({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1),setSpecies(PROMISE),PromiseWrapper=getBuiltIn$2(PROMISE),$$6({target:PROMISE,stat:!0,forced:FORCED},{reject:function(e){var t=newPromiseCapability(this);return t.reject.call(void 0,e),t.promise}}),$$6({target:PROMISE,stat:!0,forced:FORCED},{resolve:function(e){return promiseResolve$1(this,e)}}),$$6({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function(e){var t=this,r=newPromiseCapability(t),n=r.resolve,i=r.reject,o=perform$3((function(){var r=aCallable$2(t.resolve),o=[],a=0,s=1;iterate$2(e,(function(e){var l=a++,c=!1;o.push(void 0),s++,r.call(t,e).then((function(e){c||(c=!0,o[l]=e,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(e){var t=this,r=newPromiseCapability(t),n=r.reject,i=perform$3((function(){var i=aCallable$2(t.resolve);iterate$2(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var $$5=_export,aCallable$1=aCallable$7,newPromiseCapabilityModule$2=newPromiseCapability$2,perform$2=perform$4,iterate$1=iterate$4;$$5({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=newPromiseCapabilityModule$2.f(t),n=r.resolve,i=r.reject,o=perform$2((function(){var r=aCallable$1(t.resolve),i=[],o=0,a=1;iterate$1(e,(function(e){var s=o++,l=!1;i.push(void 0),a++,r.call(t,e).then((function(e){l||(l=!0,i[s]={status:"fulfilled",value:e},--a||n(i))}),(function(e){l||(l=!0,i[s]={status:"rejected",reason:e},--a||n(i))}))})),--a||n(i)}));return o.error&&i(o.value),r.promise}});var $$4=_export,aCallable=aCallable$7,getBuiltIn$1=getBuiltIn$9,newPromiseCapabilityModule$1=newPromiseCapability$2,perform$1=perform$4,iterate=iterate$4,PROMISE_ANY_ERROR="No one promise resolved";$$4({target:"Promise",stat:!0},{any:function(e){var t=this,r=newPromiseCapabilityModule$1.f(t),n=r.resolve,i=r.reject,o=perform$1((function(){var r=aCallable(t.resolve),o=[],a=0,s=1,l=!1;iterate(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,r.call(t,e).then((function(e){u||l||(l=!0,n(e))}),(function(e){u||l||(u=!0,o[c]=e,--s||i(new(getBuiltIn$1("AggregateError"))(o,PROMISE_ANY_ERROR)))}))})),--s||i(new(getBuiltIn$1("AggregateError"))(o,PROMISE_ANY_ERROR))}));return o.error&&i(o.value),r.promise}});var $$3=_export,NativePromise=nativePromiseConstructor,fails=fails$b,getBuiltIn=getBuiltIn$9,isCallable=isCallable$i,speciesConstructor=speciesConstructor$2,promiseResolve=promiseResolve$2,redefine=redefine$7.exports,NON_GENERIC=!!NativePromise&&fails((function(){NativePromise.prototype.finally.call({then:function(){}},(function(){}))}));if($$3({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(e){var t=speciesConstructor(this,getBuiltIn("Promise")),r=isCallable(e);return this.then(r?function(r){return promiseResolve(t,e()).then((function(){return r}))}:e,r?function(r){return promiseResolve(t,e()).then((function(){throw r}))}:e)}}),isCallable(NativePromise)){var method=getBuiltIn("Promise").prototype.finally;NativePromise.prototype.finally!==method&&redefine(NativePromise.prototype,"finally",method,{unsafe:!0})}var path=path$5;path.Promise;var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement=documentCreateElement$2,classList=documentCreateElement("span").classList,DOMTokenListPrototype$1=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$1===Object.prototype?void 0:DOMTokenListPrototype$1,global$3=global$n,DOMIterables=domIterables,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty=createNonEnumerableProperty$6,wellKnownSymbol$2=wellKnownSymbol$h,ITERATOR=wellKnownSymbol$2("iterator"),TO_STRING_TAG=wellKnownSymbol$2("toStringTag"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(e,t){if(e){if(e[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(e,ITERATOR,ArrayValues)}catch(t){e[ITERATOR]=ArrayValues}if(e[TO_STRING_TAG]||createNonEnumerableProperty(e,TO_STRING_TAG,t),DOMIterables[t])for(var r in ArrayIteratorMethods)if(e[r]!==ArrayIteratorMethods[r])try{createNonEnumerableProperty(e,r,ArrayIteratorMethods[r])}catch(t){e[r]=ArrayIteratorMethods[r]}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(global$3[COLLECTION_NAME]&&global$3[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList");var $$2=_export,newPromiseCapabilityModule=newPromiseCapability$2,perform=perform$4;$$2({target:"Promise",stat:!0},{try:function(e){var t=newPromiseCapabilityModule.f(this),r=perform(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}});var isObject$2=isObject$b,classof=classofRaw$1,wellKnownSymbol$1=wellKnownSymbol$h,MATCH$1=wellKnownSymbol$1("match"),isRegexp=function(e){var t;return isObject$2(e)&&(void 0!==(t=e[MATCH$1])?!!t:"RegExp"==classof(e))},isRegExp=isRegexp,notARegexp=function(e){if(isRegExp(e))throw TypeError("The method doesn't accept regular expressions");return e},wellKnownSymbol=wellKnownSymbol$h,MATCH=wellKnownSymbol("match"),correctIsRegexpLogic=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[MATCH]=!1,"/./"[e](t)}catch(e){}}return!1},$$1=_export,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,toLength=toLength$7,toString$1=toString$6,notARegExp=notARegexp,requireObjectCoercible=requireObjectCoercible$4,correctIsRegExpLogic=correctIsRegexpLogic,$startsWith="".startsWith,min$1=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("startsWith"),MDN_POLYFILL_BUG=!(CORRECT_IS_REGEXP_LOGIC||(descriptor=getOwnPropertyDescriptor(String.prototype,"startsWith"),!descriptor||descriptor.writable)),descriptor;$$1({target:"String",proto:!0,forced:!MDN_POLYFILL_BUG&&!CORRECT_IS_REGEXP_LOGIC},{startsWith:function(e){var t=toString$1(requireObjectCoercible(this));notARegExp(e);var r=toLength(min$1(arguments.length>1?arguments[1]:void 0,t.length)),n=toString$1(e);return $startsWith?$startsWith.call(t,n,r):t.slice(r,r+n.length)===n}});var entryUnbind=entryUnbind$4;entryUnbind("String","startsWith");var global$2="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==global$2&&global$2,support={searchParams:"URLSearchParams"in global$2,iterable:"Symbol"in global$2&&"iterator"in Symbol,blob:"FileReader"in global$2&&"Blob"in global$2&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in global$2,arrayBuffer:"ArrayBuffer"in global$2};function isDataView(e){return e&&DataView.prototype.isPrototypeOf(e)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(e){return e&&viewClasses.indexOf(Object.prototype.toString.call(e))>-1};function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return support.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Headers(e){this.map={},e instanceof Headers?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function readBlobAsArrayBuffer(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsArrayBuffer(e),r}function readBlobAsText(e){var t=new FileReader,r=fileReaderReady(t);return t.readAsText(e),r}function readArrayBufferAsText(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:support.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:support.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():support.arrayBuffer&&support.blob&&isDataView(e)?(this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||isArrayBufferView(e))?this._bodyArrayBuffer=bufferClone(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=consumed(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode$1)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Headers.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),iteratorFor(e)},support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(e){var t=e.toUpperCase();return methods.indexOf(t)>-1?t:e}function Request(e,t){if(!(this instanceof Request))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(t=t||{}).body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=normalizeMethod(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function decode$1(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function parseHeaders(e){var t=new Headers;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function Response(e,t){if(!(this instanceof Response))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===redirectStatuses.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})};var DOMException=global$2.DOMException;try{new DOMException}catch(e){DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},DOMException.prototype=Object.create(Error.prototype),DOMException.prototype.constructor=DOMException}function fetch$1(e,t){return new Promise((function(r,n){var i=new Request(e,t);if(i.signal&&i.signal.aborted)return n(new DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:parseHeaders(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;setTimeout((function(){r(new Response(t,e))}),0)},o.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){n(new DOMException("Aborted","AbortError"))}),0)},o.open(i.method,function(e){try{return""===e&&global$2.location.href?global$2.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(support.blob?o.responseType="blob":support.arrayBuffer&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof Headers?i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){o.setRequestHeader(e,normalizeValue(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}if(fetch$1.polyfill=!0,global$2.fetch||(global$2.fetch=fetch$1,global$2.Headers=Headers,global$2.Request=Request,global$2.Response=Response),null==Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var e=this.attributes,t=e.length,r=new Array(t),n=0;n<t;n++)r[n]=e[n].name;return r}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),void 0!==window.Element&&!("classList"in document.documentElement)){var prototype=Array.prototype,push=prototype.push,splice=prototype.splice,join$1=prototype.join,DOMTokenList=function(e){this.el=e;for(var t=e.className.replace(/^\s+|\s+$/g,"").split(/\s+/),r=0;r<t.length;r++)push.call(this,t[r])};DOMTokenList.prototype={add:function(e){this.contains(e)||(push.call(this,e),this.el.className=this.toString())},contains:function(e){return-1!=this.el.className.indexOf(e)},item:function(e){return this[e]||null},remove:function(e){if(this.contains(e)){var t;for(t=0;t<this.length&&this[t]!=e;t++);splice.call(this,t,1),this.el.className=this.toString()}},toString:function(){return join$1.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},window.DOMTokenList=DOMTokenList;var defineElementGetter=function(e,t,r){Object.defineProperty?Object.defineProperty(e,t,{get:r}):e.__defineGetter__(t,r)};defineElementGetter(Element.prototype,"classList",(function(){return new DOMTokenList(this)}))}var eventsource={exports:{}},module,exports;module=eventsource,exports=eventsource.exports,function(e){var t=e.setTimeout,r=e.clearTimeout,n=e.XMLHttpRequest,i=e.XDomainRequest,o=e.ActiveXObject,a=e.EventSource,s=e.document,l=e.Promise,c=e.fetch,u=e.Response,d=e.TextDecoder,f=e.TextEncoder,p=e.AbortController;if("undefined"==typeof window||void 0===s||"readyState"in s||null!=s.body||(s.readyState="loading",window.addEventListener("load",(function(e){s.readyState="complete"}),!1)),null==n&&null!=o&&(n=function(){return new o("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==p){var h=c;c=function(e,t){var r=t.signal;return h(e,{headers:t.headers,credentials:t.credentials,cache:t.cache}).then((function(e){var t=e.body.getReader();return r._reader=t,r._aborted&&r._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return t}}}}))},p=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function m(){this.bitsNeeded=0,this.codePoint=0}m.prototype.decode=function(e){function t(e,t,r){if(1===r)return e>=128>>t&&e<<t<=2047;if(2===r)return e>=2048>>t&&e<<t<=55295||e>=57344>>t&&e<<t<=65535;if(3===r)return e>=65536>>t&&e<<t<=1114111;throw new Error}function r(e,t){if(6===e)return t>>6>15?3:t>31?2:1;if(12===e)return t>15?3:2;if(18===e)return 3;throw new Error}for(var n=65533,i="",o=this.bitsNeeded,a=this.codePoint,s=0;s<e.length;s+=1){var l=e[s];0!==o&&(l<128||l>191||!t(a<<6|63&l,o-6,r(o,a)))&&(o=0,a=n,i+=String.fromCharCode(a)),0===o?(l>=0&&l<=127?(o=0,a=l):l>=192&&l<=223?(o=6,a=31&l):l>=224&&l<=239?(o=12,a=15&l):l>=240&&l<=247?(o=18,a=7&l):(o=0,a=n),0===o||t(a,o,r(o,a))||(o=0,a=n)):(o-=6,a=a<<6|63&l),0===o&&(a<=65535?i+=String.fromCharCode(a):(i+=String.fromCharCode(55296+(a-65535-1>>10)),i+=String.fromCharCode(56320+(a-65535-1&1023))))}return this.bitsNeeded=o,this.codePoint=a,i},null!=d&&null!=f&&function(){try{return"test"===(new d).decode((new f).encode("test"),{stream:!0})}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1}()||(d=m);var g=function(){};function y(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=g,this.onload=g,this.onerror=g,this.onreadystatechange=g,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=g}function v(e){return e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))}function b(e){for(var t=Object.create(null),r=e.split("\r\n"),n=0;n<r.length;n+=1){var i=r[n].split(": "),o=i.shift(),a=i.join(": ");t[v(o)]=a}this._map=t}function w(){}function _(e){this._headers=e}function S(){}function C(){this._listeners=Object.create(null)}function E(e){t((function(){throw e}),0)}function $(e){this.type=e,this.target=void 0}function x(e,t){$.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function k(e,t){$.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function O(e,t){$.call(this,e),this.error=t.error}y.prototype.open=function(e,i){this._abort(!0);var o=this,a=this._xhr,s=1,l=0;this._abort=function(e){0!==o._sendTimeout&&(r(o._sendTimeout),o._sendTimeout=0),1!==s&&2!==s&&3!==s||(s=4,a.onload=g,a.onerror=g,a.onabort=g,a.onprogress=g,a.onreadystatechange=g,a.abort(),0!==l&&(r(l),l=0),e||(o.readyState=4,o.onabort(null),o.onreadystatechange())),s=0};var c=function(){if(1===s){var e=0,t="",r=void 0;if("contentType"in a)e=200,t="OK",r=a.contentType;else try{e=a.status,t=a.statusText,r=a.getResponseHeader("Content-Type")}catch(n){e=0,t="",r=void 0}0!==e&&(s=2,o.readyState=2,o.status=e,o.statusText=t,o._contentType=r,o.onreadystatechange())}},u=function(){if(c(),2===s||3===s){s=3;var e="";try{e=a.responseText}catch(e){}o.readyState=3,o.responseText=e,o.onprogress()}},d=function(e,t){if(null!=t&&null!=t.preventDefault||(t={preventDefault:g}),u(),1===s||2===s||3===s){if(s=4,0!==l&&(r(l),l=0),o.readyState=4,"load"===e)o.onload(t);else if("error"===e)o.onerror(t);else{if("abort"!==e)throw new TypeError;o.onabort(t)}o.onreadystatechange()}},f=function(){l=t((function(){f()}),500),3===a.readyState&&u()};"onload"in a&&(a.onload=function(e){d("load",e)}),"onerror"in a&&(a.onerror=function(e){d("error",e)}),"onabort"in a&&(a.onabort=function(e){d("abort",e)}),"onprogress"in a&&(a.onprogress=u),"onreadystatechange"in a&&(a.onreadystatechange=function(e){!function(e){null!=a&&(4===a.readyState?"onload"in a&&"onerror"in a&&"onabort"in a||d(""===a.responseText?"error":"load",e):3===a.readyState?"onprogress"in a||u():2===a.readyState&&c())}(e)}),!("contentType"in a)&&"ontimeout"in n.prototype||(i+=(-1===i.indexOf("?")?"?":"&")+"padding=true"),a.open(e,i,!0),"readyState"in a&&(l=t((function(){f()}),0))},y.prototype.abort=function(){this._abort(!1)},y.prototype.getResponseHeader=function(e){return this._contentType},y.prototype.setRequestHeader=function(e,t){var r=this._xhr;"setRequestHeader"in r&&r.setRequestHeader(e,t)},y.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},y.prototype.send=function(){if("ontimeout"in n.prototype&&("sendAsBinary"in n.prototype||"mozAnon"in n.prototype)||null==s||null==s.readyState||"complete"===s.readyState){var e=this._xhr;"withCredentials"in e&&(e.withCredentials=this.withCredentials);try{e.send(void 0)}catch(e){throw e}}else{var r=this;r._sendTimeout=t((function(){r._sendTimeout=0,r.send()}),4)}},b.prototype.get=function(e){return this._map[v(e)]},null!=n&&null==n.HEADERS_RECEIVED&&(n.HEADERS_RECEIVED=2),w.prototype.open=function(e,t,r,i,o,a,s){e.open("GET",o);var l=0;for(var c in e.onprogress=function(){var t=e.responseText.slice(l);l+=t.length,r(t)},e.onerror=function(e){e.preventDefault(),i(new Error("NetworkError"))},e.onload=function(){i(null)},e.onabort=function(){i(null)},e.onreadystatechange=function(){if(e.readyState===n.HEADERS_RECEIVED){var r=e.status,i=e.statusText,o=e.getResponseHeader("Content-Type"),a=e.getAllResponseHeaders();t(r,i,o,new b(a))}},e.withCredentials=a,s)Object.prototype.hasOwnProperty.call(s,c)&&e.setRequestHeader(c,s[c]);return e.send(),e},_.prototype.get=function(e){return this._headers.get(e)},S.prototype.open=function(e,t,r,n,i,o,a){var s=null,u=new p,f=u.signal,h=new d;return c(i,{headers:a,credentials:o?"include":"same-origin",signal:f,cache:"no-store"}).then((function(e){return s=e.body.getReader(),t(e.status,e.statusText,e.headers.get("Content-Type"),new _(e.headers)),new l((function(e,t){var n=function(){s.read().then((function(t){if(t.done)e(void 0);else{var i=h.decode(t.value,{stream:!0});r(i),n()}})).catch((function(e){t(e)}))};n()}))})).catch((function(e){return"AbortError"===e.name?void 0:e})).then((function(e){n(e)})),{abort:function(){null!=s&&s.cancel(),u.abort()}}},C.prototype.dispatchEvent=function(e){e.target=this;var t=this._listeners[e.type];if(null!=t)for(var r=t.length,n=0;n<r;n+=1){var i=t[n];try{"function"==typeof i.handleEvent?i.handleEvent(e):i.call(this,e)}catch(e){E(e)}}},C.prototype.addEventListener=function(e,t){e=String(e);var r=this._listeners,n=r[e];null==n&&(n=[],r[e]=n);for(var i=!1,o=0;o<n.length;o+=1)n[o]===t&&(i=!0);i||n.push(t)},C.prototype.removeEventListener=function(e,t){e=String(e);var r=this._listeners,n=r[e];if(null!=n){for(var i=[],o=0;o<n.length;o+=1)n[o]!==t&&i.push(n[o]);0===i.length?delete r[e]:r[e]=i}},x.prototype=Object.create($.prototype),k.prototype=Object.create($.prototype),O.prototype=Object.create($.prototype);var T=-1,A=-1,I=/^text\/event\-stream(;.*)?$/i,P=function(e,t){var r=null==e?t:parseInt(e,10);return r!=r&&(r=t),R(r)},R=function(e){return Math.min(Math.max(e,1e3),18e6)},M=function(e,t,r){try{"function"==typeof t&&t.call(e,r)}catch(e){E(e)}};function j(e,o){C.call(this),o=o||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(e,o,a){o=String(o);var s=Boolean(a.withCredentials),l=a.lastEventIdQueryParameterName||"lastEventId",c=R(1e3),u=P(a.heartbeatTimeout,45e3),d="",f=c,p=!1,h=0,m=a.headers||{},g=a.Transport,v=D&&null==g?void 0:new y(null!=g?new g:null!=n&&"withCredentials"in n.prototype||null==i?new n:new i),b=null!=g&&"string"!=typeof g?new g:null==v?new S:new w,_=void 0,C=0,E=T,$="",j="",L="",N="",F=0,B=0,z=0,H=function(t,r,n,i){if(0===E)if(200===t&&null!=n&&I.test(n)){E=1,p=Date.now(),f=c,e.readyState=1;var o=new k("open",{status:t,statusText:r,headers:i});e.dispatchEvent(o),M(e,e.onopen,o)}else{var a="";200!==t?(r&&(r=r.replace(/\s+/g," ")),a="EventSource's response has a status "+t+" "+r+" that is not 200. Aborting the connection."):a="EventSource's response has a Content-Type specifying an unsupported type: "+(null==n?"-":n.replace(/\s+/g," "))+". Aborting the connection.",G(),o=new k("error",{status:t,statusText:r,headers:i}),e.dispatchEvent(o),M(e,e.onerror,o),console.error(a)}},V=function(n){if(1===E){for(var i=-1,o=0;o<n.length;o+=1)(l=n.charCodeAt(o))!=="\n".charCodeAt(0)&&l!=="\r".charCodeAt(0)||(i=o);var a=(-1!==i?N:"")+n.slice(0,i+1);N=(-1===i?N:"")+n.slice(i+1),""!==n&&(p=Date.now(),h+=n.length);for(var s=0;s<a.length;s+=1){var l=a.charCodeAt(s);if(F===A&&l==="\n".charCodeAt(0))F=0;else if(F===A&&(F=0),l==="\r".charCodeAt(0)||l==="\n".charCodeAt(0)){if(0!==F){1===F&&(z=s+1);var m=a.slice(B,z-1),g=a.slice(z+(z<s&&a.charCodeAt(z)===" ".charCodeAt(0)?1:0),s);"data"===m?($+="\n",$+=g):"id"===m?j=g:"event"===m?L=g:"retry"===m?(c=P(g,c),f=c):"heartbeatTimeout"===m&&(u=P(g,u),0!==C&&(r(C),C=t((function(){W()}),u)))}if(0===F){if(""!==$){d=j,""===L&&(L="message");var y=new x(L,{data:$.slice(1),lastEventId:j});if(e.dispatchEvent(y),"open"===L?M(e,e.onopen,y):"message"===L?M(e,e.onmessage,y):"error"===L&&M(e,e.onerror,y),2===E)return}$="",L=""}F=l==="\r".charCodeAt(0)?A:0}else 0===F&&(B=s,F=1),1===F?l===":".charCodeAt(0)&&(z=s+1,F=2):2===F&&(F=3)}}},U=function(n){if(1===E||0===E){E=T,0!==C&&(r(C),C=0),C=t((function(){W()}),f),f=R(Math.min(16*c,2*f)),e.readyState=0;var i=new O("error",{error:n});e.dispatchEvent(i),M(e,e.onerror,i),null!=n&&console.error(n)}},G=function(){E=2,null!=_&&(_.abort(),_=void 0),0!==C&&(r(C),C=0),e.readyState=2},W=function(){if(C=0,E===T){p=!1,h=0,C=t((function(){W()}),u),E=0,$="",L="",j=d,N="",B=0,z=0,F=0;var r=o;if("data:"!==o.slice(0,5)&&"blob:"!==o.slice(0,5)&&""!==d){var n=o.indexOf("?");r=-1===n?o:o.slice(0,n+1)+o.slice(n+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(e,t){return t===l?"":e})),r+=(-1===o.indexOf("?")?"?":"&")+l+"="+encodeURIComponent(d)}var i=e.withCredentials,a={Accept:"text/event-stream"},s=e.headers;if(null!=s)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c]);try{_=b.open(v,H,V,U,r,i,a)}catch(e){throw G(),e}}else if(p||null==_){var f=Math.max((p||Date.now())+u-Date.now(),1);p=!1,C=t((function(){W()}),f)}else U(new Error("No activity within "+u+" milliseconds. "+(0===E?"No response received.":h+" chars received.")+" Reconnecting.")),null!=_&&(_.abort(),_=void 0)};e.url=o,e.readyState=0,e.withCredentials=s,e.headers=m,e._close=G,W()}(this,e,o)}var D=null!=c&&null!=u&&"body"in u.prototype;j.prototype=Object.create(C.prototype),j.prototype.CONNECTING=0,j.prototype.OPEN=1,j.prototype.CLOSED=2,j.prototype.close=function(){this._close()},j.CONNECTING=0,j.OPEN=1,j.CLOSED=2,j.prototype.withCredentials=void 0;var L,N=a;null==n||null!=a&&"withCredentials"in a.prototype||(N=j),L=function(e){e.EventSourcePolyfill=j,e.NativeEventSource=a,e.EventSource=N}(exports),void 0!==L&&(module.exports=L)}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:commonjsGlobal$1:globalThis),void 0===window.EventSource&&(window.EventSource=eventsource.exports.NativeEventSource||eventsource.exports.EventSourcePolyfill),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}}();var classCallCheck={exports:{}};!function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}(classCallCheck);var _classCallCheck=getDefaultExportFromCjs(classCallCheck.exports),createClass={exports:{}};!function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(createClass);var _createClass=getDefaultExportFromCjs(createClass.exports),Url=function(){function e(){var t,r;_classCallCheck(this,e),this.baseUrl=null!==(t=null===(r=window.capp)||void 0===r?void 0:r.baseUrl)&&void 0!==t?t:"/"}return _createClass(e,[{key:"addQueryString",value:function(e,t,r){t=encodeURI(t),r=encodeURI(r);var n=e.split("?"),i="",o=n[0];n.length>1&&(i=n[1]);for(var a,s=i.split("&"),l=s.length;l--;)if((a=s[l].split("="))[0]===t){a[1]=r,s[l]=a.join("=");break}return l<0&&(s[s.length]=[t,r].join("=")),"&"===(i=s.join("&")).substr(0,1)&&(i=i.substr(1)),o+"?"+i}},{key:"replaceParam",value:function(e){for(var t=!0;t;){var r=e.match(/{([\w]*)}/);if(null!==r){var n=r[1],i=null;$("#"+n).length>0&&(i=window.cresenity.value("#"+n)),null===i&&(i=n),e=e.replace("{"+n+"}",i)}else t=!1}return e}}]),e}();function debounce$3(e,t,r){var n;return function(){var i=this,o=arguments,a=function(){n=null,r||e.apply(i,o)},s=r&&!n;clearTimeout(n),n=setTimeout(a,t),s&&e.apply(i,o)}}var toArray={exports:{}},arrayWithHoles={exports:{}};!function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}(arrayWithHoles);var iterableToArray={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(iterableToArray);var unsupportedIterableToArray={exports:{}},arrayLikeToArray={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports}(arrayLikeToArray),function(e){var t=arrayLikeToArray.exports;e.exports=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(unsupportedIterableToArray);var nonIterableRest={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(nonIterableRest),function(e){var t=arrayWithHoles.exports,r=iterableToArray.exports,n=unsupportedIterableToArray.exports,i=nonIterableRest.exports;e.exports=function(e){return t(e)||r(e)||n(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports}(toArray);var _toArray=getDefaultExportFromCjs(toArray.exports);function cresDirectives(e){return new DirectiveManager$1(e)}var DirectiveManager$1=function(){function e(t){_classCallCheck(this,e),this.el=t,this.directives=this.extractTypeModifiersAndValue()}return _createClass(e,[{key:"all",value:function(){return this.directives}},{key:"has",value:function(e){return this.directives.map((function(e){return e.type})).includes(e)}},{key:"missing",value:function(e){return!this.has(e)}},{key:"get",value:function(e){return this.directives.find((function(t){return t.type===e}))}},{key:"extractTypeModifiersAndValue",value:function(){var e=this;return Array.from(this.el.getAttributeNames().filter((function(e){return e.match(new RegExp("cres:"))})).map((function(t){var r=t.replace(new RegExp("cres:"),"").split("."),n=_toArray(r),i=n[0],o=n.slice(1);return new Directive(i,o,t,e.el)})))}}]),e}(),Directive=function(){function Directive(e,t,r,n){_classCallCheck(this,Directive),this.type=e,this.modifiers=t,this.rawName=r,this.el=n,this.eventContext}return _createClass(Directive,[{key:"setEventContext",value:function(e){this.eventContext=e}},{key:"value",get:function(){return this.el.getAttribute(this.rawName)}},{key:"method",get:function(){return this.parseOutMethodAndParams(this.value).method}},{key:"params",get:function(){return this.parseOutMethodAndParams(this.value).params}},{key:"durationOr",value:function(e){var t,r=this.modifiers.find((function(e){return e.match(/([0-9]+)ms/)})),n=this.modifiers.find((function(e){return e.match(/([0-9]+)s/)}));return r?t=Number(r.replace("ms","")):n&&(t=1e3*Number(n.replace("s",""))),t||e}},{key:"parseOutMethodAndParams",value:function parseOutMethodAndParams(rawMethod){var method=rawMethod,params=[],methodAndParamString=method.match(/(.*?)\((.*)\)/);return methodAndParamString&&(this.eventContext,method=methodAndParamString[1],params=eval("(function () {\n                for (var l=arguments.length, p=new Array(l), k=0; k<l; k++) {\n                    p[k] = arguments[k];\n                }\n                return [].concat(p);\n            })(".concat(methodAndParamString[2],")"))),{method:method,params:params}}},{key:"cardinalDirectionOr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right";return this.modifiers.includes("up")?"up":this.modifiers.includes("down")?"down":this.modifiers.includes("left")?"left":this.modifiers.includes("right")?"right":e}}]),Directive}();function walk$1(e,t){if(!1!==t(e))for(var r=e.firstElementChild;r;)walk$1(r,t),r=r.nextElementSibling}function dispatch$1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new CustomEvent(e,{detail:t});return window.dispatchEvent(r),r}function getCsrfToken(){var e=document.head.querySelector('meta[name="csrf-token"]');return e?e.content:window.cresenity_token}var _typeof$2={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(_typeof$2);var _typeof$1=getDefaultExportFromCjs(_typeof$2.exports),rnothtmlwhite=/[^\x20\t\r\n\f]+/g;function stripAndCollapse(e){return(e.match(rnothtmlwhite)||[]).join(" ")}var rhtmlSuffix=/HTML$/i,isXMLDoc=function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!rhtmlSuffix.test(t||r&&r.nodeName||"HTML")},attrHooks={},attr=function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?jQuery.prop(e,t,r):(1===o&&isXMLDoc(e)||(i=attrHooks[t.toLowerCase()]),void 0!==r?null===r?void jQuery.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=e.getAttribute(t))?void 0:n)};function classesToArray(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(rnothtmlwhite)||[]}var getClass=function(e){return e.getAttribute&&e.getAttribute("class")||""},addClass=function e(t,r){var n,i,o,a,s,l;if("function"==typeof r)return e(t.value.call());if((n=classesToArray(r)).length&&(o=getClass(t),i=1===t.nodeType&&" "+stripAndCollapse(o)+" ")){for(s=0;s<n.length;s++)a=n[s],i.indexOf(" "+a+" ")<0&&(i+=a+" ");o!==(l=stripAndCollapse(i))&&t.setAttribute("class",l)}return t},removeClass=function e(t,r){var n,i,o,a,s,l;if("function"==typeof r)return e(t,r.call());if(void 0===r)return attr(t,"class",""),t;if((n=classesToArray(r)).length&&(o=getClass(t),i=1===t.nodeType&&" "+stripAndCollapse(o)+" ")){for(s=0;s<n.length;s++)for(a=n[s];i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");o!==(l=stripAndCollapse(i))&&t.setAttribute("class",l)}return t},hasClass=function(e,t){var r=" "+t+" ";return 1===e.nodeType&&(" "+stripAndCollapse(getClass(e))+" ").indexOf(r)>-1},isJson=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},toggleFullscreen=function(e){e||(e=document.documentElement);var t=document.querySelector("body");hasClass(t,"full-screen")?(removeClass(t,"full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(addClass(t,"full-screen"),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())},initIframeModal=function(){var e=document.getElementById("capp-html-modal");if(void 0!==e&&null!=e)e.innerHTML="";else{var t=document.createElement("iframe");t.style.backgroundColor="#17161A",t.style.borderRadius="5px",t.style.width="100%",t.style.height="100%",(e=document.createElement("div")).id="capp-html-modal",e.style.position="fixed",e.style.width="100vw",e.style.height="100vh",e.style.padding="50px",e.style.backgroundColor="rgba(0, 0, 0, .6)",e.style.zIndex=2e5,e.addEventListener("click",(function(){return hideIframeModal(e)})),e.setAttribute("tabindex",0),e.addEventListener("keydown",(function(t){"Escape"===t.key&&hideIframeModal(e)})),document.body.prepend(e),e.appendChild(t)}return e.firstChild.contentWindow.document.innerHTML="",document.body.style.overflow="hidden",e.focus(),e},showHtmlModal=function(e){isJson(e)&&(e=JSON.parse(e)),"object"===_typeof$1(e)&&(e='<pre style="background-color:#fff">'+(e=JSON.stringify(e,null,4))+"</pre>");var t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach((function(e){return e.setAttribute("target","_top")}));var r=initIframeModal(),n=r.firstChild;return n.contentWindow.document.open(),n.contentWindow.document.write(t.outerHTML),n.contentWindow.document.close(),r},showUrlModal=function(e){var t=initIframeModal();return t.firstChild.src=e,t},hideIframeModal=function(e){void 0===e&&(e=document.getElementById("capp-html-modal")),void 0!==e&&(e.outerHTML="",document.body.style.overflow="visible")};function kebabCase$1(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}var mergeOptions$1=function e(t,r){var n=r;for(var i in t)n.hasOwnProperty(i)?null!==t[i]&&t[i].constructor===Object&&(n[i]=e(t[i],n[i])):n[i]=t[i];return n},CF=function(){function e(){var t=this;_classCallCheck(this,e),this.required=void 0===this.required?[]:this.required,this.cssRequired=void 0===this.cssRequired?[]:this.cssRequired,this.window=window,this.document=window.document,this.head=this.document.getElementsByTagName("head")[0],this.beforeInitCallback=[],this.afterInitCallback=[];var r=window.capp;void 0===r&&(r={});this.config=mergeOptions$1({baseUrl:"/",defaultJQueryUrl:"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js",haveScrollToTop:!1,vscode:{liveReload:{enable:!1,protocol:"ws",host:"localhost",port:3717}},requireJs:!1,CFVersion:"1.2",isProduction:!1,react:{enable:!1}},r),this.config.cssUrl&&this.config.cssUrl.forEach((function(e){t.required.push(e)})),this.config.jsUrl&&this.config.jsUrl.forEach((function(e){t.required.push(e)}))}return _createClass(e,[{key:"debug",value:function(e){this.getConfig().debug&&window.console.log(e)}},{key:"onBeforeInit",value:function(e){return this.beforeInitCallback.push(e),this}},{key:"onAfterInit",value:function(e){return this.afterInitCallback.push(e),this}},{key:"getConfig",value:function(){return this.config}},{key:"isUseRequireJs",value:function(){return this.getConfig().requireJs}},{key:"CFVersion",value:function(){return this.getConfig().CFVersion}},{key:"requireCss",value:function(e,t){var r=this;if(~this.cssRequired.indexOf(e))"function"==typeof t&&t();else{if(this.cssRequired.push(e),null!==document.querySelector('link[href="'+e+'"],script[src="'+e+'"]'))return;var n,i="<link rel='stylesheet' type='text/css' href='"+e+"' />";if("loading"===document.readyState&&window.CanvasRenderingContext2D&&self===parent)document.write(i);else(n=this.document.createElement("link")).rel="stylesheet",n.type="text/css",n.href=e,"function"==typeof t&&(n.onload=t,n.onreadystatechange=function(){"complete"==r.readyState&&t()}),this.head.appendChild(n)}}},{key:"requireJs",value:function(e,t){if("string"!=typeof e&&(e=e[0]),e){var r=~this.required.indexOf(e);if(r||(r=null!==document.querySelector('link[href="'+e+'"],script[src="'+e+'"]')),r)"function"==typeof t&&t();else{this.required.push(e);var n,i="<script type='text/javascript'  src='"+e+"'><\/script>";if("loading"===document.readyState&&window.CanvasRenderingContext2D&&self===parent)document.write(i),t();else(n=this.document.createElement("script")).src=e,n.setAttribute("type","text/javascript"),"function"==typeof t&&n.addEventListener("load",(function(){dispatch$1("cresenity:js:loaded",{url:e}),t()})),this.document.body.appendChild(n)}}else"function"==typeof t&&t()}},{key:"require",value:function(e,t){if("string"!=typeof e&&(e=e[0]),e){var r=e.trim(),n="js",i=new URL(r,document.baseURI);i&&(n=i.pathname.split(".").pop()),"js"==n&&this.requireJs(r,t),"css"==n&&this.requireCss(r,t)}}},{key:"isProduction",value:function(){return"production"==this.config.environment}},{key:"loadReact",value:function(e){var t,r=this,n=function(){dispatch$1("cresenity:react:loaded"),e()},i=this.getConfig().isProduction?"https://unpkg.com/react@17/umd/react.production.min.js":"https://unpkg.com/react@17/umd/react.development.js",o=this.getConfig().isProduction?"https://unpkg.com/react-dom@17/umd/react-dom.production.min.js":"https://unpkg.com/react-dom@17/umd/react-dom.development.js";"undefined"==typeof React?((t=r.document.createElement("script")).setAttribute("type","text/javascript"),t.setAttribute("src",i),"function"==typeof e&&(t.onload=function(){!function(){var t=r.document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",o),"function"==typeof e&&(t.onload=function(){n()}),r.head.appendChild(t)}()}),r.head.appendChild(t)):n()}},{key:"loadJQuery",value:function(e){var t=this,r=this.getConfig().defaultJQueryUrl,n=function(){t.required.push(r),dispatch$1("cresenity:jquery:loaded"),e()};if("undefined"==typeof jQuery){var i=this.document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",r),"function"==typeof e&&(i.onload=function(){n()}),this.head.appendChild(i)}else n()}},{key:"init",value:function(){var e=this;this.beforeInitCallback.forEach((function(e){e()}));var t=this.getConfig().jsUrl,r=this.getConfig().cssUrl;void 0!==t&&t.forEach((function(t){e.required.push(t)})),void 0!==r&&r.forEach((function(t){e.cssRequired.push(t)})),(this.getConfig().react.enable?function(t){e.loadJQuery((function(){e.loadReact(t)}))}:function(t){e.loadJQuery(t)})((function(){e.afterInitCallback.forEach((function(e){e()}))}))}}]),e}(),cf=new CF,ScrollToTop=function(){function e(){_classCallCheck(this,e),this.setting={startline:100,scrollto:0,scrollduration:1e3,fadeduration:[500,100]},this.controlHTML=cf.config.scrollToTopHtml||'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAqCAYAAAAeeGN5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM2RTVENEJCODY3RTExRTI5MTFEQzg2NjQyQ0VGQzhDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM2RTVENEJDODY3RTExRTI5MTFEQzg2NjQyQ0VGQzhDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzZFNUQ0Qjk4NjdFMTFFMjkxMURDODY2NDJDRUZDOEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzZFNUQ0QkE4NjdFMTFFMjkxMURDODY2NDJDRUZDOEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Mw5vNAAAAkUlEQVR42uzYoRGAMBBEUbKKlqAKKAKKogm6oCWQTAQawd0lE/5Xa5/dNEzL2TWSuoYCAwYMGDBgwIAB8zPMsW99E5gMGef1igApApJ3BEgRkCdvkKIgESBFQrxBioZ4glQC4gVSKYgHSCUh1iCVhliCVAPECqRaIBYg1QT5Ckp8zWDAgAEDBgwYMGDAvHQLMACw9mxL+kYUJQAAAABJRU5ErkJggg==" style="width:51px; height:42px" />',this.controlattrs={offsetx:5,offsety:5},this.anchorkeyword="#top",this.state={isvisible:!1,shouldvisible:!1},this.keepfixed=function(){var e=jQuery(window),t=e.scrollLeft()+e.width()-this.$control.width()-this.controlattrs.offsetx,r=e.scrollTop()+e.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:t+"px",top:r+"px"})},this.togglecontrol=function(){var e=jQuery(window).scrollTop();this.cssfixedsupport||this.keepfixed(),this.state.shouldvisible=e>=this.setting.startline,this.state.shouldvisible&&!this.state.isvisible?(this.$control.stop().animate({opacity:1,zIndex:99999},this.setting.fadeduration[0]),this.state.isvisible=!0):!1===this.state.shouldvisible&&this.state.isvisible&&(this.$control.stop().animate({opacity:0,zIndex:-1},this.setting.fadeduration[1]),this.state.isvisible=!1)},this.init=function(){var e=this;jQuery(document).ready((function(t){var r=e,n=document.all;r.cssfixedsupport=!n||n&&"CSS1Compat"===document.compatMode&&window.XMLHttpRequest,r.$body=window.opera?"CSS1Compat"===document.compatMode?t("html"):t("body"):t("html,body"),r.$control=t('<div id="cres-topcontrol">'+r.controlHTML+"</div>").css({position:r.cssfixedsupport?"fixed":"absolute",bottom:r.controlattrs.offsety,right:r.controlattrs.offsetx,opacity:0,cursor:"pointer",zIndex:99999}).attr({title:"Scroll Back to Top"}).click((function(){return r.scrollup(),!1})).appendTo("body"),document.all&&!window.XMLHttpRequest&&""!==r.$control.text()&&r.$control.css({width:r.$control.width()}),r.togglecontrol(),t('a[href="'+r.anchorkeyword+'"]').click((function(){return r.scrollup(),!1})),t(window).bind("scroll resize",(function(){r.togglecontrol()}))}))}}return _createClass(e,[{key:"scrollup",value:function(){this.cssfixedsupport||this.$control.css({opacity:0,zIndex:-1});var e=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);e="string"==typeof e&&1==jQuery("#"+e).length?jQuery("#"+e).offset().top:0,this.$body.animate({scrollTop:e},this.setting.scrollduration)}}]),e}(),isobject=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)};const isObject$1=isobject;var getValue=function(e,t,r){if(isObject$1(r)||(r={default:r}),!isValidObject(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));const n=Array.isArray(t),i="string"==typeof t,o=r.separator||".",a=r.joinChar||("string"==typeof o?o:".");if(!i&&!n)return e;if(i&&t in e)return isValid(t,e,r)?e[t]:r.default;let s=n?t:split(t,o,r),l=s.length,c=0;do{let t=s[c];for("number"==typeof t&&(t=String(t));t&&"\\"===t.slice(-1);)t=join([t.slice(0,-1),s[++c]||""],a,r);if(t in e){if(!isValid(t,e,r))return r.default;e=e[t]}else{let n=!1,i=c+1;for(;i<l;)if(t=join([t,s[i++]],a,r),n=t in e){if(!isValid(t,e,r))return r.default;e=e[t],c=i-1;break}if(!n)return r.default}}while(++c<l&&isValidObject(e));return c===l?e:r.default};function join(e,t,r){return"function"==typeof r.join?r.join(e):e[0]+t+e[1]}function split(e,t,r){return"function"==typeof r.split?r.split(e):e.split(t)}function isValid(e,t,r){return"function"!=typeof r.isValid||r.isValid(e,t)}function isValidObject(e){return isObject$1(e)||Array.isArray(e)||"function"==typeof e}var toConsumableArray={exports:{}},arrayWithoutHoles={exports:{}};!function(e){var t=arrayLikeToArray.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(arrayWithoutHoles);var nonIterableSpread={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(nonIterableSpread),function(e){var t=arrayWithoutHoles.exports,r=iterableToArray.exports,n=unsupportedIterableToArray.exports,i=nonIterableSpread.exports;e.exports=function(e){return t(e)||r(e)||n(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports}(toConsumableArray);var _toConsumableArray=getDefaultExportFromCjs(toConsumableArray.exports),slicedToArray={exports:{}},iterableToArrayLimit={exports:{}};!function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports}(iterableToArrayLimit),function(e){var t=arrayWithHoles.exports,r=iterableToArrayLimit.exports,n=unsupportedIterableToArray.exports,i=nonIterableRest.exports;e.exports=function(e,o){return t(e)||r(e,o)||n(e,o)||i()},e.exports.__esModule=!0,e.exports.default=e.exports}(slicedToArray);var _slicedToArray=getDefaultExportFromCjs(slicedToArray.exports),inherits={exports:{}},setPrototypeOf={exports:{}};!function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(setPrototypeOf),function(e){var t=setPrototypeOf.exports;e.exports=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&t(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports}(inherits);var _inherits=getDefaultExportFromCjs(inherits.exports),possibleConstructorReturn={exports:{}},assertThisInitialized={exports:{}};!function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}(assertThisInitialized),function(e){var t=_typeof$2.exports.default,r=assertThisInitialized.exports;e.exports=function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(possibleConstructorReturn);var _possibleConstructorReturn=getDefaultExportFromCjs(possibleConstructorReturn.exports),getPrototypeOf={exports:{}};!function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(getPrototypeOf);var _getPrototypeOf=getDefaultExportFromCjs(getPrototypeOf.exports),_default$6=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,e),this.el=t,this.skipWatcher=r,this.resolveCallback=function(){},this.rejectCallback=function(){}}return _createClass(e,[{key:"toId",value:function(){return btoa(encodeURIComponent(this.el.outerHTML))}},{key:"onResolve",value:function(e){this.resolveCallback=e}},{key:"onReject",value:function(e){this.rejectCallback=e}},{key:"resolve",value:function(e){this.resolveCallback(e)}},{key:"reject",value:function(e){this.rejectCallback(e)}}]),e}();function _createSuper$d(e){var t=_isNativeReflectConstruct$d();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _default$5=function(e){_inherits(r,e);var t=_createSuper$d(r);function r(e,n,i){var o;return _classCallCheck(this,r),(o=t.call(this,i)).type="fireEvent",o.payload={event:e,params:n},o}return _createClass(r,[{key:"toId",value:function(){return btoa(encodeURIComponent(this.type,this.payload.event,JSON.stringify(this.payload.params)))}}]),r}(_default$6),MessageBus=function(){function e(){_classCallCheck(this,e),this.listeners={}}return _createClass(e,[{key:"register",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"unregister",value:function(e,t){t||(this.listeners[e]=[]);var r=this.listeners[e].indexOf(t);r>-1&&this.listeners[e].splice(r,1)}},{key:"call",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e]||[]).forEach((function(e){e.apply(void 0,r)}))}},{key:"has",value:function(e){return Object.keys(this.listeners).includes(e)}}]),e}(),HookManager={availableHooks:["component.initialized","element.initialized","element.updating","element.updated","element.removed","message.sent","message.failed","message.received","message.processed","interceptWireModelSetValue","interceptWireModelAttachListener","beforeReplaceState","beforePushState"],bus:new MessageBus,register:function(e,t){if(!this.availableHooks.includes(e))throw Error("Cresenity: Referencing unknown hook: [".concat(e,"]"));this.bus.register(e,t)},call:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(t=this.bus).call.apply(t,[e].concat(n))}},DirectiveManager={directives:new MessageBus,register:function(e,t){if(this.has(e))throw Error("Cresenity: Directive already registered: [".concat(e,"]"));this.directives.register(e,t)},call:function(e,t,r,n){this.directives.call(e,t,r,n)},has:function(e){return this.directives.has(e)}},store$1={componentsById:{},listeners:new MessageBus,initialRenderIsFinished:!1,cresenityIsInBackground:!1,cresenityIsOffline:!1,sessionHasExpired:!1,directives:DirectiveManager,hooks:HookManager,onErrorCallback:function(){},components:function(){var e=this;return Object.keys(this.componentsById).map((function(t){return e.componentsById[t]}))},addComponent:function(e){return this.componentsById[e.id]=e},findComponent:function(e){return this.componentsById[e]},getComponentsByName:function(e){return this.components().filter((function(t){return t.name===e}))},hasComponent:function(e){return!!this.componentsById[e]},tearDownComponents:function(){var e=this;this.components().forEach((function(t){e.removeComponent(t)}))},on:function(e,t){this.listeners.register(e,t)},off:function(e,t){this.listeners.unregister(e,t)},emit:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(t=this.listeners).call.apply(t,[e].concat(n)),this.componentsListeningForEvent(e).forEach((function(t){return t.addAction(new _default$5(e,n))}))},emitUp:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];this.componentsListeningForEventThatAreTreeAncestors(e,t).forEach((function(e){return e.addAction(new _default$5(t,n))}))},emitSelf:function(e,t){var r=this.findComponent(e);if(r.listeners.includes(t)){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];r.addAction(new _default$5(t,i))}},emitTo:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=this.getComponentsByName(e);o.forEach((function(e){e.listeners.includes(t)&&e.addAction(new _default$5(t,n))}))},componentsListeningForEventThatAreTreeAncestors:function(e,t){for(var r=[],n=e.parentElement.closest("[cres\\:id]");n;)r.push(n.getAttribute("cres:id")),n=n.parentElement.closest("[cres\\:id]");return this.components().filter((function(e){return e.listeners.includes(t)&&r.includes(e.id)}))},componentsListeningForEvent:function(e){return this.components().filter((function(t){return t.listeners.includes(e)}))},registerDirective:function(e,t){this.directives.register(e,t)},registerHook:function(e,t){this.hooks.register(e,t)},callHook:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(t=this.hooks).call.apply(t,[e].concat(n))},changeComponentId:function(e,t){var r=e.id;e.id=t,e.fingerprint.id=t,this.componentsById[t]=e,delete this.componentsById[r],this.components().forEach((function(e){var n=e.serverMemo.children||{};Object.entries(n).forEach((function(e){var i=_slicedToArray(e,2),o=i[0],a=i[1],s=a.id;a.tagName,s===r&&(n[o].id=t)}))}))},removeComponent:function(e){e.tearDown(),delete this.componentsById[e.id]},onError:function(e){this.onErrorCallback=e},getClosestParentId:function(e,t){var r=this,n={};t.forEach((function(t){var i=r.getDistanceToChild(t,e);i&&(n[t]=i)}));var i,o=Math.min.apply(Math,_toConsumableArray(Object.values(n)));return Object.entries(n).forEach((function(e){var t=_slicedToArray(e,2),r=t[0];t[1]===o&&(i=r)})),i},getDistanceToChild:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.findComponent(e);if(n){var i=n.childIds;if(i.includes(t))return r;for(var o=0;o<i.length;o++){var a=this.getDistanceToChild(i[o],t,r+1);if(a)return a}}}},DOM={rootComponentElements:function(){return Array.from(document.querySelectorAll("[cres\\:id]"))},rootComponentElementsWithNoParents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=document);var t=Array.from(e.querySelectorAll("[cres\\:initial-data]")),r=Array.from(e.querySelectorAll("[cres\\:initial-data] [cres\\:initial-data]"));return t.filter((function(e){return!r.includes(e)}))},allModelElementsInside:function(e){return Array.from(e.querySelectorAll("[cres\\:model]"))},getByAttributeAndValue:function(e,t){return document.querySelector("[cres\\:".concat(e,'="').concat(t,'"]'))},nextFrame:function(e){var t=this;requestAnimationFrame((function(){requestAnimationFrame(e.bind(t))}))},closestRoot:function(e){return this.closestByAttribute(e,"id")},closestByAttribute:function(e,t){var r=e.closest("[cres\\:".concat(t,"]"));if(!r)throw"\nCresenity Error:\n\nCannot find parent element in DOM tree containing attribute: [cres:".concat(t,"].\n\nUsually this is caused by Cresenity's DOM-differ not being able to properly track changes.\n\nReference the following guide for common causes: https://laravel-cresenity.com/docs/troubleshooting \n\nReferenced element:\n\n").concat(e.outerHTML,"\n");return r},isComponentRootEl:function(e){return this.hasAttribute(e,"id")},hasAttribute:function(e,t){return e.hasAttribute("cres:".concat(t))},getAttribute:function(e,t){return e.getAttribute("cres:".concat(t))},removeAttribute:function(e,t){return e.removeAttribute("cres:".concat(t))},setAttribute:function(e,t,r){return e.setAttribute("cres:".concat(t),r)},hasFocus:function(e){return e===document.activeElement},isInput:function(e){return["INPUT","TEXTAREA","SELECT"].includes(e.tagName.toUpperCase())},isTextInput:function(e){return["INPUT","TEXTAREA"].includes(e.tagName.toUpperCase())&&!["checkbox","radio"].includes(e.type)},valueFromInput:function(e,t){if("checkbox"===e.type){var r=cresDirectives(e).get("model").value,n=t.deferredActions[r]?t.deferredActions[r].payload.value:getValue(t.data,r);return Array.isArray(n)?this.mergeCheckboxValueIntoArray(e,n):!!e.checked&&(e.getAttribute("value")||!0)}return"SELECT"===e.tagName&&e.multiple?this.getSelectValues(e):e.value},mergeCheckboxValueIntoArray:function(e,t){return e.checked?t.includes(e.value)?t:t.concat(e.value):t.filter((function(t){return t!==e.value}))},setInputValueFromModel:function(e,t){var r=cresDirectives(e).get("model").value,n=getValue(t.data,r);"input"===e.tagName.toLowerCase()&&"file"===e.type||this.setInputValue(e,n)},setInputValue:function(e,t){if(store$1.callHook("interceptWireModelSetValue",t,e),"radio"===e.type)e.checked=e.value==t;else if("checkbox"===e.type)if(Array.isArray(t)){var r=!1;t.forEach((function(t){t==e.value&&(r=!0)})),e.checked=r}else e.checked=!!t;else"SELECT"===e.tagName?this.updateSelect(e,t):(t=void 0===t?"":t,e.value=t)},getSelectValues:function(e){return Array.from(e.options).filter((function(e){return e.selected})).map((function(e){return e.value||e.text}))},updateSelect:function(e,t){var r=[].concat(t).map((function(e){return e+""}));Array.from(e.options).forEach((function(e){e.selected=r.includes(e.value)}))}},Connection=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"onMessage",value:function(e,t){e.component.receiveMessage(e,t)}},{key:"onError",value:function(e,t){return e.component.messageSendFailed(),store$1.onErrorCallback(t)}},{key:"sendMessage",value:function(e){var t=this,r=e.payload();if(window.__testing_request_interceptor)return window.__testing_request_interceptor(r,this);fetch("".concat(window.capp.baseUrl,"cresenity/component/message/").concat(r.fingerprint.name),{method:"POST",body:JSON.stringify(r),credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"text/html, application/xhtml+xml","X-CSRF-TOKEN":getCsrfToken(),"X-Socket-ID":this.getSocketId(),"X-Cresenity":!0,Referer:window.location.href}}).then((function(r){if(r.ok)r.text().then((function(r){t.isOutputFromDump(r)?(t.onError(e),showHtmlModal(r)):t.onMessage(e,JSON.parse(r))}));else{if(!1===t.onError(e,r.status))return;if(419===r.status){if(store$1.sessionHasExpired)return;store$1.sessionHasExpired=!0,confirm("This page has expired due to inactivity.\nWould you like to refresh the page?")&&window.location.reload()}else r.text().then((function(e){showHtmlModal(e)}))}})).catch((function(){t.onError(e)}))}},{key:"isOutputFromDump",value:function(e){return!!e.match(/<script>Sfdump\(".+"\)<\/script>/)}},{key:"getSocketId",value:function(){if(void 0!==window.Echo)return window.Echo.socketId()}}]),e}();function _createSuper$c(e){var t=_isNativeReflectConstruct$c();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _default$4=function(e){_inherits(r,e);var t=_createSuper$c(r);function r(e,n,i){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _classCallCheck(this,r),(o=t.call(this,i,a)).type="callMethod",o.method=e,o.payload={method:e,params:n},o}return r}(_default$6);function Polling(){store$1.registerHook("element.initialized",(function(e,t){if(!cresDirectives(e).missing("poll")){var r=fireActionOnInterval(e,t);t.addListenerForTeardown((function(){clearInterval(r)})),e.__cresenity_polling_interval=r}})),store$1.registerHook("element.updating",(function(e,t,r){void 0===e.__cresenity_polling_interval&&cresDirectives(e).missing("poll")&&cresDirectives(t).has("poll")&&setTimeout((function(){var t=fireActionOnInterval(e,r);r.addListenerForTeardown((function(){clearInterval(t)})),e.__cresenity_polling_interval=t}),0)}))}function fireActionOnInterval(e,t){var r=cresDirectives(e).get("poll").durationOr(2e3);return setInterval((function(){if(!1!==e.isConnected){var r=cresDirectives(e);if(!r.missing("poll")){var n=r.get("poll"),i=n.method||"$refresh";store$1.cresenityIsInBackground&&!n.modifiers.includes("keep-alive")&&Math.random()<.95||store$1.cresenityIsOffline||t.addAction(new _default$4(i,n.params,e))}}}),r)}var _default$3=function(){function e(t,r){_classCallCheck(this,e),this.component=t,this.updateQueue=r}return _createClass(e,[{key:"payload",value:function(){return{fingerprint:this.component.fingerprint,serverMemo:this.component.serverMemo,updates:this.updateQueue.map((function(e){return{type:e.type,payload:e.payload}}))}}},{key:"shouldSkipWatcherForDataKey",value:function(e){if(this.response.effects.dirty.includes(e))return!1;return this.updateQueue.filter((function(t){return r=t.name,n=e,"string"==typeof r&&"string"==typeof n&&r.split(".")[0]===n.split(".")[0];var r,n})).some((function(e){return e.skipWatcher}))}},{key:"storeResponse",value:function(e){return this.response=e}},{key:"resolve",value:function(){var e=this.response.effects.returns||[];this.updateQueue.forEach((function(t){"callMethod"===t.type&&t.resolve(void 0!==e[t.method]?e[t.method]:null)}))}},{key:"reject",value:function(){this.updateQueue.forEach((function(e){e.reject()}))}}]),e}();function _createSuper$b(e){var t=_isNativeReflectConstruct$b();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _default$2=function(e){_inherits(r,e);var t=_createSuper$b(r);function r(e,n){return _classCallCheck(this,r),t.call(this,e,[n])}return _createClass(r,[{key:"prefetchId",get:function(){return this.updateQueue[0].toId()}}]),r}(_default$3),range;function morphAttrs(e,t){var r,n,i,o,a,s=t.attributes;for(r=s.length-1;r>=0;--r)i=(n=s[r]).name,o=n.namespaceURI,a=n.value,o?(i=n.localName||i,e.getAttributeNS(o,i)!==a&&("xmlns"===n.prefix&&(i=n.name),e.setAttributeNS(o,i,a))):e.getAttribute(i)!==a&&e.setAttribute(i,a);for(r=(s=e.attributes).length-1;r>=0;--r)!1!==(n=s[r]).specified&&(i=n.name,(o=n.namespaceURI)?(i=n.localName||i,t.hasAttributeNS(o,i)||e.removeAttributeNS(o,i)):t.hasAttribute(i)||e.removeAttribute(i))}var NS_XHTML="http://www.w3.org/1999/xhtml",doc="undefined"==typeof document?void 0:document,HAS_TEMPLATE_SUPPORT=!!doc&&"content"in doc.createElement("template"),HAS_RANGE_SUPPORT=!!doc&&doc.createRange&&"createContextualFragment"in doc.createRange();function createFragmentFromTemplate(e){var t=doc.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}function createFragmentFromRange(e){return range||(range=doc.createRange()).selectNode(doc.body),range.createContextualFragment(e).childNodes[0]}function createFragmentFromWrap(e){var t=doc.createElement("body");return t.innerHTML=e,t.childNodes[0]}function toElement(e){return e=e.trim(),HAS_TEMPLATE_SUPPORT?createFragmentFromTemplate(e):HAS_RANGE_SUPPORT?createFragmentFromRange(e):createFragmentFromWrap(e)}function compareNodeNames(e,t){var r=e.nodeName,n=t.nodeName;return r===n||!!(t.actualize&&r.charCodeAt(0)<91&&n.charCodeAt(0)>90)&&r===n.toUpperCase()}function createElementNS(e,t){return t&&t!==NS_XHTML?doc.createElementNS(t,e):doc.createElement(e)}function moveChildren(e,t){for(var r=e.firstChild;r;){var n=r.nextSibling;t.appendChild(r),r=n}return t}function syncBooleanAttrProp(e,t,r){e[r]!==t[r]&&(e[r]=t[r],e[r]?e.setAttribute(r,""):e.removeAttribute(r))}var specialElHandlers={OPTION:function(e,t){var r=e.parentNode;if(r){var n=r.nodeName.toUpperCase();"OPTGROUP"===n&&(n=(r=r.parentNode)&&r.nodeName.toUpperCase()),"SELECT"!==n||r.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),r.selectedIndex=-1)}syncBooleanAttrProp(e,t,"selected")},INPUT:function(e,t){syncBooleanAttrProp(e,t,"checked"),syncBooleanAttrProp(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var r=t.value;e.value!==r&&(e.value=r);var n=e.firstChild;if(n){var i=n.nodeValue;if(i==r||!r&&i==e.placeholder)return;n.nodeValue=r}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var r,n,i=-1,o=0,a=e.firstChild;a;)if("OPTGROUP"===(n=a.nodeName&&a.nodeName.toUpperCase()))a=(r=a).firstChild;else{if("OPTION"===n){if(a.hasAttribute("selected")){i=o;break}o++}!(a=a.nextSibling)&&r&&(a=r.nextSibling,r=null)}e.selectedIndex=i}}},ELEMENT_NODE=1,DOCUMENT_FRAGMENT_NODE=11,TEXT_NODE=3,COMMENT_NODE=8;function noop$1(){}function defaultGetNodeKey(e){return e.id}function callHook(e){"getNodeKey"!==e.name&&e.name;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if("function"==typeof r[0].hasAttribute)return e.apply(void 0,r)}function morphdomFactory(e){return function(t,r,n){if(n||(n={}),"string"==typeof r)if("#document"===t.nodeName||"HTML"===t.nodeName){var i=r;(r=doc.createElement("html")).innerHTML=i}else r=toElement(r);var o=n.getNodeKey||defaultGetNodeKey,a=n.onBeforeNodeAdded||noop$1,s=n.onNodeAdded||noop$1,l=n.onBeforeElUpdated||noop$1,c=n.onElUpdated||noop$1,u=n.onBeforeNodeDiscarded||noop$1,d=n.onNodeDiscarded||noop$1,f=n.onBeforeElChildrenUpdated||noop$1,p=!0===n.childrenOnly,h=Object.create(null),m=[];function g(e){m.push(e)}function y(e,t){if(e.nodeType===ELEMENT_NODE)for(var r=e.firstChild;r;){var n=void 0;t&&(n=callHook(o,r))?g(n):(callHook(d,r),r.firstChild&&y(r,t)),r=r.nextSibling}}function v(e,t,r){!1!==callHook(u,e)&&(t&&t.removeChild(e),callHook(d,e),y(e,r))}function b(e){if(callHook(s,e),!e.skipAddingChildren)for(var t=e.firstChild;t;){var r=t.nextSibling,n=callHook(o,t);if(n){var i=h[n];i&&compareNodeNames(t,i)&&(t.parentNode.replaceChild(i,t),w(i,t),t=i)}b(t),t=r}}function w(t,r,n){var i=callHook(o,r);if(i&&delete h[i],!n){if(!1===callHook(l,t,r))return;if(t.skipElUpdatingButStillUpdateChildren||e(t,r),callHook(c,t),!1===callHook(f,t,r))return}"TEXTAREA"!==t.nodeName?function(e,t){var r,n,i,s,l,c=t.firstChild,u=e.firstChild;e:for(;c;){for(s=c.nextSibling,r=callHook(o,c);u;){if(i=u.nextSibling,c.isSameNode&&c.isSameNode(u)){c=s,u=i;continue e}n=callHook(o,u);var d=u.nodeType,f=void 0;if(d===c.nodeType&&(d===ELEMENT_NODE?(r?r!==n&&((l=h[r])?i===l?f=!1:(e.insertBefore(l,u),n?g(n):v(u,e,!0),u=l):f=!1):n&&(f=!1),(f=!1!==f&&compareNodeNames(u,c))&&(!c.isEqualNode(u)&&c.nextElementSibling&&c.nextElementSibling.isEqualNode(u)?f=!1:w(u,c))):d!==TEXT_NODE&&d!=COMMENT_NODE||(f=!0,u.nodeValue!==c.nodeValue&&(u.nodeValue=c.nodeValue))),f){c=s,u=i;continue e}if(c.nextElementSibling&&c.nextElementSibling.isEqualNode(u)){var p=c.cloneNode(!0);e.insertBefore(p,u),b(p),c=c.nextElementSibling.nextSibling,u=i;continue e}n?g(n):v(u,e,!0),u=i}if(r&&(l=h[r])&&compareNodeNames(l,c))e.appendChild(l),w(l,c);else{var m=callHook(a,c);!1!==m&&(m&&(c=m),c.actualize&&(c=c.actualize(e.ownerDocument||doc)),e.appendChild(c),b(c))}c=s,u=i}!function(e,t,r){for(;t;){var n=t.nextSibling;(r=callHook(o,t))?g(r):v(t,e,!0),t=n}}(e,u,n);var y=specialElHandlers[e.nodeName];y&&!e.isCresenityModel&&y(e,t)}(t,r):t.innerHTML!=r.innerHTML&&specialElHandlers.TEXTAREA(t,r)}!function e(t){if(t.nodeType===ELEMENT_NODE||t.nodeType===DOCUMENT_FRAGMENT_NODE)for(var r=t.firstChild;r;){var n=callHook(o,r);n&&(h[n]=r),e(r),r=r.nextSibling}}(t);var _=t,S=_.nodeType,C=r.nodeType;if(!p)if(S===ELEMENT_NODE)C===ELEMENT_NODE?compareNodeNames(t,r)||(callHook(d,t),_=moveChildren(t,createElementNS(r.nodeName,r.namespaceURI))):_=r;else if(S===TEXT_NODE||S===COMMENT_NODE){if(C===S)return _.nodeValue!==r.nodeValue&&(_.nodeValue=r.nodeValue),_;_=r}if(_===r)callHook(d,t);else{if(r.isSameNode&&r.isSameNode(_))return;if(w(_,r,p),m)for(var E=0,$=m.length;E<$;E++){var x=h[m[E]];x&&v(x,x.parentNode,!1)}}return!p&&_!==t&&t.parentNode&&(_.actualize&&(_=_.actualize(t.ownerDocument||doc)),t.parentNode.replaceChild(_,t)),_}}var morphdom=morphdomFactory(morphAttrs);function _createSuper$a(e){var t=_isNativeReflectConstruct$a();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _default$1=function(e){_inherits(r,e);var t=_createSuper$a(r);function r(e,n,i){var o;return _classCallCheck(this,r),(o=t.call(this,i)).type="syncInput",o.name=e,o.payload={name:e,value:n},o}return r}(_default$6);function _createSuper$9(e){var t=_isNativeReflectConstruct$9();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$9(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _default=function(e){_inherits(r,e);var t=_createSuper$9(r);function r(e,n,i){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _classCallCheck(this,r),(o=t.call(this,i,a)).type="syncInput",o.name=e,o.payload={name:e,value:n},o}return r}(_default$6),nodeInitializer={initialize:function initialize(el,component){var _this=this;if(store$1.initialRenderIsFinished&&"script"===el.tagName.toLowerCase())return eval(el.innerHTML),!1;cresDirectives(el).all().forEach((function(e){switch(e.type){case"init":_this.fireActionRightAway(el,e,component);break;case"model":DOM.setInputValueFromModel(el,component),_this.attachModelListener(el,e,component);break;default:store$1.directives.has(e.type)&&store$1.directives.call(e.type,el,e,component),_this.attachDomListener(el,e,component)}})),store$1.callHook("element.initialized",el,component)},fireActionRightAway:function(e,t,r){var n=t.value?t.method:"$refresh";r.addAction(new _default$4(n,t.params,e))},attachModelListener:function(e,t,r){e.isCresenityModel=!0;var n=t.modifiers.includes("lazy"),i=t.modifiers.includes("debounce");if(store$1.callHook("interceptWireModelAttachListener",t,e,r),"input"!==e.tagName.toLowerCase()||"file"!==e.type){var o,a,s,l="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.modifiers.includes("lazy")?"change":"input",c=(o=i||DOM.isTextInput(e)&&(!n||!e.wasRecentlyAutofilled),a=function(e){var n=t.value,i=e.target,o=e instanceof CustomEvent&&void 0!==e.detail&&void 0===window.document.documentMode?e.detail:DOM.valueFromInput(i,r);i.wasRecentlyAutofilled&&e instanceof CustomEvent&&null===e.detail&&(o=DOM.valueFromInput(i,r)),t.modifiers.includes("defer")?r.addAction(new _default(n,o,i)):r.addAction(new _default$1(n,o,i))},s=t.durationOr(150),o?r.modelSyncDebounce(a,s):a);e.addEventListener(l,c),r.addListenerForTeardown((function(){e.removeEventListener(l,c)})),e.addEventListener("animationstart",(function(e){"cresenityautofill"===e.animationName&&(e.target.wasRecentlyAutofilled=!0,setTimeout((function(){delete e.target.wasRecentlyAutofilled}),1e3))}))}},attachDomListener:function(e,t,r){switch(t.type){case"keydown":case"keyup":this.attachListener(e,t,r,(function(e){var r=["ctrl","shift","alt","meta","cmd","super"].filter((function(e){return t.modifiers.includes(e)}));if(r.length>0&&r.filter((function(t){return"cmd"!==t&&"super"!==t||(t="meta"),!e["".concat(t,"Key")]})).length>0)return!1;if(32===e.keyCode||" "===e.key||"Spacebar"===e.key)return t.modifiers.includes("space");var n=t.modifiers.filter((function(e){return!e.match(/^debounce$/)&&!e.match(/^[0-9]+m?s$/)}));return Boolean(0===n.length||e.key&&n.includes(kebabCase$1(e.key)))}));break;case"click":this.attachListener(e,t,r,(function(r){if(t.modifiers.includes("self"))return e.isSameNode(r.target)}));break;default:this.attachListener(e,t,r)}},attachListener:function(e,t,r,n){var i=this;t.modifiers.includes("prefetch")&&e.addEventListener("mouseenter",(function(){r.addPrefetchAction(new _default$4(t.method,t.params,e))}));var o=t.type,a=function(e,t,r){return e?debounce$3(t,r):t}(t.modifiers.includes("debounce"),(function(e){n&&!1===n(e)||r.callAfterModelDebounce((function(){var n=e.target;t.setEventContext(e),i.preventAndStop(e,t.modifiers);var o,a=t.method,s=t.params;if(0===s.length&&e instanceof CustomEvent&&e.detail&&s.push(e.detail),"$emit"===a)return(o=r.scopedListeners).call.apply(o,_toConsumableArray(s)),void store$1.emit.apply(store$1,_toConsumableArray(s));"$emitUp"!==a?"$emitSelf"!==a?"$emitTo"!==a?t.value&&r.addAction(new _default$4(a,s,n)):store$1.emitTo.apply(store$1,_toConsumableArray(s)):store$1.emitSelf.apply(store$1,[r.id].concat(_toConsumableArray(s))):store$1.emitUp.apply(store$1,[n].concat(_toConsumableArray(s)))}))}),t.durationOr(150));e.addEventListener(o,a),r.addListenerForTeardown((function(){e.removeEventListener(o,a)}))},preventAndStop:function(e,t){t.includes("prevent")&&e.preventDefault(),t.includes("stop")&&e.stopPropagation()}},PrefetchManager=function(){function e(t){_classCallCheck(this,e),this.component=t,this.prefetchMessagesByActionId={}}return _createClass(e,[{key:"addMessage",value:function(e){this.prefetchMessagesByActionId[e.prefetchId]=e}},{key:"actionHasPrefetch",value:function(e){return Object.keys(this.prefetchMessagesByActionId).includes(e.toId())}},{key:"actionPrefetchResponseHasBeenReceived",value:function(e){return!!this.getPrefetchMessageByAction(e).response}},{key:"getPrefetchMessageByAction",value:function(e){return this.prefetchMessagesByActionId[e.toId()]}},{key:"clearPrefetches",value:function(){this.prefetchMessagesByActionId={}}}]),e}();function LoadingStates(){store$1.registerHook("component.initialized",(function(e){e.targetedLoadingElsByAction={},e.genericLoadingEls=[],e.currentlyActiveLoadingEls=[],e.currentlyActiveUploadLoadingEls=[]})),store$1.registerHook("element.initialized",(function(e,t){var r=cresDirectives(e);r.missing("loading")||r.directives.filter((function(e){return"loading"===e.type})).forEach((function(r){processLoadingDirective(t,e,r)}))})),store$1.registerHook("message.sent",(function(e,t){var r=e.updateQueue.filter((function(e){return"callMethod"===e.type})).map((function(e){return e.payload.method})),n=e.updateQueue.filter((function(e){return"syncInput"===e.type})).map((function(e){return e.payload.name}));setLoading(t,r.concat(n))})),store$1.registerHook("message.failed",(function(e,t){unsetLoading(t)})),store$1.registerHook("message.received",(function(e,t){unsetLoading(t)})),store$1.registerHook("element.removed",(function(e,t){removeLoadingEl(t,e)}))}function processLoadingDirective(e,t,r){t.__cresenity_on_finish_loading=[];var n=!1,i=cresDirectives(t);if(i.get("target"))n=i.get("target").value.split(",").map((function(e){return e.trim()}));else{var o=["init","dirty","offline","target","loading","poll","ignore","key","id"];(n=i.all().filter((function(e){return!o.includes(e.type)})).map((function(e){return e.method}))).length<1&&(n=!1)}addLoadingEl(e,t,r,n)}function addLoadingEl(e,t,r,n){n?n.forEach((function(n){e.targetedLoadingElsByAction[n]?e.targetedLoadingElsByAction[n].push({el:t,directive:r}):e.targetedLoadingElsByAction[n]=[{el:t,directive:r}]})):e.genericLoadingEls.push({el:t,directive:r})}function removeLoadingEl(e,t){e.genericLoadingEls.forEach((function(r,n){r.el.isSameNode(t)&&e.genericLoadingEls.splice(n,1)})),Object.keys(e.targetedLoadingElsByAction).forEach((function(r){e.targetedLoadingElsByAction[r]=e.targetedLoadingElsByAction[r].filter((function(e){return!e.el.isSameNode(t)}))}))}function setLoading(e,t){var r=t.map((function(t){return e.targetedLoadingElsByAction[t]})).filter((function(e){return e})).flat(),n=e.genericLoadingEls.concat(r);startLoading(n),e.currentlyActiveLoadingEls=n}function setUploadLoading(e,t){var r=e.targetedLoadingElsByAction[t]||[],n=e.genericLoadingEls.concat(r);startLoading(n),e.currentlyActiveUploadLoadingEls=n}function unsetUploadLoading(e){endLoading(e.currentlyActiveUploadLoadingEls),e.currentlyActiveUploadLoadingEls=[]}function unsetLoading(e){endLoading(e.currentlyActiveLoadingEls),e.currentlyActiveLoadingEls=[]}function startLoading(e){e.forEach((function(e){var t=e.el,r=e.directive;if(r.modifiers.includes("class")){var n=r.value.split(" ").filter(Boolean);doAndSetCallbackOnElToUndo(t,r,(function(){var e;return(e=t.classList).add.apply(e,_toConsumableArray(n))}),(function(){var e;return(e=t.classList).remove.apply(e,_toConsumableArray(n))}))}else if(r.modifiers.includes("attr"))doAndSetCallbackOnElToUndo(t,r,(function(){return t.setAttribute(r.value,!0)}),(function(){return t.removeAttribute(r.value)}));else{var i=window.getComputedStyle(t,null).getPropertyValue("display");doAndSetCallbackOnElToUndo(t,r,(function(){t.style.display=r.modifiers.includes("remove")?i:getDisplayProperty(r)}),(function(){t.style.display="none"}))}}))}function getDisplayProperty(e){return["inline","block","table","flex","grid"].filter((function(t){return e.modifiers.includes(t)}))[0]||"inline-block"}function doAndSetCallbackOnElToUndo(e,t,r,n){if(t.modifiers.includes("remove")){var i=[n,r];r=i[0],n=i[1]}if(t.modifiers.includes("delay")){var o=setTimeout((function(){r(),e.__cresenity_on_finish_loading.push((function(){return n()}))}),200);e.__cresenity_on_finish_loading.push((function(){return clearTimeout(o)}))}else r(),e.__cresenity_on_finish_loading.push((function(){return n()}))}function endLoading(e){e.forEach((function(e){for(var t=e.el;t.__cresenity_on_finish_loading.length>0;)t.__cresenity_on_finish_loading.shift()()}))}var MessageBag=function(){function e(){_classCallCheck(this,e),this.bag={}}return _createClass(e,[{key:"add",value:function(e,t){this.bag[e]||(this.bag[e]=[]),this.bag[e].push(t)}},{key:"push",value:function(e,t){this.add(e,t)}},{key:"first",value:function(e){return this.bag[e]?this.bag[e][0]:null}},{key:"last",value:function(e){return this.bag[e].slice(-1)[0]}},{key:"get",value:function(e){return this.bag[e]}},{key:"shift",value:function(e){return this.bag[e].shift()}},{key:"call",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e]||[]).forEach((function(e){e.apply(void 0,r)}))}},{key:"has",value:function(e){return Object.keys(this.listeners).includes(e)}}]),e}(),UploadManager=function(){function e(t){_classCallCheck(this,e),this.component=t,this.uploadBag=new MessageBag,this.removeBag=new MessageBag}return _createClass(e,[{key:"registerListeners",value:function(){var e=this;this.component.on("upload:generatedSignedUrl",(function(t,r){setUploadLoading(e.component,t),e.handleSignedUrl(t,r)})),this.component.on("upload:generatedSignedUrlForS3",(function(t,r){setUploadLoading(e.component,t),e.handleS3PreSignedUrl(t,r)})),this.component.on("upload:finished",(function(t,r){return e.markUploadFinished(t,r)})),this.component.on("upload:errored",(function(t){return e.markUploadErrored(t)})),this.component.on("upload:removed",(function(t,r){return e.removeBag.shift(t).finishCallback(r)}))}},{key:"upload",value:function(e,t,r,n,i){this.setUpload(e,{files:[t],multiple:!1,finishCallback:r,errorCallback:n,progressCallback:i})}},{key:"uploadMultiple",value:function(e,t,r,n,i){this.setUpload(e,{files:Array.from(t),multiple:!0,finishCallback:r,errorCallback:n,progressCallback:i})}},{key:"removeUpload",value:function(e,t,r){this.removeBag.push(e,{tmpFilename:t,finishCallback:r}),this.component.call("removeUpload",e,t)}},{key:"setUpload",value:function(e,t){this.uploadBag.add(e,t),1===this.uploadBag.get(e).length&&this.startUpload(e,t)}},{key:"handleSignedUrl",value:function(e,t){var r=new FormData;Array.from(this.uploadBag.first(e).files).forEach((function(e){return r.append("files[]",e)}));var n={"X-CSRF-TOKEN":getCsrfToken(),Accept:"application/json"};this.makeRequest(e,r,"post",t,n,(function(e){return e.paths}))}},{key:"handleS3PreSignedUrl",value:function(e,t){var r=this.uploadBag.first(e).files[0],n=t.headers;"Host"in n&&delete n.Host;var i=t.url;this.makeRequest(e,r,"put",i,n,(function(e){return[t.path]}))}},{key:"makeRequest",value:function(e,t,r,n,i,o){var a=this,s=new XMLHttpRequest;s.open(r,n),Object.entries(i).forEach((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];s.setRequestHeader(r,n)})),s.upload.addEventListener("progress",(function(t){t.detail={},t.detail.progress=Math.round(100*t.loaded/t.total),a.uploadBag.first(e).progressCallback(t)})),s.addEventListener("load",(function(){if("2"!==(s.status+"")[0]){var t=null;422===s.status&&(t=s.response),a.component.call("uploadErrored",e,t,a.uploadBag.first(e).multiple)}else{var r=o(s.response&&JSON.parse(s.response));a.component.call("finishUpload",e,r,a.uploadBag.first(e).multiple)}})),s.send(t)}},{key:"startUpload",value:function(e,t){var r=t.files.map((function(e){return{name:e.name,size:e.size,type:e.type}}));this.component.call("startUpload",e,r,t.multiple),setUploadLoading(this.component,e)}},{key:"markUploadFinished",value:function(e,t){unsetUploadLoading(this.component);var r=this.uploadBag.shift(e);r.finishCallback(r.multiple?t:t[0]),this.uploadBag.get(e).length>0&&this.startUpload(e,this.uploadBag.last(e))}},{key:"markUploadErrored",value:function(e){unsetUploadLoading(this.component),this.uploadBag.shift(e).errorCallback(),this.uploadBag.get(e).length>0&&this.startUpload(e,this.uploadBag.last(e))}}]),e}();function SupportAlpine(){window.addEventListener("cresenity:ui:start",(function(){window.Alpine&&(refreshAlpineAfterEveryCresenityRequest(),addDollarSignCres(),supportEntangle())}))}function refreshAlpineAfterEveryCresenityRequest(){isV3()?store$1.registerHook("message.processed",(function(e,t){walk$1(t.el,(function(e){e._x_hidePromise||e._x_runEffects&&e._x_runEffects()}))})):window.Alpine.onComponentInitialized&&window.Alpine.onComponentInitialized((function(e){var t=e.$el.closest("[cres\\:id]");t&&t.__cresenity&&store$1.registerHook("message.processed",(function(r,n){n===t.__cresenity&&e.updateElements(e.$el)}))}))}function addDollarSignCres(){isV3()?window.Alpine.magic("cres",(function(e){var t=e.closest("[cres\\:id]");return t||console.warn('Alpine: Cannot reference "$cres" outside a Cresenity component.'),t.__cresenity.$cres})):window.Alpine.addMagicProperty&&window.Alpine.addMagicProperty("cres",(function(e){var t=e.closest("[cres\\:id]");return t||console.warn('Alpine: Cannot reference "$cres" outside a Cresenity component.'),t.__cresenity.$cres}))}function supportEntangle(){isV3()||window.Alpine.onBeforeComponentInitialized&&window.Alpine.onBeforeComponentInitialized((function(e){var t=e.$el.closest("[cres\\:id]");t&&t.__cresenity&&Object.entries(e.unobservedData).forEach((function(r){var n=_slicedToArray(r,2),i=n[0],o=n[1];if(o&&"object"===_typeof$1(o)&&o.cresenityEntangle){var a=o.cresenityEntangle,s=o.isDeferred,l=t.__cresenity,c=t.__cresenity.get(a);if(void 0===c)return void console.error("Cresenity Component Entangle Error: Cresenity Component property '".concat(a,"' cannot be found"));e.unobservedData[i]=JSON.parse(JSON.stringify(c));var u=!1;e.unobservedData.$watch(i,(function(e){!0!==u?JSON.stringify(e)!=JSON.stringify(t.__cresenity.getPropertyValueIncludingDefers(a))&&l.set(a,e,s,!s):u=!1})),l.watch(a,(function(t){e.$data[i]=void 0!==t?JSON.parse(JSON.stringify(t)):t}))}}))}))}function alpinifyElementsForMorphdom(e,t){if(isV3())return alpinifyElementsForMorphdomV3(e,t);if(e.__x&&window.Alpine.clone(e.__x,t),Array.from(e.attributes).map((function(e){return e.name})).some((function(e){return/x-show/.test(e)})))if(e.__x_transition)e.skipElUpdatingButStillUpdateChildren=!0;else if(isHiding(e,t)){var r=t.getAttribute("style");r&&t.setAttribute("style",r.replace("display: none;",""))}else isShowing(e,t)&&(t.style.display=e.style.display)}function alpinifyElementsForMorphdomV3(e,t){1===e.nodeType&&e._x_dataStack&&window.Alpine.clone(e,t)}function isHiding(e,t){return beforeAlpineTwoPointSevenPointThree()?""===e.style.display&&"none"===t.style.display:e.__x_is_shown&&!t.__x_is_shown}function isShowing(e,t){return beforeAlpineTwoPointSevenPointThree()?"none"===e.style.display&&""===t.style.display:!e.__x_is_shown&&t.__x_is_shown}function beforeAlpineTwoPointSevenPointThree(){var e=window.Alpine.version.split(".").map((function(e){return Number(e)})),t=_slicedToArray(e,3),r=t[0],n=t[1],i=t[2];return r<=2&&n<=7&&i<=2}function isV3(){return window.Alpine&&window.Alpine.version&&/^3\..+\..+$/.test(window.Alpine.version)}var Component=function(){function e(t,r){_classCallCheck(this,e),t.__cresenity=this,this.el=t,this.lastFreshHtml=this.el.outerHTML,this.id=this.el.getAttribute("cres:id"),this.connection=r;var n=JSON.parse(this.el.getAttribute("cres:initial-data"));if(this.el.removeAttribute("cres:initial-data"),this.fingerprint=n.fingerprint,this.serverMemo=n.serverMemo,this.effects=n.effects,this.listeners=this.effects.listeners,this.updateQueue=[],this.deferredActions={},this.tearDownCallbacks=[],this.messageInTransit=void 0,this.scopedListeners=new MessageBus,this.prefetchManager=new PrefetchManager(this),this.uploadManager=new UploadManager(this),this.watchers={},store$1.callHook("component.initialized",this),this.initialize(),this.uploadManager.registerListeners(),this.effects.redirect)return this.redirect(this.effects.redirect)}return _createClass(e,[{key:"name",get:function(){return this.fingerprint.name}},{key:"data",get:function(){return this.serverMemo.data}},{key:"childIds",get:function(){return Object.values(this.serverMemo.children).map((function(e){return e.id}))}},{key:"initialize",value:function(){var t=this;this.walk((function(e){return nodeInitializer.initialize(e,t)}),(function(r){return store$1.addComponent(new e(r,t.connection))}))}},{key:"get",value:function(e){return e.split(".").reduce((function(e,t){return e[t]}),this.data)}},{key:"getPropertyValueIncludingDefers",value:function(e){var t=this.deferredActions[e];return t?t.payload.value:this.get(e)}},{key:"updateServerMemoFromResponseAndMergeBackIntoResponse",value:function(e){var t=this;Object.entries(e.response.serverMemo).forEach((function(r){var n=_slicedToArray(r,2),i=n[0],o=n[1];"data"===i?Object.entries(o||{}).forEach((function(r){var n=_slicedToArray(r,2),i=n[0],o=n[1];t.serverMemo.data[i]=o,e.shouldSkipWatcherForDataKey(i)||Object.entries(t.watchers).forEach((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1],a=r.split("."),s=a.shift(),l=a.join(".");if(s==i){var c=l?getValue(o,l):o;n.forEach((function(e){return e(c)}))}}))})):t.serverMemo[i]=o})),e.response.serverMemo=Object.assign({},this.serverMemo)}},{key:"watch",value:function(e,t){this.watchers[e]||(this.watchers[e]=[]),this.watchers[e].push(t)}},{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r?this.addAction(new _default(e,t,this.el,n)):this.addAction(new _default$4("$set",[e,t],this.el,n))}},{key:"sync",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r?this.addAction(new _default(e,t,this.el)):this.addAction(new _default$1(e,t,this.el))}},{key:"call",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new Promise((function(r,i){var o=new _default$4(e,n,t.el);t.addAction(o),o.onResolve((function(e){return r(e)})),o.onReject((function(e){return i(e)}))}))}},{key:"on",value:function(e,t){this.scopedListeners.register(e,t)}},{key:"addAction",value:function(e){if(e instanceof _default)this.deferredActions[e.name]=e;else{if(this.prefetchManager.actionHasPrefetch(e)&&this.prefetchManager.actionPrefetchResponseHasBeenReceived(e)){var t=this.prefetchManager.getPrefetchMessageByAction(e);return this.handleResponse(t),void this.prefetchManager.clearPrefetches()}this.updateQueue.push(e),debounce$3(this.fireMessage,5).apply(this),this.prefetchManager.clearPrefetches()}}},{key:"fireMessage",value:function(){var e=this;if(!this.messageInTransit){Object.entries(this.deferredActions).forEach((function(t){var r=_slicedToArray(t,2);r[0];var n=r[1];e.updateQueue.unshift(n)})),this.deferredActions={},this.messageInTransit=new _default$3(this,this.updateQueue);var t=function(){e.connection.sendMessage(e.messageInTransit),store$1.callHook("message.sent",e.messageInTransit,e),e.updateQueue=[]};window.capturedRequestsForDusk?window.capturedRequestsForDusk.push(t):t()}}},{key:"messageSendFailed",value:function(){store$1.callHook("message.failed",this.messageInTransit,this),this.messageInTransit.reject(),this.messageInTransit=null}},{key:"receiveMessage",value:function(e,t){e.storeResponse(t),e instanceof _default$2||(this.handleResponse(e),this.updateQueue.length>0&&this.fireMessage(),dispatch$1("cresenity:update"))}},{key:"handleResponse",value:function(e){var t=this,r=e.response;r.effects.redirect?this.redirect(r.effects.redirect):(this.updateServerMemoFromResponseAndMergeBackIntoResponse(e),store$1.callHook("message.received",e,this),r.effects.html?(this.lastFreshHtml=r.effects.html,this.handleMorph(r.effects.html.trim())):this.handleMorph(this.lastFreshHtml),r.effects.dirty&&this.forceRefreshDataBoundElementsMarkedAsDirty(r.effects.dirty),e.replaying||(this.messageInTransit&&this.messageInTransit.resolve(),this.messageInTransit=null,r.effects.emits&&r.effects.emits.length>0&&r.effects.emits.forEach((function(e){var r;(r=t.scopedListeners).call.apply(r,[e.event].concat(_toConsumableArray(e.params))),e.selfOnly?store$1.emitSelf.apply(store$1,[t.id,e.event].concat(_toConsumableArray(e.params))):e.to?store$1.emitTo.apply(store$1,[e.to,e.event].concat(_toConsumableArray(e.params))):e.ancestorsOnly?store$1.emitUp.apply(store$1,[t.el,e.event].concat(_toConsumableArray(e.params))):store$1.emit.apply(store$1,[e.event].concat(_toConsumableArray(e.params)))})),r.effects.dispatches&&r.effects.dispatches.length>0&&r.effects.dispatches.forEach((function(e){var r=e.data?e.data:{},n=new CustomEvent(e.event,{bubbles:!0,detail:r});t.el.dispatchEvent(n)}))),store$1.callHook("message.processed",e,this))}},{key:"redirect",value:function(e){window.Turbolinks&&window.Turbolinks.supported?window.Turbolinks.visit(e):window.location.href=e}},{key:"forceRefreshDataBoundElementsMarkedAsDirty",value:function(e){var t=this;this.walk((function(r){var n=cresDirectives(r);if(!n.missing("model")){var i=n.get("model").value;DOM.hasFocus(r)&&!e.includes(i)||r.wasRecentlyAutofilled||DOM.setInputValueFromModel(r,t)}}))}},{key:"addPrefetchAction",value:function(e){if(!this.prefetchManager.actionHasPrefetch(e)){var t=new _default$2(this,e);this.prefetchManager.addMessage(t),this.connection.sendMessage(t)}}},{key:"handleMorph",value:function(t){var r=this;this.morphChanges={changed:[],added:[],removed:[]},morphdom(this.el,t,{childrenOnly:!1,getNodeKey:function(e){return e.hasAttribute("cres:key")?e.getAttribute("cres:key"):e.hasAttribute("cres:id")?e.getAttribute("cres:id"):e.id},onBeforeNodeAdded:function(e){},onBeforeNodeDiscarded:function(e){if(e.__x_inserted_me&&Array.from(e.attributes).some((function(e){return/x-transition/.test(e.name)})))return!1},onNodeDiscarded:function(e){store$1.callHook("element.removed",e,r),e.__cresenity&&store$1.removeComponent(e.__cresenity),r.morphChanges.removed.push(e)},onBeforeElChildrenUpdated:function(e){},onBeforeElUpdated:function(e,t){if(e.isEqualNode(t))return!1;store$1.callHook("element.updating",e,t,r),e.hasAttribute("cres:model")&&"SELECT"===e.tagName.toUpperCase()&&(t.selectedIndex=-1);var n=cresDirectives(e);if(n.has("ignore")||!0===e.__cresenity_ignore||!0===e.__cresenity_ignore_self){if(!(n.has("ignore")&&n.get("ignore").modifiers.includes("self")||!0===e.__cresenity_ignore_self))return!1;e.skipElUpdatingButStillUpdateChildren=!0}if(DOM.isComponentRootEl(e)&&e.getAttribute("cres:id")!==r.id)return!1;DOM.isComponentRootEl(e)&&(t.__cresenity=r),alpinifyElementsForMorphdom(e,t)},onElUpdated:function(e){r.morphChanges.changed.push(e),store$1.callHook("element.updated",e,r)},onNodeAdded:function(t){if(DOM.closestRoot(t).getAttribute("cres:id")===r.id){if(!1===nodeInitializer.initialize(t,r))return!1}else DOM.isComponentRootEl(t)&&(store$1.addComponent(new e(t,r.connection)),t.skipAddingChildren=!0);r.morphChanges.added.push(t)}}),window.skipShow=!1}},{key:"walk",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){};walk$1(this.el,(function(n){if(!n.isSameNode(t.el))return n.hasAttribute("cres:id")?(r(n),!1):!1!==e(n)&&void 0;e(n)}))}},{key:"modelSyncDebounce",value:function(e,t){this.modelDebounceCallbacks||(this.modelDebounceCallbacks=[]);var r,n={callback:function(){}};return this.modelDebounceCallbacks.push(n),function(i){clearTimeout(r),r=setTimeout((function(){e(i),r=void 0,n.callback=function(){}}),t),n.callback=function(){clearTimeout(r),e(i)}}}},{key:"callAfterModelDebounce",value:function(e){this.modelDebounceCallbacks&&this.modelDebounceCallbacks.forEach((function(e){e.callback(),e=function(){}})),e()}},{key:"addListenerForTeardown",value:function(e){this.tearDownCallbacks.push(e)}},{key:"tearDown",value:function(){this.tearDownCallbacks.forEach((function(e){return e()}))}},{key:"upload",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};this.uploadManager.upload(e,t,r,n,i)}},{key:"uploadMultiple",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};this.uploadManager.uploadMultiple(e,t,r,n,i)}},{key:"removeUpload",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};this.uploadManager.removeUpload(e,t,r,n)}},{key:"$cres",get:function(){if(this.dollarWireProxy)return this.dollarWireProxy;var e=this;return this.dollarWireProxy=new Proxy({},{get:function(t,r){if("entangle"===r)return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{isDeferred:t,cresenityEntangle:e,get defer(){return this.isDeferred=!0,this}}};if("__instance"===r)return e;if("string"==typeof r&&r.match(/^emit.*/))return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return"emitSelf"===r?store$1.emitSelf.apply(store$1,[e.id].concat(n)):store$1[r].apply(e,n)};if(["get","set","sync","call","on","upload","uploadMultiple","removeUpload"].includes(r))return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e[r].apply(e,n)};var n=e.get(r);return void 0===n?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call.apply(e,[r].concat(n))}:n},set:function(t,r,n){return e.set(r,n),!0}})}}]),e}();function FileUploads(){var e=this;store$1.registerHook("interceptWireModelAttachListener",(function(t,r,n){if("input"===r.tagName.toLowerCase()&&"file"===r.type){var i=function(){return r.dispatchEvent(new CustomEvent("cresenity-upload-finish",{bubbles:!0}))},o=function(){return r.dispatchEvent(new CustomEvent("cresenity-upload-error",{bubbles:!0}))},a=function(e){var t=Math.round(100*e.loaded/e.total);r.dispatchEvent(new CustomEvent("cresenity-upload-progress",{bubbles:!0,detail:{progress:t}}))},s=function(e){0!==e.target.files.length&&(r.dispatchEvent(new CustomEvent("cresenity-upload-start",{bubbles:!0})),e.target.multiple?n.uploadMultiple(t.value,e.target.files,i,o,a):n.upload(t.value,e.target.files[0],i,o,a))};r.addEventListener("change",s);var l=function(t){e.value=null};r.addEventListener("click",l),n.addListenerForTeardown((function(){r.removeEventListener("change",s),r.removeEventListener("click",l)}))}}))}function LaravelEcho(){store$1.registerHook("component.initialized",(function(e){Array.isArray(e.listeners)&&e.listeners.forEach((function(e){if(e.startsWith("echo")){if("undefined"==typeof Echo)return void console.warn("Laravel Echo cannot be found");var t=e.split(/(echo:|echo-)|:|,/);"echo:"==t[1]&&t.splice(2,0,"channel",void 0),"notification"==t[2]&&t.push(void 0,void 0);var r=_slicedToArray(t,7);r[0],r[1];var n=r[2];r[3];var i=r[4];r[5];var o=r[6];["channel","private"].includes(n)?Echo[n](i).listen(o,(function(t){store$1.emit(e,t)})):"presence"==n?Echo.join(i)[o]((function(t){store$1.emit(e,t)})):"notification"==n?Echo.private(i).notification((function(t){store$1.emit(e,t)})):console.warn("Echo channel type not yet supported")}}))}))}function DirtyStates(){store$1.registerHook("component.initialized",(function(e){e.dirtyEls=[]})),store$1.registerHook("element.initialized",(function(e,t){cresDirectives(e).missing("dirty")||t.dirtyEls.push(e)})),store$1.registerHook("interceptWireModelAttachListener",(function(e,t,r){var n=e.value;t.addEventListener("input",(function(){r.dirtyEls.forEach((function(e){var i=cresDirectives(e);(i.has("model")&&i.get("model").value===n||i.has("target")&&i.get("target").value.split(",").map((function(e){return e.trim()})).includes(n))&&setDirtyState(e,DOM.valueFromInput(t,r)!=r.get(n))}))}))})),store$1.registerHook("message.received",(function(e,t){t.dirtyEls.forEach((function(e){e.__cresenity_dirty_cleanup&&(e.__cresenity_dirty_cleanup(),delete e.__cresenity_dirty_cleanup)}))})),store$1.registerHook("element.removed",(function(e,t){t.dirtyEls.forEach((function(r,n){r.isSameNode(e)&&t.dirtyEls.splice(n,1)}))}))}function setDirtyState(e,t){var r=cresDirectives(e).get("dirty");if(r.modifiers.includes("class")){var n,i,o=r.value.split(" ");if(r.modifiers.includes("remove")!==t)(n=e.classList).add.apply(n,_toConsumableArray(o)),e.__cresenity_dirty_cleanup=function(){var t;return(t=e.classList).remove.apply(t,_toConsumableArray(o))};else(i=e.classList).remove.apply(i,_toConsumableArray(o)),e.__cresenity_dirty_cleanup=function(){var t;return(t=e.classList).add.apply(t,_toConsumableArray(o))}}else r.modifiers.includes("attr")?r.modifiers.includes("remove")!==t?(e.setAttribute(r.value,!0),e.__cresenity_dirty_cleanup=function(){return e.removeAttribute(r.value)}):(e.removeAttribute(r.value),e.__cresenity_dirty_cleanup=function(){return e.setAttribute(r.value,!0)}):cresDirectives(e).get("model")||(e.style.display=t?"inline-block":"none",e.__cresenity_dirty_cleanup=function(){return e.style.display=t?"none":"inline-block"})}var cleanupStackByComponentId={};function DisableForms(){store$1.registerHook("element.initialized",(function(e,t){cresDirectives(e).missing("submit")||e.addEventListener("submit",(function(){cleanupStackByComponentId[t.id]=[],t.walk((function(r){if(e.contains(r))return!r.hasAttribute("cres:ignore")&&void("button"===r.tagName.toLowerCase()&&"submit"===r.type||"select"===r.tagName.toLowerCase()||"input"===r.tagName.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)?(r.disabled||cleanupStackByComponentId[t.id].push((function(){return r.disabled=!1})),r.disabled=!0):"input"!==r.tagName.toLowerCase()&&"textarea"!==r.tagName.toLowerCase()||(r.readOnly||cleanupStackByComponentId[t.id].push((function(){return r.readOnly=!1})),r.readOnly=!0))}))}))})),store$1.registerHook("message.failed",(function(e,t){return cleanup$1(t)})),store$1.registerHook("message.received",(function(e,t){return cleanup$1(t)}))}function cleanup$1(e){if(cleanupStackByComponentId[e.id])for(;cleanupStackByComponentId[e.id].length>0;)cleanupStackByComponentId[e.id].shift()()}function FileDownloads(){store$1.registerHook("message.received",(function(e,t){var r=e.response;if(r.effects.download){var n=window.webkitURL||window.URL,i=n.createObjectURL(base64toBlob(r.effects.download.content)),o=document.createElement("a");o.style.display="none",o.href=i,o.download=r.effects.download.name,document.body.appendChild(o),o.click(),setTimeout((function(){n.revokeObjectURL(i)}),0)}}))}function base64toBlob(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=atob(e),i=[],o=0;o<n.length;o+=r){for(var a=n.slice(o,o+r),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);var c=new Uint8Array(s);i.push(c)}return new Blob(i,{type:t})}var offlineEls=[];function OfflineStates(){store$1.registerHook("element.initialized",(function(e){cresDirectives(e).missing("offline")||offlineEls.push(e)})),window.addEventListener("offline",(function(){store$1.cresenityIsOffline=!0,offlineEls.forEach((function(e){toggleOffline(e,!0)}))})),window.addEventListener("online",(function(){store$1.cresenityIsOffline=!1,offlineEls.forEach((function(e){toggleOffline(e,!1)}))})),store$1.registerHook("element.removed",(function(e){offlineEls=offlineEls.filter((function(e){return!e.isSameNode(e)}))}))}function toggleOffline(e,t){var r=cresDirectives(e),n=r.get("offline");if(n.modifiers.includes("class")){var i,o,a=n.value.split(" ");if(n.modifiers.includes("remove")!==t)(i=e.classList).add.apply(i,_toConsumableArray(a));else(o=e.classList).remove.apply(o,_toConsumableArray(a))}else n.modifiers.includes("attr")?n.modifiers.includes("remove")!==t?e.setAttribute(n.value,!0):e.removeAttribute(n.value):r.get("model")||(e.style.display=t?"inline-block":"none")}function SyncBrowserHistory(){var e=!1,t=new Set;function r(e,t){e.effects.dirty=Object.keys(e.serverMemo.data),e.effects.html=t.lastFreshHtml}function n(e){if(e){var t=new URL(e),r=t.href.replace(t.origin,"");return window.location.origin+r+window.location.hash}}CresenityStateManager.clearState(),store$1.registerHook("component.initialized",(function(i){i.effects.path&&setTimeout((function(){var o=n(e?void 0:i.effects.path),a={serverMemo:i.serverMemo,effects:i.effects};r(a,i),CresenityStateManager.replaceState(o,a,i),t.add(i.id),e=!0}))})),store$1.registerHook("message.processed",(function(e,i){if(!e.replaying){var o=e.response,a=o.effects||{};if(r(o,i),"path"in a&&a.path!==window.location.href){var s=n(a.path);CresenityStateManager.pushState(s,o,i),t.add(i.id)}else t.has(i.id)&&CresenityStateManager.replaceState(window.location.href,o,i)}})),window.addEventListener("popstate",(function(e){CresenityStateManager.missingState(e)||CresenityStateManager.replayResponses(e,(function(e,t){var r=new _default$3(t,[]);r.storeResponse(e),r.replaying=!0,t.handleResponse(r)}))})),store$1.registerHook("element.updating",(function(e,t,r){e.getAttribute("cres:id")===r.id&&(r.lastKnownDomId=r.id)})),store$1.registerHook("element.updated",(function(e,t){t.lastKnownDomId&&(e.getAttribute("cres:id")!==t.lastKnownDomId&&store$1.changeComponentId(t,e.getAttribute("cres:id")),delete t.lastKnownDomId)}))}var CresenityStateManager={replaceState:function(e,t,r){this.updateState("replaceState",e,t,r)},pushState:function(e,t,r){this.updateState("pushState",e,t,r)},updateState:function(e,t,r,n){var i=this.currentState();i.storeResponse(r,n);var o,a=i.toStateArray(),s=Object.assign(history.state||{},{cresenity:a});store$1.callHook("before"+((o=e).charAt(0).toUpperCase()+o.slice(1)),s,t,n);try{history[e](s,"",t)}catch(r){if("NS_ERROR_ILLEGAL_VALUE"===r.name){var l=this.storeInSession(a);s.cresenity=l,history[e](s,"",t)}}},replayResponses:function(e,t){e.state.cresenity&&("string"==typeof e.state.cresenity?new CresenityState(this.getFromSession(e.state.cresenity)):new CresenityState(e.state.cresenity)).replayResponses(t)},currentState:function(){return history.state&&history.state.cresenity?"string"==typeof history.state.cresenity?new CresenityState(this.getFromSession(history.state.cresenity)):new CresenityState(history.state.cresenity):new CresenityState},missingState:function(e){return!(e.state&&e.state.cresenity)},clearState:function(){window.history.state&&(window.history.state.cresenity=(new CresenityState).toStateArray())},storeInSession:function(e){var t="cresenity:"+(new Date).getTime(),r=JSON.stringify(e);return this.tryToStoreInSession(t,r),t},tryToStoreInSession:function(e,t){try{sessionStorage.setItem(e,t)}catch(n){if(![22,1,2,3,4,5,6,7,8,9,10,11,12,13,14].includes(n.code))return;var r=Object.keys(sessionStorage).map((function(e){return Number(e.replace("cresenity:",""))})).sort().shift();if(!r)return;sessionStorage.removeItem("cresenity:"+r),this.tryToStoreInSession(e,t)}},getFromSession:function(e){var t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}},CresenityState=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.items=t}return _createClass(e,[{key:"toStateArray",value:function(){return this.items}},{key:"pushItemInProperOrder",value:function(e,t,r){var n=this,i={signature:e,response:t},o=this.items.findIndex((function(t){return t.signature===e}));if(-1!==o)return this.items[o]=i;var a=store$1.getClosestParentId(r.id,this.componentIdsWithStoredResponses());if(!a)return this.items.unshift(i);var s=this.items.findIndex((function(e){if(n.parseSignature(e.signature).originalComponentId===a)return!0}));this.items.splice(s,0,i)}},{key:"storeResponse",value:function(e,t){var r=this.getComponentNameBasedSignature(t);this.pushItemInProperOrder(r,e,t)}},{key:"replayResponses",value:function(e){var t=this;this.items.forEach((function(r){var n=r.signature,i=r.response,o=t.findComponentBySignature(n);o&&e(i,o)}))}},{key:"getComponentNameBasedSignature",value:function(e){var t=e.fingerprint.name,r=store$1.getComponentsByName(t).indexOf(e);return"".concat(e.id,":").concat(t,":").concat(r)}},{key:"findComponentBySignature",value:function(e){var t=this.parseSignature(e),r=t.componentName,n=t.componentIndex,i=store$1.getComponentsByName(r);return i[n]||i[0]||console.warn("Cresenity: couldn't find component on page: ".concat(r))}},{key:"parseSignature",value:function(e){var t=e.split(":"),r=_slicedToArray(t,3);return{originalComponentId:r[0],componentName:r[1],componentIndex:r[2]}}},{key:"componentIdsWithStoredResponses",value:function(){var e=this;return this.items.map((function(t){var r=t.signature;return e.parseSignature(r).originalComponentId}))}}]),e}();function isWindow(e){return null!==e&&e===e.window}function getWindow$1(e){return isWindow(e)?e:9===e.nodeType&&e.defaultView}function offset$2(e){var t,r,n={top:0,left:0},i=e&&e.ownerDocument;return t=i.documentElement,"undefined"!==_typeof$1(e.getBoundingClientRect)&&(n=e.getBoundingClientRect()),r=getWindow$1(i),{top:n.top+r.pageYOffset-t.clientTop,left:n.left+r.pageXOffset-t.clientLeft}}function convertStyle(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+":"+e[r]+";");return t}var Effect={duration:750,show:function(e,t){if(2===e.button)return!1;var r=t||this,n=document.createElement("div");n.className="cres-waves-ripple",r.appendChild(n);var i=offset$2(r),o=e.pageY-i.top,a=e.pageX-i.left,s="scale("+r.clientWidth/100*10+")";"touches"in e&&(o=e.touches[0].pageY-i.top,a=e.touches[0].pageX-i.left),n.setAttribute("data-hold",Date.now()),n.setAttribute("data-scale",s),n.setAttribute("data-x",a),n.setAttribute("data-y",o);var l={top:o+"px",left:a+"px"};n.className=n.className+" waves-notransition",n.setAttribute("style",convertStyle(l)),n.className=n.className.replace("waves-notransition",""),l["-webkit-transform"]=s,l["-moz-transform"]=s,l["-ms-transform"]=s,l["-o-transform"]=s,l.transform=s,l.opacity="1",l["-webkit-transition-duration"]=Effect.duration+"ms",l["-moz-transition-duration"]=Effect.duration+"ms",l["-o-transition-duration"]=Effect.duration+"ms",l["transition-duration"]=Effect.duration+"ms",l["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",n.setAttribute("style",convertStyle(l))},hide:function(e){TouchHandler.touchup(e);var t=this,r=null,n=t.getElementsByClassName("cres-waves-ripple");if(!(n.length>0))return!1;var i=(r=n[n.length-1]).getAttribute("data-x"),o=r.getAttribute("data-y"),a=r.getAttribute("data-scale"),s=350-(Date.now()-Number(r.getAttribute("data-hold")));s<0&&(s=0),setTimeout((function(){var e={top:o+"px",left:i+"px",opacity:"0","-webkit-transition-duration":Effect.duration+"ms","-moz-transition-duration":Effect.duration+"ms","-o-transition-duration":Effect.duration+"ms","transition-duration":Effect.duration+"ms","-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a};r.setAttribute("style",convertStyle(e)),setTimeout((function(){try{t.removeChild(r)}catch(e){return!1}}),Effect.duration)}),s)},wrapInput:function(e){for(var t=0;t<e.length;t++){var r=e[t];if("input"===r.tagName.toLowerCase()){var n=r.parentNode;if("i"===n.tagName.toLowerCase()&&-1!==n.className.indexOf("waves-effect"))continue;var i=document.createElement("i");i.className=r.className+" waves-input-wrapper";var o=r.getAttribute("style");o||(o=""),i.setAttribute("style",o),r.className="waves-button-input",r.removeAttribute("style"),n.replaceChild(i,r),i.appendChild(r)}}}},TouchHandler={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?TouchHandler.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout((function(){TouchHandler.touches>0&&(TouchHandler.touches-=1)}),500):"mousedown"===e.type&&TouchHandler.touches>0&&(t=!1),t},touchup:function(e){TouchHandler.allowEvent(e)}};function getWavesEffectElement(e){if(!1===TouchHandler.allowEvent(e))return null;for(var t=null,r=e.target||e.srcElement;null!==r.parentNode;){if(!(r instanceof SVGElement)&&-1!==r.className.indexOf("waves-effect")){t=r;break}r=r.parentNode}return t}function showEffect(e){var t=getWavesEffectElement(e);null!==t&&(Effect.show(e,t),"ontouchstart"in window&&(t.addEventListener("touchend",Effect.hide,!1),t.addEventListener("touchcancel",Effect.hide,!1)),t.addEventListener("mouseup",Effect.hide,!1),t.addEventListener("mouseleave",Effect.hide,!1),t.addEventListener("dragend",Effect.hide,!1))}var attachWaves=function(e){"input"===e.tagName.toLowerCase()&&(Effect.wrapInput([e]),e=e.parentNode),"ontouchstart"in window&&e.addEventListener("touchstart",showEffect,!1),e.addEventListener("mousedown",showEffect,!1)},UI=function(){function e(){_classCallCheck(this,e),this.connection=new Connection,this.components=store$1,this.devToolsEnabled=!1,this.onLoadCallback=function(){},this.waves={attach:attachWaves}}return _createClass(e,[{key:"first",value:function(){return Object.values(this.components.componentsById)[0].$cres}},{key:"find",value:function(e){return this.components.componentsById[e].$cres}},{key:"all",value:function(){return Object.values(this.components.componentsById).map((function(e){return e.$cres}))}},{key:"directive",value:function(e,t){this.components.registerDirective(e,t)}},{key:"hook",value:function(e,t){this.components.registerHook(e,t)}},{key:"onLoad",value:function(e){this.onLoadCallback=e}},{key:"onError",value:function(e){this.components.onErrorCallback=e}},{key:"emit",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(t=this.components).emit.apply(t,[e].concat(n))}},{key:"emitTo",value:function(e,t){for(var r,n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];(r=this.components).emitTo.apply(r,[e,t].concat(i))}},{key:"on",value:function(e,t){this.components.on(e,t)}},{key:"off",value:function(e,t){this.components.off(e,t)}},{key:"devTools",value:function(e){this.devToolsEnabled=e}},{key:"restart",value:function(){this.stop(),this.start()}},{key:"stop",value:function(){this.components.tearDownComponents()}},{key:"start",value:function(){var e=this;DOM.rootComponentElementsWithNoParents().forEach((function(t){e.components.addComponent(new Component(t,e.connection))})),this.onLoadCallback(),dispatch$1("cresenity:ui:start"),document.addEventListener("visibilitychange",(function(){e.components.cresenityIsInBackground=document.hidden}),!1),this.components.initialRenderIsFinished=!0}},{key:"rescan",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;DOM.rootComponentElementsWithNoParents(t).forEach((function(t){var r=cresDirectives(t).get("id").value;e.components.hasComponent(r)||e.components.addComponent(new Component(t,e.connection))}))}}]),e}();SyncBrowserHistory(),SupportAlpine(),FileDownloads(),OfflineStates(),LoadingStates(),DisableForms(),FileUploads(),LaravelEcho(),DirtyStates(),Polling();var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",utf8Encode=function(e){e=e.replace(/rn/g,"n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},utf8Decode=function(e){for(var t="",r=0,n=0,i=0,o=0;r<e.length;)(o=e.charCodeAt(r))<128?(t+=String.fromCharCode(o),r++):o>191&&o<224?(n=e.charCodeAt(r+1),t+=String.fromCharCode((31&o)<<6|63&n),r+=2):(n=e.charCodeAt(r+1),i=e.charCodeAt(r+2),t+=String.fromCharCode((15&o)<<12|(63&n)<<6|63&i),r+=3);return t},encode=function(e){var t,r,n,i,o,a,s,l="",c=0;for(e=utf8Encode(e);c<e.length;)i=(t=e.charCodeAt(c++))>>2,o=(3&t)<<4|(r=e.charCodeAt(c++))>>4,a=(15&r)<<2|(n=e.charCodeAt(c++))>>6,s=63&n,isNaN(r)?a=s=64:isNaN(n)&&(s=64),l=l+keyStr.charAt(i)+keyStr.charAt(o)+keyStr.charAt(a)+keyStr.charAt(s);return l},decode=function(e){var t,r,n,i,o,a,s="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)t=keyStr.indexOf(e.charAt(l++))<<2|(i=keyStr.indexOf(e.charAt(l++)))>>4,r=(15&i)<<4|(o=keyStr.indexOf(e.charAt(l++)))>>2,n=(3&o)<<6|(a=keyStr.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=o&&(s+=String.fromCharCode(r)),64!=a&&(s+=String.fromCharCode(n));return s=utf8Decode(s)},echo=function(){var e=Array.prototype.slice.call(arguments);return console.log(e.join(" "))},ucfirst=function(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)},reSpace="[ \\t]+",reSpaceOpt="[ \\t]*",reMeridian="(?:([ap])\\.?m\\.?([\\t ]|$))",reHour24="(2[0-4]|[01]?[0-9])",reHour24lz="([01][0-9]|2[0-4])",reHour12="(0?[1-9]|1[0-2])",reMinute="([0-5]?[0-9])",reMinutelz="([0-5][0-9])",reSecond="(60|[0-5]?[0-9])",reSecondlz="(60|[0-5][0-9])",reFrac="(?:\\.([0-9]+))",reDayfull="sunday|monday|tuesday|wednesday|thursday|friday|saturday",reDayabbr="sun|mon|tue|wed|thu|fri|sat",reDaytext=reDayfull+"|"+reDayabbr+"|weekdays?",reReltextnumber="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",reReltexttext="next|last|previous|this",reReltextunit="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+reDaytext,reYear="([0-9]{1,4})",reYear2="([0-9]{2})",reYear4="([0-9]{4})",reYear4withSign="([+-]?[0-9]{4})",reMonth="(1[0-2]|0?[0-9])",reMonthlz="(0[0-9]|1[0-2])",reDay="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",reDaylz="(0[0-9]|[1-2][0-9]|3[01])",reMonthFull="january|february|march|april|may|june|july|august|september|october|november|december",reMonthAbbr="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",reMonthroman="i[vx]|vi{0,3}|xi{0,2}|i{1,3}",reMonthText="("+reMonthFull+"|"+reMonthAbbr+"|"+reMonthroman+")",reTzCorrection="((?:GMT)?([+-])"+reHour24+":?"+reMinute+"?)",reTzAbbr="\\(?([a-zA-Z]{1,6})\\)?",reDayOfYear="(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])",reWeekOfYear="(0[1-9]|[1-4][0-9]|5[0-3])",reDateNoYear=reMonthText+"[ .\\t-]*"+reDay+"[,.stndrh\\t ]*";function processMeridian(e,t){switch(t=t&&t.toLowerCase()){case"a":e+=12===e?-12:0;break;case"p":e+=12!==e?12:0}return e}function processYear(e){var t=+e;return e.length<4&&t<100&&(t+=t<70?2e3:1900),t}function lookupMonth(e){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[e.toLowerCase()]}function lookupWeekday(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0};return r[e.toLowerCase()]||t}function lookupRelative(e){var t=e.toLowerCase();return{amount:{last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12}[t],behavior:{this:1}[t]||0}}function processTzCorrection(e,t){if(!(e=e&&e.match(/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i)))return t;var r="-"===e[1]?-1:1,n=+e[2],i=+e[4];return e[4]||e[3]||(i=Math.floor(n%100),n=Math.floor(n/100)),r*(60*n+i)*60}var tzAbbrOffsets={acdt:37800,acst:34200,addt:-7200,adt:-10800,aedt:39600,aest:36e3,ahdt:-32400,ahst:-36e3,akdt:-28800,akst:-32400,amt:-13840,apt:-10800,ast:-14400,awdt:32400,awst:28800,awt:-10800,bdst:7200,bdt:-36e3,bmt:-14309,bst:3600,cast:34200,cat:7200,cddt:-14400,cdt:-18e3,cemt:10800,cest:7200,cet:3600,cmt:-15408,cpt:-18e3,cst:-21600,cwt:-18e3,chst:36e3,dmt:-1521,eat:10800,eddt:-10800,edt:-14400,eest:10800,eet:7200,emt:-26248,ept:-14400,est:-18e3,ewt:-14400,ffmt:-14660,fmt:-4056,gdt:39600,gmt:0,gst:36e3,hdt:-34200,hkst:32400,hkt:28800,hmt:-19776,hpt:-34200,hst:-36e3,hwt:-34200,iddt:14400,idt:10800,imt:25025,ist:7200,jdt:36e3,jmt:8440,jst:32400,kdt:36e3,kmt:5736,kst:30600,lst:9394,mddt:-18e3,mdst:16279,mdt:-21600,mest:7200,met:3600,mmt:9017,mpt:-21600,msd:14400,msk:10800,mst:-25200,mwt:-21600,nddt:-5400,ndt:-9052,npt:-9e3,nst:-12600,nwt:-9e3,nzdt:46800,nzmt:41400,nzst:43200,pddt:-21600,pdt:-25200,pkst:21600,pkt:18e3,plmt:25590,pmt:-13236,ppmt:-17340,ppt:-25200,pst:-28800,pwt:-25200,qmt:-18840,rmt:5794,sast:7200,sdmt:-16800,sjmt:-20173,smt:-13884,sst:-39600,tbmt:10751,tmt:12344,uct:0,utc:0,wast:7200,wat:3600,wemt:7200,west:3600,wet:0,wib:25200,wita:28800,wit:32400,wmt:5040,yddt:-25200,ydt:-28800,ypt:-28800,yst:-32400,ywt:-28800,a:3600,b:7200,c:10800,d:14400,e:18e3,f:21600,g:25200,h:28800,i:32400,k:36e3,l:39600,m:43200,n:-3600,o:-7200,p:-10800,q:-14400,r:-18e3,s:-21600,t:-25200,u:-28800,v:-32400,w:-36e3,x:-39600,y:-43200,z:0},formats={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return this.rd-=1,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(e,t){return this.rs+=+t,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(e,t){"first"===t.toLowerCase()?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+reHour24+reSpaceOpt+reMeridian+"?","i"),name:"backof | frontof",callback:function(e,t,r,n){var i=+r,o=15;return"back"===t.toLowerCase()||(i-=1,o=45),i=processMeridian(i,n),this.resetTime()&&this.time(i,o,0,0)}},weekdayOf:{regex:RegExp("^("+reReltextnumber+"|"+reReltexttext+")"+reSpace+"("+reDayfull+"|"+reDayabbr+")"+reSpace+"of","i"),name:"weekdayof"},mssqltime:{regex:RegExp("^"+reHour12+":"+reMinutelz+":"+reSecondlz+"[:.]([0-9]+)"+reMeridian,"i"),name:"mssqltime",callback:function(e,t,r,n,i,o){return this.time(processMeridian(+t,o),+r,+n,+i.substr(0,3))}},timeLong12:{regex:RegExp("^"+reHour12+"[:.]"+reMinute+"[:.]"+reSecondlz+reSpaceOpt+reMeridian,"i"),name:"timelong12",callback:function(e,t,r,n,i){return this.time(processMeridian(+t,i),+r,+n,0)}},timeShort12:{regex:RegExp("^"+reHour12+"[:.]"+reMinutelz+reSpaceOpt+reMeridian,"i"),name:"timeshort12",callback:function(e,t,r,n){return this.time(processMeridian(+t,n),+r,0,0)}},timeTiny12:{regex:RegExp("^"+reHour12+reSpaceOpt+reMeridian,"i"),name:"timetiny12",callback:function(e,t,r){return this.time(processMeridian(+t,r),0,0,0)}},soap:{regex:RegExp("^"+reYear4+"-"+reMonthlz+"-"+reDaylz+"T"+reHour24lz+":"+reMinutelz+":"+reSecondlz+reFrac+reTzCorrection+"?","i"),name:"soap",callback:function(e,t,r,n,i,o,a,s,l){return this.ymd(+t,r-1,+n)&&this.time(+i,+o,+a,+s.substr(0,3))&&this.zone(processTzCorrection(l))}},wddx:{regex:RegExp("^"+reYear4+"-"+reMonth+"-"+reDay+"T"+reHour24+":"+reMinute+":"+reSecond),name:"wddx",callback:function(e,t,r,n,i,o,a){return this.ymd(+t,r-1,+n)&&this.time(+i,+o,+a,0)}},exif:{regex:RegExp("^"+reYear4+":"+reMonthlz+":"+reDaylz+" "+reHour24lz+":"+reMinutelz+":"+reSecondlz,"i"),name:"exif",callback:function(e,t,r,n,i,o,a){return this.ymd(+t,r-1,+n)&&this.time(+i,+o,+a,0)}},xmlRpc:{regex:RegExp("^"+reYear4+reMonthlz+reDaylz+"T"+reHour24+":"+reMinutelz+":"+reSecondlz),name:"xmlrpc",callback:function(e,t,r,n,i,o,a){return this.ymd(+t,r-1,+n)&&this.time(+i,+o,+a,0)}},xmlRpcNoColon:{regex:RegExp("^"+reYear4+reMonthlz+reDaylz+"[Tt]"+reHour24+reMinutelz+reSecondlz),name:"xmlrpcnocolon",callback:function(e,t,r,n,i,o,a){return this.ymd(+t,r-1,+n)&&this.time(+i,+o,+a,0)}},clf:{regex:RegExp("^"+reDay+"/("+reMonthAbbr+")/"+reYear4+":"+reHour24lz+":"+reMinutelz+":"+reSecondlz+reSpace+reTzCorrection,"i"),name:"clf",callback:function(e,t,r,n,i,o,a,s){return this.ymd(+n,lookupMonth(r),+t)&&this.time(+i,+o,+a,0)&&this.zone(processTzCorrection(s))}},iso8601long:{regex:RegExp("^t?"+reHour24+"[:.]"+reMinute+"[:.]"+reSecond+reFrac,"i"),name:"iso8601long",callback:function(e,t,r,n,i){return this.time(+t,+r,+n,+i.substr(0,3))}},dateTextual:{regex:RegExp("^"+reMonthText+"[ .\\t-]*"+reDay+"[,.stndrh\\t ]+"+reYear,"i"),name:"datetextual",callback:function(e,t,r,n){return this.ymd(processYear(n),lookupMonth(t),+r)}},pointedDate4:{regex:RegExp("^"+reDay+"[.\\t-]"+reMonth+"[.-]"+reYear4),name:"pointeddate4",callback:function(e,t,r,n){return this.ymd(+n,r-1,+t)}},pointedDate2:{regex:RegExp("^"+reDay+"[.\\t]"+reMonth+"\\."+reYear2),name:"pointeddate2",callback:function(e,t,r,n){return this.ymd(processYear(n),r-1,+t)}},timeLong24:{regex:RegExp("^t?"+reHour24+"[:.]"+reMinute+"[:.]"+reSecond),name:"timelong24",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},dateNoColon:{regex:RegExp("^"+reYear4+reMonthlz+reDaylz),name:"datenocolon",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},pgydotd:{regex:RegExp("^"+reYear4+"\\.?"+reDayOfYear),name:"pgydotd",callback:function(e,t,r){return this.ymd(+t,0,+r)}},timeShort24:{regex:RegExp("^t?"+reHour24+"[:.]"+reMinute,"i"),name:"timeshort24",callback:function(e,t,r){return this.time(+t,+r,0,0)}},iso8601noColon:{regex:RegExp("^t?"+reHour24lz+reMinutelz+reSecondlz,"i"),name:"iso8601nocolon",callback:function(e,t,r,n){return this.time(+t,+r,+n,0)}},iso8601dateSlash:{regex:RegExp("^"+reYear4+"/"+reMonthlz+"/"+reDaylz+"/"),name:"iso8601dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},dateSlash:{regex:RegExp("^"+reYear4+"/"+reMonth+"/"+reDay),name:"dateslash",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},american:{regex:RegExp("^"+reMonth+"/"+reDay+"/"+reYear),name:"american",callback:function(e,t,r,n){return this.ymd(processYear(n),t-1,+r)}},americanShort:{regex:RegExp("^"+reMonth+"/"+reDay),name:"americanshort",callback:function(e,t,r){return this.ymd(this.y,t-1,+r)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+reYear+"-"+reMonth+"-"+reDay),name:"gnudateshort | iso8601date2",callback:function(e,t,r,n){return this.ymd(processYear(t),r-1,+n)}},iso8601date4:{regex:RegExp("^"+reYear4withSign+"-"+reMonthlz+"-"+reDaylz),name:"iso8601date4",callback:function(e,t,r,n){return this.ymd(+t,r-1,+n)}},gnuNoColon:{regex:RegExp("^t?"+reHour24lz+reMinutelz,"i"),name:"gnunocolon",callback:function(e,t,r){switch(this.times){case 0:return this.time(+t,+r,0,this.f);case 1:return this.y=100*t+ +r,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+reYear4+"-"+reMonth),name:"gnudateshorter",callback:function(e,t,r){return this.ymd(+t,r-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+reMonthAbbr+")-"+reDaylz,"i"),name:"pgtextreverse",callback:function(e,t,r,n){return this.ymd(processYear(t),lookupMonth(r),+n)}},dateFull:{regex:RegExp("^"+reDay+"[ \\t.-]*"+reMonthText+"[ \\t.-]*"+reYear,"i"),name:"datefull",callback:function(e,t,r,n){return this.ymd(processYear(n),lookupMonth(r),+t)}},dateNoDay:{regex:RegExp("^"+reMonthText+"[ .\\t-]*"+reYear4,"i"),name:"datenoday",callback:function(e,t,r){return this.ymd(+r,lookupMonth(t),1)}},dateNoDayRev:{regex:RegExp("^"+reYear4+"[ .\\t-]*"+reMonthText,"i"),name:"datenodayrev",callback:function(e,t,r){return this.ymd(+t,lookupMonth(r),1)}},pgTextShort:{regex:RegExp("^("+reMonthAbbr+")-"+reDaylz+"-"+reYear,"i"),name:"pgtextshort",callback:function(e,t,r,n){return this.ymd(processYear(n),lookupMonth(t),+r)}},dateNoYear:{regex:RegExp("^"+reDateNoYear,"i"),name:"datenoyear",callback:function(e,t,r){return this.ymd(this.y,lookupMonth(t),+r)}},dateNoYearRev:{regex:RegExp("^"+reDay+"[ .\\t-]*"+reMonthText,"i"),name:"datenoyearrev",callback:function(e,t,r){return this.ymd(this.y,lookupMonth(r),+t)}},isoWeekDay:{regex:RegExp("^"+reYear4+"-?W"+reWeekOfYear+"(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(e,t,r,n){if(n=n?+n:1,!this.ymd(+t,0,1))return!1;var i=new Date(this.y,this.m,this.d).getDay();i=0-(i>4?i-7:i),this.rd+=i+7*(r-1)+n}},relativeText:{regex:RegExp("^("+reReltextnumber+"|"+reReltexttext+")"+reSpace+"("+reReltextunit+")","i"),name:"relativetext",callback:function(e,t,r){var n=lookupRelative(t).amount;switch(r.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=n;break;case"min":case"mins":case"minute":case"minutes":this.ri+=n;break;case"hour":case"hours":this.rh+=n;break;case"day":case"days":this.rd+=n;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*n;break;case"week":case"weeks":this.rd+=7*n;break;case"month":case"months":this.rm+=n;break;case"year":case"years":this.ry+=n;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=lookupWeekday(r,7),this.weekdayBehavior=1,this.rd+=7*(n>0?n-1:n)}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)"+reSpaceOpt+"("+reReltextunit+"|week)","i"),name:"relative",callback:function(e,t,r,n){var i=t.replace(/[^-]/g,"").length,o=+r*Math.pow(-1,i);switch(n.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=o;break;case"min":case"mins":case"minute":case"minutes":this.ri+=o;break;case"hour":case"hours":this.rh+=o;break;case"day":case"days":this.rd+=o;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*o;break;case"week":case"weeks":this.rd+=7*o;break;case"month":case"months":this.rm+=o;break;case"year":case"years":this.ry+=o;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=lookupWeekday(n,7),this.weekdayBehavior=1,this.rd+=7*(o>0?o-1:o)}}},dayText:{regex:RegExp("^("+reDaytext+")","i"),name:"daytext",callback:function(e,t){this.resetTime(),this.weekday=lookupWeekday(t,0),2!==this.weekdayBehavior&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^("+reReltexttext+")"+reSpace+"week","i"),name:"relativetextweek",callback:function(e,t){switch(this.weekdayBehavior=2,t.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+reMonthFull+"|"+reMonthAbbr+")","i"),name:"monthfull | monthabbr",callback:function(e,t){return this.ymd(this.y,lookupMonth(t),this.d)}},tzCorrection:{regex:RegExp("^"+reTzCorrection,"i"),name:"tzcorrection",callback:function(e){return this.zone(processTzCorrection(e))}},tzAbbr:{regex:RegExp("^"+reTzAbbr),name:"tzabbr",callback:function(e,t){var r=tzAbbrOffsets[t.toLowerCase()];return!isNaN(r)&&this.zone(r)}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+reYear4),name:"year4",callback:function(e,t){return this.y=+t,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+reDateNoYear+"t?"+reHour24+"[:.]"+reMinute+"[:.]"+reSecond,"i"),name:"dateshortwithtimelong",callback:function(e,t,r,n,i,o){return this.ymd(this.y,lookupMonth(t),+r)&&this.time(+n,+i,+o,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+reDateNoYear+reHour12+"[:.]"+reMinute+"[:.]"+reSecondlz+reSpaceOpt+reMeridian,"i"),name:"dateshortwithtimelong12",callback:function(e,t,r,n,i,o,a){return this.ymd(this.y,lookupMonth(t),+r)&&this.time(processMeridian(+n,a),+i,+o,0)}},dateShortWithTimeShort:{regex:RegExp("^"+reDateNoYear+"t?"+reHour24+"[:.]"+reMinute,"i"),name:"dateshortwithtimeshort",callback:function(e,t,r,n,i){return this.ymd(this.y,lookupMonth(t),+r)&&this.time(+n,+i,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+reDateNoYear+reHour12+"[:.]"+reMinutelz+reSpaceOpt+reMeridian,"i"),name:"dateshortwithtimeshort12",callback:function(e,t,r,n,i,o){return this.ymd(this.y,lookupMonth(t),+r)&&this.time(processMeridian(+n,o),+i,0,0)}}},resultProto={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(e,t,r){return!(this.dates>0)&&(this.dates++,this.y=e,this.m=t,this.d=r,!0)},time:function(e,t,r,n){return!(this.times>0)&&(this.times++,this.h=e,this.i=t,this.s=r,this.f=n,!0)},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,this.times=0,!0},zone:function(e){return this.zones<=1&&(this.zones++,this.z=e,!0)},toDate:function(e){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=e.getFullYear()),isNaN(this.m)&&(this.m=e.getMonth()),isNaN(this.d)&&(this.d=e.getDate()),isNaN(this.h)&&(this.h=e.getHours()),isNaN(this.i)&&(this.i=e.getMinutes()),isNaN(this.s)&&(this.s=e.getSeconds()),isNaN(this.f)&&(this.f=e.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1}if(!isNaN(this.weekday)){var t=new Date(e.getTime());t.setFullYear(this.y,this.m,this.d),t.setHours(this.h,this.i,this.s,this.f);var r=t.getDay();if(2===this.weekdayBehavior)0===r&&0!==this.weekday&&(this.weekday=-6),0===this.weekday&&0!==r&&(this.weekday=7),this.d-=r,this.d+=this.weekday;else{var n=this.weekday-r;(this.rd<0&&n<0||this.rd>=0&&n<=-this.weekdayBehavior)&&(n+=7),this.weekday>=0?this.d+=n:this.d-=7-(Math.abs(this.weekday)-r),this.weekday=NaN}}this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var i=new Date(e.getTime());switch(i.setFullYear(this.y,this.m,this.d),i.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:i.setDate(1);break;case-1:i.setMonth(i.getMonth()+1,0)}return isNaN(this.z)||i.getTimezoneOffset()===this.z||(i.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),i.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds()-this.z,i.getMilliseconds())),i}},strtotime=function(e,t){null==t&&(t=Math.floor(Date.now()/1e3));for(var r=[formats.yesterday,formats.now,formats.noon,formats.midnightOrToday,formats.tomorrow,formats.timestamp,formats.firstOrLastDay,formats.backOrFrontOf,formats.timeTiny12,formats.timeShort12,formats.timeLong12,formats.mssqltime,formats.timeShort24,formats.timeLong24,formats.iso8601long,formats.gnuNoColon,formats.iso8601noColon,formats.americanShort,formats.american,formats.iso8601date4,formats.iso8601dateSlash,formats.dateSlash,formats.gnuDateShortOrIso8601date2,formats.gnuDateShorter,formats.dateFull,formats.pointedDate4,formats.pointedDate2,formats.dateNoDay,formats.dateNoDayRev,formats.dateTextual,formats.dateNoYear,formats.dateNoYearRev,formats.dateNoColon,formats.xmlRpc,formats.xmlRpcNoColon,formats.soap,formats.wddx,formats.exif,formats.pgydotd,formats.isoWeekDay,formats.pgTextShort,formats.pgTextReverse,formats.clf,formats.year4,formats.ago,formats.dayText,formats.relativeTextWeek,formats.relativeText,formats.monthFullOrMonthAbbr,formats.tzCorrection,formats.tzAbbr,formats.dateShortWithTimeShort12,formats.dateShortWithTimeLong12,formats.dateShortWithTimeShort,formats.dateShortWithTimeLong,formats.relative,formats.whitespace],n=Object.create(resultProto);e.length;){for(var i=null,o=null,a=0,s=r.length;a<s;a++){var l=r[a],c=e.match(l.regex);c&&(!i||c[0].length>i[0].length)&&(i=c,o=l)}if(!o||o.callback&&!1===o.callback.apply(n,i))return!1;e=e.substr(i[0].length),o=null,i=null}return Math.floor(n.toDate(new Date(1e3*t))/1e3)},is_numeric=function(e){var t=[" ","\n","\r","\t","\f","\v","Â ","â","â","â","â","â","â","â","â","â","â","â","â","\u2028","\u2029","ã"].join("");return("number"==typeof e||"string"==typeof e&&-1===t.indexOf(e.slice(-1)))&&""!==e&&!isNaN(e)},array_diff=function(e){var t={},r=arguments.length,n="",i=1,o="",a={};e:for(n in e)for(i=1;i<r;i++){for(o in a=arguments[i])if(a[o]===e[n])continue e;t[n]=e[n]}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},str_replace=function(e,t,r,n){var i,o=0,a=0,s="",l="",c=0,u=[].concat(e),d=[].concat(t),f=r,p="[object Array]"===Object.prototype.toString.call(d),h="[object Array]"===Object.prototype.toString.call(f);f=[].concat(f);var m="undefined"!=typeof window?window:commonjsGlobal$1;m.$locutus=m.$locutus||{};var g=m.$locutus;if(g.php=g.php||{},"object"===(void 0===e?"undefined":_typeof(e))&&"string"==typeof t){for(s=t,t=[],o=0;o<e.length;o+=1)t[o]=s;s="",d=[].concat(t),p="[object Array]"===Object.prototype.toString.call(d)}for(void 0!==n&&(n.value=0),o=0,i=f.length;o<i;o++)if(""!==f[o])for(a=0,c=u.length;a<c;a++)""!==u[a]&&(s=f[o]+"",l=p?void 0!==d[a]?d[a]:"":d[0],f[o]=s.split(u[a]).join(l),void 0!==n&&(n.value+=s.split(u[a]).length-1));return h?f:f[0]},number_format=function(e,t,r,n){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var i=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):0,a=void 0===n?",":n,s=void 0===r?".":r,l="";return l=(o?function(e,t){if(-1===(""+e).indexOf("e"))return+(Math.round(e+"e+"+t)+"e-"+t);var r=(""+e).split("e"),n="";return+r[1]+t>0&&(n="+"),(+(Math.round(+r[0]+"e"+n+(+r[1]+t))+"e-"+t)).toFixed(t)}(i,o).toString():""+Math.round(i)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(s)},date=function(e,t){var r=void 0,n=void 0,i=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],o=/\\?(.?)/gi,a=function(e,t){return n[e]?n[e]():t},s=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e};n={d:function(){return s(n.j(),2)},D:function(){return n.l().slice(0,3)},j:function(){return r.getDate()},l:function(){return i[n.w()]+"day"},N:function(){return n.w()||7},S:function(){var e=n.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:function(){return r.getDay()},z:function(){var e=new Date(n.Y(),n.n()-1,n.j()),t=new Date(n.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),t=new Date(e.getFullYear(),0,4);return s(1+Math.round((e-t)/864e5/7),2)},F:function(){return i[6+n.n()]},m:function(){return s(n.n(),2)},M:function(){return n.F().slice(0,3)},n:function(){return r.getMonth()+1},t:function(){return new Date(n.Y(),n.n(),0).getDate()},L:function(){var e=n.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=n.n(),t=n.W();return n.Y()+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:function(){return r.getFullYear()},y:function(){return n.Y().toString().slice(-2)},a:function(){return r.getHours()>11?"pm":"am"},A:function(){return n.a().toUpperCase()},B:function(){var e=3600*r.getUTCHours(),t=60*r.getUTCMinutes(),n=r.getUTCSeconds();return s(Math.floor((e+t+n+3600)/86.4)%1e3,3)},g:function(){return n.G()%12||12},G:function(){return r.getHours()},h:function(){return s(n.g(),2)},H:function(){return s(n.G(),2)},i:function(){return s(r.getMinutes(),2)},s:function(){return s(r.getSeconds(),2)},u:function(){return s(1e3*r.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(n.Y(),0)-Date.UTC(n.Y(),0)!=new Date(n.Y(),6)-Date.UTC(n.Y(),6)?1:0},O:function(){var e=r.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+s(100*Math.floor(t/60)+t%60,4)},P:function(){var e=n.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-r.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(o,a)},r:function(){return"D, d M Y H:i:s O".replace(o,a)},U:function(){return r/1e3|0}};return function(e,t){return r=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(o,a)}(e,t)},php={echo:echo,strtotime:strtotime,is_numeric:is_numeric,array_diff:array_diff,ucfirst:ucfirst,str_replace:str_replace,number_format:number_format,date:date},elementReady=function(e){return new Promise((function(t,r){var n=new MutationObserver((function(r){document.querySelectorAll(e).forEach((function(e){e.ready||(e.ready=!0,n.disconnect(),t(e))}))}));n.observe(document.documentElement,{childList:!0,subtree:!0})}))},elementRendered=function(e,t){var r=[],n=new MutationObserver((function(n){document.querySelectorAll(e).forEach((function(e){r.includes(e)||(r.push(e),t(e))}))}));return n.observe(document.documentElement,{childList:!0,subtree:!0}),n},domReady=function(e){document.addEventListener("DOMContentLoaded",e),"interactive"!==document.readyState&&"complete"!==document.readyState||e()},defaultConfirmHandler=function(e,t,r){if(window.bootbox)return bootboxConfirmhandler(e,t,r);r(window.confirm(t.message))},bootboxConfirmhandler=function(e,t,r){var n,i,o,a,s,l,c,u,d={className:"capp-modal-confirm",message:t.message,callback:r},f=null==t?void 0:t.buttons;f||(f={confirm:{label:null!==(n=null===(i=capp)||void 0===i||null===(o=i.labels)||void 0===o||null===(a=o.confirm)||void 0===a?void 0:a.yes)&&void 0!==n?n:"Yes"},cancel:{label:null!==(s=null===(l=capp)||void 0===l||null===(c=l.labels)||void 0===c||null===(u=c.confirm)||void 0===u?void 0:u.no)&&void 0!==s?s:"No"}});d.buttons=f,window.bootbox.confirm(d)},confirmFromElement=function(e,t,r){var n,i,o,a,s,l,c,u,d,f,p,h,m=$(e).attr("href"),g=$(e).attr("data-confirm-message"),y=$(e).attr("data-confirm-label-yes"),v=$(e).attr("data-confirm-label-cancel"),b=$(e).attr("data-no-double"),w=$(e).attr("data-clicked"),_=$(e);if(_.attr("data-clicked","1"),"submit"===_.attr("type")&&_.attr("data-submitted","1"),b&&w)return!1;g=g||(r||(null!==(n=null===(i=capp)||void 0===i||null===(o=i.labels)||void 0===o||null===(a=o.confirm)||void 0===a?void 0:a.areYouSure)&&void 0!==n?n:"Are you sure?")),y=y||(null!==(s=null===(l=capp)||void 0===l||null===(c=l.labels)||void 0===c||null===(u=c.confirm)||void 0===u?void 0:u.yes)&&void 0!==s?s:"Yes"),v=v||(null!==(d=null===(f=capp)||void 0===f||null===(p=f.labels)||void 0===p||null===(h=p.confirm)||void 0===h?void 0:h.no)&&void 0!==d?d:"No"),t(_,{message:g,buttons:{confirm:{label:y},cancel:{label:v}}},(function(e){e?m?window.location.href=m:"submit"===_.attr("type")?_.closest("form").submit():_.on("click"):(_.removeAttr("data-clicked"),_.removeAttr("data-submitted")),setTimeout((function(){$(".modal:visible").length>0?$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),750)}))},ini_get=function(e){var t="undefined"!=typeof window?window:commonjsGlobal$1;t.$locutus=t.$locutus||{};var r=t.$locutus;return r.php=r.php||{},r.php.ini=r.php.ini||{},r.php.ini[e]&&void 0!==r.php.ini[e].local_value?null===r.php.ini[e].local_value?"":r.php.ini[e].local_value:""},strlen=function(e){var t=e+"";if("off"===((void 0!==commonjsRequire?ini_get("unicode.semantics"):void 0)||"off"))return t.length;var r=0,n=0,i=function(e,t){var r=e.charCodeAt(t),n="",i="";if(r>=55296&&r<=56319){if(e.length<=t+1)throw new Error("High surrogate without following low surrogate");if((n=e.charCodeAt(t+1))<56320||n>57343)throw new Error("High surrogate without following low surrogate");return e.charAt(t)+e.charAt(t+1)}if(r>=56320&&r<=57343){if(0===t)throw new Error("Low surrogate without preceding high surrogate");if((i=e.charCodeAt(t-1))<55296||i>56319)throw new Error("Low surrogate without preceding high surrogate");return!1}return e.charAt(t)};for(r=0,n=0;r<t.length;r++)!1!==i(t,r)&&n++;return n},helper={DAY:864e5,HOUR:3600,defaults:{dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,r={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&r[t]?r[t]:"th"}},separators:/[ \-+\/.:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},getInt:function(e,t){return parseInt(e,t||10)},compare:function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},lpad:function(e,t,r){var n=e.toString();return r=r||"0",n.length<t?helper.lpad(r+n,t):n},merge:function(e){var t,r;for(e=e||{},t=1;t<arguments.length;t++)if(r=arguments[t])for(var n in r)r.hasOwnProperty(n)&&("object"===_typeof$1(r[n])?$h.merge(e[n],r[n]):e[n]=r[n]);return e},getIndex:function(e,t){for(var r=0;r<t.length;r++)if(t[r].toLowerCase()===e.toLowerCase())return r;return-1}},DateFormatter$1=function(){function e(t){_classCallCheck(this,e);var r=helper.merge(helper.defaults,t);this.dateSettings=r.dateSettings,this.separators=r.separators,this.validParts=r.validParts,this.intParts=r.intParts,this.tzParts=r.tzParts,this.tzClip=r.tzClip}return _createClass(e,[{key:"getMonth",value:function(e){var t=helper.getIndex(e,this.dateSettings.monthsShort)+1;return 0===t&&(t=helper.getIndex(e,this.dateSettings.months)+1),t}},{key:"parseDate",value:function(e,t){var r,n,o=this.dateSettings,a=!1,s=!1,l={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!e)return null;if(e instanceof Date)return e;if("U"===t)return i=helper.getInt(e),i?new Date(1e3*i):e;switch(_typeof$1(e)){case"number":return new Date(e);case"string":break;default:return null}var c=t.match(this.validParts);if(!c||0===c.length)throw new Error("Invalid date format definition.");for(var u=c.length-1;u>=0;u--)"S"===c[u]&&c.splice(u,1);for(var d=e.replace(this.separators,"\0").split("\0"),f=0;f<d.length;f++){var p=d[f],h=helper.getInt(p);switch(c[f]){case"y":case"Y":if(!h)return null;r=p.length,l.year=2===r?helper.getInt((h<70?"20":"19")+p):h,a=!0;break;case"m":case"n":case"M":case"F":if(isNaN(h)){var m=this.getMonth(p);if(!(m>0))return null;l.month=m}else{if(!(h>=1&&h<=12))return null;l.month=h}a=!0;break;case"d":case"j":if(!(h>=1&&h<=31))return null;l.day=h,a=!0;break;case"g":case"h":var g=c.indexOf("a")>-1?c.indexOf("a"):c.indexOf("A")>-1?c.indexOf("A"):-1;if(n=d[g],-1!==g){var y=helper.compare(n,o.meridiem[0])?0:helper.compare(n,o.meridiem[1])?12:-1;h>=1&&h<=12&&-1!==y?l.hour=h%12==0?y:h+y:h>=0&&h<=23&&(l.hour=h)}else{if(!(h>=0&&h<=23))return null;l.hour=h}s=!0;break;case"G":case"H":if(!(h>=0&&h<=23))return null;l.hour=h,s=!0;break;case"i":if(!(h>=0&&h<=59))return null;l.min=h,s=!0;break;case"s":if(!(h>=0&&h<=59))return null;l.sec=h,s=!0}}if(!0===a){var v=l.year||0,b=l.month?l.month-1:0,w=l.day||1;l.date=new Date(v,b,w,l.hour,l.min,l.sec,0)}else{if(!0!==s)return null;l.date=new Date(0,0,0,l.hour,l.min,l.sec,0)}return l.date}},{key:"guessDate",value:function(e,t){if("string"!=typeof e)return e;var r,n,i,o,a,s,l=e.replace(this.separators,"\0").split("\0"),c=t.match(this.validParts),u=new Date,d=0;if(!/^[djmn]/g.test(c[0]))return e;for(i=0;i<l.length;i++){if(d=2,a=l[i],s=helper.getInt(a.substr(0,2)),isNaN(s))return null;switch(i){case 0:"m"===c[0]||"n"===c[0]?u.setMonth(s-1):u.setDate(s);break;case 1:"m"===c[0]||"n"===c[0]?u.setDate(s):u.setMonth(s-1);break;case 2:if(n=u.getFullYear(),d=(r=a.length)<4?r:4,!(n=helper.getInt(r<4?n.toString().substr(0,4-r)+a:a.substr(0,4))))return null;u.setFullYear(n);break;case 3:u.setHours(s);break;case 4:u.setMinutes(s);break;case 5:u.setSeconds(s)}(o=a.substr(d)).length>0&&l.splice(i+1,0,o)}return u}},{key:"parseFormat",value:function(e,t){var r,n=this.dateSettings,i=/\\?(.?)/gi,o=function(e,t){return r[e]?r[e]():t};return r={d:function(){return helper.lpad(r.j(),2)},D:function(){return n.daysShort[r.w()]},j:function(){return t.getDate()},l:function(){return n.days[r.w()]},N:function(){return r.w()||7},w:function(){return t.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/helper.DAY)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),t=new Date(e.getFullYear(),0,4);return helper.lpad(1+Math.round((e-t)/helper.DAY/7),2)},F:function(){return n.months[t.getMonth()]},m:function(){return helper.lpad(r.n(),2)},M:function(){return n.monthsShort[t.getMonth()]},n:function(){return t.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=r.n(),t=r.W();return r.Y()+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:function(){return t.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return r.A().toLowerCase()},A:function(){var e=r.G()<12?0:1;return n.meridiem[e]},B:function(){var e=t.getUTCHours()*helper.HOUR,r=60*t.getUTCMinutes(),n=t.getUTCSeconds();return helper.lpad(Math.floor((e+r+n+helper.HOUR)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return t.getHours()},h:function(){return helper.lpad(r.g(),2)},H:function(){return helper.lpad(r.G(),2)},i:function(){return helper.lpad(t.getMinutes(),2)},s:function(){return helper.lpad(t.getSeconds(),2)},u:function(){return helper.lpad(1e3*t.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(t))[1]||"Coordinated Universal Time"},I:function(){return new Date(r.Y(),0)-Date.UTC(r.Y(),0)!=new Date(r.Y(),6)-Date.UTC(r.Y(),6)?1:0},O:function(){var e=t.getTimezoneOffset(),r=Math.abs(e);return(e>0?"-":"+")+helper.lpad(100*Math.floor(r/60)+r%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return(String(t).match(this.tzParts)||[""]).pop().replace(this.tzClip,"")||"UTC"},Z:function(){return 60*-t.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,o)},r:function(){return"D, d M Y H:i:s O".replace(i,o)},U:function(){return t.getTime()/1e3||0}},o(e,e)}},{key:"formatDate",value:function(e,t){var r,n,i,o,a,s="";if("string"==typeof e&&!(e=this.parseDate(e,t)))return null;if(e instanceof Date){for(i=t.length,r=0;r<i;r++)"S"!==(a=t.charAt(r))&&"\\"!==a&&(r>0&&"\\"===t.charAt(r-1)?s+=a:(o=this.parseFormat(a,e),r!==i-1&&this.intParts.test(a)&&"S"===t.charAt(r+1)&&(n=helper.getInt(o)||0,o+=this.dateSettings.ordinal(n)),s+=o));return s}return""}}]),e}(),appValidation={implicitRules:["Required","Confirmed"],init:function(){$.validator&&($.validator.classRuleSettings={},$.validator.attributeRules=function(){this.rules={}},$.validator.dataRules=this.arrayRules,$.validator.prototype.arrayRulesCache={},this.setupValidations())},arrayRules:function(e){var t={},r=$.data(e.form,"validator"),n=r.arrayRulesCache;return-1===e.name.indexOf("[")||(e.name in n||(n[e.name]={}),$.each(r.settings.rules,(function(r,i){if(r in n[e.name])$.extend(t,n[e.name][r]);else{n[e.name][r]={};var o=appValidation.helpers.regexFromWildcard(r);if(e.name.match(o)){var a=$.validator.normalizeRule(i)||{};n[e.name][r]=a,$.extend(t,a)}}}))),t},setupValidations:function(){$.validator.addMethod("appValidation",(function(e,t,r){var n=this,i=!0,o=this.previousValue(t),a=[];return $.each(r,(function(e,t){t[3]||-1!==appValidation.implicitRules.indexOf(t[0])?a.unshift(t):a.push(t)})),$.each(a,(function(r,a){var s=a[3]||-1!==appValidation.implicitRules.indexOf(a[0]),l=a[0],c=a[2];return!s&&n.optional(t)?(i="dependency-mismatch",!1):!0!==(i=void 0!==appValidation.methods[l]&&appValidation.methods[l].call(n,e,t,a[1],(function(r){if(n.settings.messages[t.name].appValidationRemote=o.originalMessage,r){var i=n.formSubmitted;n.prepareElement(t),n.formSubmitted=i,n.successList.push(t),delete n.invalid[t.name],n.showErrors()}else{var a={};a[t.name]=o.message=$.isFunction(c)?c(e):c,n.invalid[t.name]=!0,n.showErrors(a)}n.showErrors(n.errorMap),o.valid=r})))?(n.settings.messages[t.name]||(n.settings.messages[t.name]={}),n.settings.messages[t.name].appValidation=c,!1):void 0})),i}),""),$.validator.addMethod("appValidationRemote",(function(e,t,r){var n=!1,i=r[0][1],o=t.name,a=i[1],s=i[2];if($.each(r,(function(e,t){n=n||t[3]})),!n&&this.optional(t))return"dependency-mismatch";var l,c,u=this.previousValue(t);this.settings.messages[t.name]||(this.settings.messages[t.name]={}),u.originalMessage=this.settings.messages[t.name].appValidationRemote,this.settings.messages[t.name].appValidationRemote=u.message;var d="string"==typeof r&&{url:r}||r;if(appValidation.helpers.arrayEquals(u.old,e)||u.old===e)return u.valid;u.old=e,l=this,this.startRequest(t),(c=$(l.currentForm).serializeArray()).push({name:"_jsvalidation",value:o}),c.push({name:"_jsvalidation_validate_all",value:s});var f=$(l.currentForm).attr("method");return $(l.currentForm).find('input[name="_method"]').length&&(f=$(l.currentForm).find('input[name="_method"]').val()),$.ajax($.extend(!0,{mode:"abort",port:"validate"+t.name,dataType:"json",data:c,context:l.currentForm,url:$(l.currentForm).attr("remote-validation-url"),type:f,beforeSend:function(e){if("get"!==$(l.currentForm).attr("method").toLowerCase()&&a)return e.setRequestHeader("X-XSRF-TOKEN",a)}},d)).always((function(r,n){var i,o,a,s;if("error"===n)s=!1,r=appValidation.helpers.parseErrorResponse(r);else{if("success"!==n)return;s=!0===r||"true"===r}l.settings.messages[t.name].appValidationRemote=u.originalMessage,s?(a=l.formSubmitted,l.prepareElement(t),l.formSubmitted=a,l.successList.push(t),delete l.invalid[t.name],l.showErrors()):(i={},o=r||l.defaultMessage(t,"remote"),i[t.name]=u.message=$.isFunction(o)?o(e):o[0],l.invalid[t.name]=!0,l.showErrors(i)),l.showErrors(l.errorMap),u.valid=s,l.stopRequest(t,s)})),"pending"}),"")}},initValidation=function initValidation(){$.extend(!0,appValidation,{helpers:{numericRules:["Integer","Numeric"],fileinfo:function(e,t){var r=e.value;return t=void 0!==t?t:0,null!==e.files&&void 0!==e.files[t]&&{file:r,extension:r.substr(r.lastIndexOf(".")+1),size:e.files[t].size/1024,type:e.files[t].type}},selector:function(e){var t=[];$.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++)t.push("[name='"+e[r]+"']");return t.join()},hasNumericRules:function(e){return this.hasRules(e,this.numericRules)},hasRules:function(e,t){var r=!1;"string"==typeof t&&(t=[t]);var n=$.data(e.form,"validator"),i=[],o=n.arrayRulesCache;return e.name in o&&$.each(o[e.name],(function(e,t){i.push(t)})),e.name in n.settings.rules&&i.push(n.settings.rules[e.name]),$.each(i,(function(e,n){if("appValidation"in n)for(var i=n.appValidation,o=0;o<i.length;o++)if(-1!==$.inArray(i[o][0],t))return r=!0,!1})),r},strlen:function(e){return strlen(e)},getSize:function(e,t,r){return this.hasNumericRules(t)&&this.is_numeric(r)?parseFloat(r):$.isArray(r)?parseFloat(r.length):"file"===t.type?parseFloat(Math.floor(this.fileinfo(t).size)):parseFloat(this.strlen(r))},getAppValidation:function(e,t){var r;return $.each($.validator.staticRules(t),(function(t,n){"appValidation"===t&&$.each(n,(function(t,n){n[0]===e&&(r=n)}))})),r},parseTime:function(e,t){var r=!1,n=new DateFormatter$1;if("object"===$.type(t)){var i=this.getAppValidation("DateFormat",t);t=void 0!==i?i[1][0]:null}return null==t?r=this.strtotime(e):(r=n.parseDate(e,t))&&(r=Math.round(r.getTime()/1e3)),r},guessDate:function(e,t){return(new DateFormatter$1).guessDate(e,t)},strtotime:function(e,t){return strtotime(e,t)},is_numeric:function(e){return is_numeric(e)},arrayDiff:function(e,t){return array_diff(e,t)},arrayEquals:function(e,t){return!(!$.isArray(e)||!$.isArray(t))&&(e.length===t.length&&$.isEmptyObject(this.arrayDiff(e,t)))},dependentElement:function(e,t,r){var n=e.findByName(r);if(void 0!==n[0]&&e.settings.onfocusout){var i="blur";"SELECT"!==n[0].tagName&&"OPTION"!==n[0].tagName&&"checkbox"!==n[0].type&&"radio"!==n[0].type||(i="click");var o=".validate-appValidation";n.off(o).off(i+o+"-"+t.name).on(i+o+"-"+t.name,(function(){$(t).valid()}))}return n[0]},parseErrorResponse:function(e){var t=["Whoops, looks like something went wrong."];if("responseText"in e){var r=e.responseText.match(/<h1\s*>(.*)<\/h1\s*>/i);$.isArray(r)&&(t=[r[1]])}return t},escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexFromWildcard:function(e){var t=e.split("[*]");1===t.length&&t.push("");var r=t.map((function(e,t){return t%2==0?e+="[":e="]"+e,appValidation.helpers.escapeRegExp(e)}));return new RegExp("^"+r.join(".*")+"$")}}}),$.extend(!0,appValidation,{helpers:{isTimezone:function(e){var t={africa:["abidjan","accra","addis_ababa","algiers","asmara","bamako","bangui","banjul","bissau","blantyre","brazzaville","bujumbura","cairo","casablanca","ceuta","conakry","dakar","dar_es_salaam","djibouti","douala","el_aaiun","freetown","gaborone","harare","johannesburg","juba","kampala","khartoum","kigali","kinshasa","lagos","libreville","lome","luanda","lubumbashi","lusaka","malabo","maputo","maseru","mbabane","mogadishu","monrovia","nairobi","ndjamena","niamey","nouakchott","ouagadougou","porto-novo","sao_tome","tripoli","tunis","windhoek"],america:["adak","anchorage","anguilla","antigua","araguaina","argentina/buenos_aires","argentina/catamarca","argentina/cordoba","argentina/jujuy","argentina/la_rioja","argentina/mendoza","argentina/rio_gallegos","argentina/salta","argentina/san_juan","argentina/san_luis","argentina/tucuman","argentina/ushuaia","aruba","asuncion","atikokan","bahia","bahia_banderas","barbados","belem","belize","blanc-sablon","boa_vista","bogota","boise","cambridge_bay","campo_grande","cancun","caracas","cayenne","cayman","chicago","chihuahua","costa_rica","creston","cuiaba","curacao","danmarkshavn","dawson","dawson_creek","denver","detroit","dominica","edmonton","eirunepe","el_salvador","fortaleza","glace_bay","godthab","goose_bay","grand_turk","grenada","guadeloupe","guatemala","guayaquil","guyana","halifax","havana","hermosillo","indiana/indianapolis","indiana/knox","indiana/marengo","indiana/petersburg","indiana/tell_city","indiana/vevay","indiana/vincennes","indiana/winamac","inuvik","iqaluit","jamaica","juneau","kentucky/louisville","kentucky/monticello","kralendijk","la_paz","lima","los_angeles","lower_princes","maceio","managua","manaus","marigot","martinique","matamoros","mazatlan","menominee","merida","metlakatla","mexico_city","miquelon","moncton","monterrey","montevideo","montreal","montserrat","nassau","new_york","nipigon","nome","noronha","north_dakota/beulah","north_dakota/center","north_dakota/new_salem","ojinaga","panama","pangnirtung","paramaribo","phoenix","port-au-prince","port_of_spain","porto_velho","puerto_rico","rainy_river","rankin_inlet","recife","regina","resolute","rio_branco","santa_isabel","santarem","santiago","santo_domingo","sao_paulo","scoresbysund","shiprock","sitka","st_barthelemy","st_johns","st_kitts","st_lucia","st_thomas","st_vincent","swift_current","tegucigalpa","thule","thunder_bay","tijuana","toronto","tortola","vancouver","whitehorse","winnipeg","yakutat","yellowknife"],antarctica:["casey","davis","dumontdurville","macquarie","mawson","mcmurdo","palmer","rothera","south_pole","syowa","vostok"],arctic:["longyearbyen"],asia:["aden","almaty","amman","anadyr","aqtau","aqtobe","ashgabat","baghdad","bahrain","baku","bangkok","beirut","bishkek","brunei","choibalsan","chongqing","colombo","damascus","dhaka","dili","dubai","dushanbe","gaza","harbin","hebron","ho_chi_minh","hong_kong","hovd","irkutsk","jakarta","jayapura","jerusalem","kabul","kamchatka","karachi","kashgar","kathmandu","khandyga","kolkata","krasnoyarsk","kuala_lumpur","kuching","kuwait","macau","magadan","makassar","manila","muscat","nicosia","novokuznetsk","novosibirsk","omsk","oral","phnom_penh","pontianak","pyongyang","qatar","qyzylorda","rangoon","riyadh","sakhalin","samarkand","seoul","shanghai","singapore","taipei","tashkent","tbilisi","tehran","thimphu","tokyo","ulaanbaatar","urumqi","ust-nera","vientiane","vladivostok","yakutsk","yekaterinburg","yerevan"],atlantic:["azores","bermuda","canary","cape_verde","faroe","madeira","reykjavik","south_georgia","st_helena","stanley"],australia:["adelaide","brisbane","broken_hill","currie","darwin","eucla","hobart","lindeman","lord_howe","melbourne","perth","sydney"],europe:["amsterdam","andorra","athens","belgrade","berlin","bratislava","brussels","bucharest","budapest","busingen","chisinau","copenhagen","dublin","gibraltar","guernsey","helsinki","isle_of_man","istanbul","jersey","kaliningrad","kiev","lisbon","ljubljana","london","luxembourg","madrid","malta","mariehamn","minsk","monaco","moscow","oslo","paris","podgorica","prague","riga","rome","samara","san_marino","sarajevo","simferopol","skopje","sofia","stockholm","tallinn","tirane","uzhgorod","vaduz","vatican","vienna","vilnius","volgograd","warsaw","zagreb","zaporozhye","zurich"],indian:["antananarivo","chagos","christmas","cocos","comoro","kerguelen","mahe","maldives","mauritius","mayotte","reunion"],pacific:["apia","auckland","chatham","chuuk","easter","efate","enderbury","fakaofo","fiji","funafuti","galapagos","gambier","guadalcanal","guam","honolulu","johnston","kiritimati","kosrae","kwajalein","majuro","marquesas","midway","nauru","niue","norfolk","noumea","pago_pago","palau","pitcairn","pohnpei","port_moresby","rarotonga","saipan","tahiti","tarawa","tongatapu","wake","wallis"],utc:[""]},r=e.split("/",2),n=r[0].toLowerCase(),i="";return r[1]&&(i=r[1].toLowerCase()),n in t&&(0===t[n].length||-1!==t[n].indexOf(i))}}}),$.extend(!0,appValidation,{methods:{helpers:appValidation.helpers,jsRemoteTimer:0,Sometimes:function(){return!0},Bail:function(){return!0},Nullable:function(){return!0},Filled:function(e,t){return $.validator.methods.required.call(this,e,t,!0)},Required:function(e,t){return $.validator.methods.required.call(this,e,t)},RequiredWith:function(e,t,r){var n=this,i=!1,o=this;return $.each(r,(function(e,r){var a=appValidation.helpers.dependentElement(o,t,r);i=i||void 0!==a&&$.validator.methods.required.call(n,o.elementValue(a),a,!0)})),!i||$.validator.methods.required.call(this,e,t,!0)},RequiredWithAll:function(e,t,r){var n=this,i=!0,o=this;return $.each(r,(function(e,r){var a=appValidation.helpers.dependentElement(o,t,r);i=i&&void 0!==a&&$.validator.methods.required.call(n,o.elementValue(a),a,!0)})),!i||$.validator.methods.required.call(this,e,t,!0)},RequiredWithout:function(e,t,r){var n=this,i=!1,o=this;return $.each(r,(function(e,r){var a=appValidation.helpers.dependentElement(o,t,r);i=i||void 0===a||!$.validator.methods.required.call(n,o.elementValue(a),a,!0)})),!i||$.validator.methods.required.call(this,e,t,!0)},RequiredWithoutAll:function(e,t,r){var n=this,i=!0,o=this;return $.each(r,(function(e,r){var a=appValidation.helpers.dependentElement(o,t,r);i=i&&(void 0===a||!$.validator.methods.required.call(n,o.elementValue(a),a,!0))})),!i||$.validator.methods.required.call(this,e,t,!0)},RequiredIf:function(e,t,r){var n=appValidation.helpers.dependentElement(this,t,r[0]);if(void 0!==n){var i=String(this.elementValue(n));if(void 0!==i){var o=r.slice(1);if(-1!==$.inArray(i,o))return $.validator.methods.required.call(this,e,t,!0)}}return!0},RequiredUnless:function(e,t,r){var n=appValidation.helpers.dependentElement(this,t,r[0]);if(void 0!==n){var i=String(this.elementValue(n));if(void 0!==i){var o=r.slice(1);if(-1!==$.inArray(i,o))return!0}}return $.validator.methods.required.call(this,e,t,!0)},Confirmed:function(e,t,r){return appValidation.methods.Same.call(this,e,t,r)},Same:function(e,t,r){var n=appValidation.helpers.dependentElement(this,t,r[0]);return void 0!==n&&String(e)===String(this.elementValue(n))},InArray:function(e,t,r){if(void 0===r[0])return!1;for(var n=this.elements(),i=!1,o=appValidation.helpers.regexFromWildcard(r[0]),a=0;a<n.length;a++){var s=n[a].name;if(s.match(o)){var l=appValidation.methods.Same.call(this,e,t,[s]);i=i||l}}return i},Distinct:function(e,t,r){if(void 0===r[0])return!1;for(var n=this.elements(),i=!1,o=appValidation.helpers.regexFromWildcard(r[0]),a=0;a<n.length;a++){var s=n[a].name;if(s!==t.name&&s.match(o)){var l=appValidation.methods.Same.call(this,e,t,[s]);i=i||l}}return!i},Different:function(e,t,r){return!appValidation.methods.Same.call(this,e,t,r)},Accepted:function(e){return new RegExp("^(?:(yes|on|1|true))$","i").test(e)},Array:function(e,t){return-1!==t.name.indexOf("[")&&-1!==t.name.indexOf("]")||$.isArray(e)},Boolean:function(e){return new RegExp("^(?:(true|false|1|0))$","i").test(e)},Integer:function(e){return new RegExp("^(?:-?\\d+)$","i").test(e)},Numeric:function(e,t){return $.validator.methods.number.call(this,e,t,!0)},String:function(e){return"string"==typeof e},Digits:function(e,t,r){return $.validator.methods.number.call(this,e,t,!0)&&e.length===parseInt(r,10)},DigitsBetween:function(e,t,r){return $.validator.methods.number.call(this,e,t,!0)&&e.length>=parseFloat(r[0])&&e.length<=parseFloat(r[1])},Size:function(e,t,r){return appValidation.helpers.getSize(this,t,e)===parseFloat(r[0])},Between:function(e,t,r){return appValidation.helpers.getSize(this,t,e)>=parseFloat(r[0])&&appValidation.helpers.getSize(this,t,e)<=parseFloat(r[1])},Min:function(e,t,r){return appValidation.helpers.getSize(this,t,e)>=parseFloat(r[0])},Max:function(e,t,r){return appValidation.helpers.getSize(this,t,e)<=parseFloat(r[0])},In:function(e,t,r){if($.isArray(e)&&appValidation.helpers.hasRules(t,"Array")){var n=appValidation.helpers.arrayDiff(e,r);return 0===Object.keys(n).length}return-1!==r.indexOf(e.toString())},NotIn:function(e,t,r){return-1===r.indexOf(e.toString())},Ip:function(e){return/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},Email:function(e,t){return $.validator.methods.email.call(this,e,t,!0)},Url:function(e,t){return $.validator.methods.url.call(this,e,t,!0)},File:function(e,t){return!(window.File&&window.FileReader&&window.FileList&&window.Blob)||"files"in t&&t.files.length>0},Mimes:function(e,t,r){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return!0;var n=$.map(r,(function(e){return e.toLowerCase()})),i=appValidation.helpers.fileinfo(t);return!1!==i&&-1!==n.indexOf(i.extension.toLowerCase())},Mimetypes:function(e,t,r){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return!0;var n=$.map(r,(function(e){return e.toLowerCase()})),i=appValidation.helpers.fileinfo(t);return!1!==i&&-1!==n.indexOf(i.type.toLowerCase())},Image:function(e,t){return appValidation.methods.Mimes.call(this,e,t,["jpg","png","gif","bmp","svg","jpeg"])},Dimensions:function Dimensions(value,element,params,callback){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return!0;if(null===element.files||void 0===element.files[0])return!1;var fr=new FileReader;return fr.onload=function(){var img=new Image;img.onload=function(){var height=parseFloat(img.naturalHeight),width=parseFloat(img.naturalWidth),ratio=width/height,notValid=params.width&&parseFloat(params.width!==width)||params.min_width&&parseFloat(params.min_width)>width||params.max_width&&parseFloat(params.max_width)<width||params.height&&parseFloat(params.height)!==height||params.min_height&&parseFloat(params.min_height)>height||params.max_height&&parseFloat(params.max_height)<height||params.ratio&&ratio!==parseFloat(eval(params.ratio));callback(!notValid)},img.onerror=function(){callback(!1)},img.src=fr.result},fr.readAsDataURL(element.files[0]),"pending"},Alpha:function(e){return"string"==typeof e&&new RegExp("^(?:^[a-zÃ -Ã¼]+$)$","i").test(e)},AlphaNum:function(e){return"string"==typeof e&&new RegExp("^(?:^[a-z0-9Ã -Ã¼]+$)$","i").test(e)},AlphaDash:function(e){return"string"==typeof e&&new RegExp("^(?:^[a-z0-9Ã -Ã¼_-]+$)$","i").test(e)},Regex:function(e,t,r){var n=["x","s","u","X","U","A"],i=new RegExp("^(?:/)(.*\\/?[^/]*|[^/]*)(?:/)([gmixXsuUAJ]*)?$"),o=r[0].match(i);if(null===o)return!1;var a=[];if(void 0!==o[2]){a=o[2].split("");for(var s=0;s<a.length<s;s++)if(-1!==n.indexOf(a[s]))return!0}return new RegExp("^(?:"+o[1]+")$",a.join()).test(e)},Date:function(e){return!1!==appValidation.helpers.strtotime(e)},DateFormat:function(e,t,r){return!1!==appValidation.helpers.parseTime(e,r[0])},Before:function(e,t,r){var n=parseFloat(r);if(isNaN(n)){var i=appValidation.helpers.dependentElement(this,t,r);if(void 0===i)return!1;n=appValidation.helpers.parseTime(this.elementValue(i),i)}var o=appValidation.helpers.parseTime(e,t);return!1!==o&&o<n},After:function(e,t,r){var n=parseFloat(r);if(isNaN(n)){var i=appValidation.helpers.dependentElement(this,t,r);if(void 0===i)return!1;n=appValidation.helpers.parseTime(this.elementValue(i),i)}var o=appValidation.helpers.parseTime(e,t);return!1!==o&&o>n},Timezone:function(e){return appValidation.helpers.isTimezone(e)},Json:function(e){var t=!0;try{JSON.parse(e)}catch(e){t=!1}return t}}}),appValidation.init()},initDatatableLoadMore=function(){jQuery&&function(e){e.fn.dataTable&&(e.fn.dataTable.pageLoadMore=function(t){var r=e.extend({url:"",data:null,method:"GET"},t),n=null,i=null;return function(t,o,a){if(!a.pageLoadMore){var s=new e.fn.dataTable.Api(a).page.info();a.pageLoadMore={pageLength:s.length}}var l=!1;if(n&&(JSON.stringify(t.order)===JSON.stringify(n.order)&&JSON.stringify(t.columns)===JSON.stringify(n.columns)&&JSON.stringify(t.search)===JSON.stringify(n.search)||(l=!0)),n=e.extend(!0,{},t),l&&(i=null,t.length=a.pageLoadMore.pageLength),t.start=t.length-a.pageLoadMore.pageLength,t.length=a.pageLoadMore.pageLength,e.isFunction(r.data)){var c=r.data(t);c&&e.extend(t,c)}else e.isPlainObject(r.data)&&e.extend(t,r.data);a.jqXHR=e.ajax({type:r.method,url:r.url,data:t,dataType:"json",cache:!1,success:function(t){i&&(t.data=i.data.concat(t.data)),i=e.extend(!0,{},t),o(t)}})}},e.fn.dataTable.Api.register("page.resetMore()",(function(){return this.iterator("table",(function(e){api.page.len(e.pageLoadMore.pageLength)}))})),e.fn.dataTable.Api.register("page.hasMore()",(function(){return this.page.info().pages>1})),e.fn.dataTable.Api.register("page.loadMore()",(function(){return this.iterator("table",(function(e){var t=this.page.info();t.pages>1&&(e.pageLoadMore||(e.pageLoadMore={pageLength:t.length}),this.page.len(t.length+e.pageLoadMore.pageLength).draw("page"))}))})))}(jQuery)},initPlugin=function(){initDatatableLoadMore()},defineProperty={exports:{}};!function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}(defineProperty);var _defineProperty=getDefaultExportFromCjs(defineProperty.exports),getNumber=function(e,t){var r=e.rows,n=e.children,i="table"===t?r:n,o=[].slice.call(i).filter((function(e){return"hidden"===e.className})).length;return 0!==o?" ".concat(o):""},htmlSubstr=function(e,t){var r=createElement("div");return r.insertAdjacentHTML("afterbegin",e),function e(t,r){var n=t.firstChild;do{3===n.nodeType?r(n):1===n.nodeType&&n.childNodes&&n.childNodes[0]&&e(n,r)}while(n=n.nextSibling)}(r,(function(e){if(t>0){var r=e.data.length;(t-=r)<=0&&(e.data=e.substringData(0,e.data.length+t))}else e.data=""})),r.innerHTML},addRemoveClass=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.classList[t?"add":"remove"]("hidden")},setAttributes=function(e,t){for(var r in t)e.setAttribute(r,t[r])},createElement=function(e){return document.createElement(e)},defaultRegex={newLine:{match:/(\r\n|\n|\r)/gm,replace:""},space:{match:/\s\s+/gm,replace:" "},br:{match:/<br\s*\/?>/gim,replace:""},html:{match:/(<((?!b|\/b|!strong|\/strong)[^>]+)>)/gi,replace:""}},defaultOptions={typeElement:"span",more:!1,less:!1,number:!1,nobutton:!1,after:0,btnClass:"show-more-btn",btnClassAppend:null};function ownKeys$e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$e(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ShowMore=function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.onMoreLess,o=void 0===i?function(){}:i,a=n.regex,s=void 0===a?{}:a,l=n.config;_classCallCheck(this,e),_defineProperty(this,"_initial",(function(){var e=r._object,t=e.element,n=e.after,i=e.ellipsis,o=e.nobutton,a=e.limit,s=e.type;setAttributes(t,{"aria-expanded":"false"});var l=a+n,c=!1===i?"":"...";if("text"===s){var u=t.innerHTML.trim();if(t.textContent.trim().length>l){var d=u;for(var f in r._regex){var p=r._regex[f],h=p.match,m=p.replace;f&&h&&(d=d.replace(h,m))}var g=htmlSubstr(d,a-1).concat(c);if(t.textContent="",t.insertAdjacentHTML("beforeend",g),r._clickEvent(t,_objectSpread$d(_objectSpread$d({},r._object),{},{originalText:u,truncatedText:g})),o)return;r._addBtn(r._object)}}if("list"===s||"table"===s){var y=r._getNumberCount(t,s);if(y.length>l){for(var v=a;v<y.length;v++)addRemoveClass(y[v],!0);if(r._clickEvent("list"===s?t:t.nextElementSibling,r._object),o)return;r._addBtn(r._object)}}})),_defineProperty(this,"_clickEvent",(function(e,t){return e.addEventListener("click",r._handleEvent.bind(r,t))})),_defineProperty(this,"_createBtn",(function(e){var t=e.element,n=e.number,i=e.less,o=e.more,a=e.type,s=e.btnClass,l=e.btnClassAppend,c=r._checkExp?i||"":o||"",u=r._checkExp?"collapse":"expand",d=!!r._checkExp,f=createElement("button");return f.className=null==l?s:s+" "+l,setAttributes(f,{"aria-expanded":d,"aria-label":u,tabindex:0}),f.insertAdjacentHTML("beforeend",n?c+getNumber(t,a):c),f})),_defineProperty(this,"_handleEvent",(function(e,t){var n=t.target,i=e.element,o=e.type,a=e.limit,s=e.less,l=e.typeElement,c=e.originalText,u=e.truncatedText,d=e.btnClass,f=n.classList.contains(d);if(f){var p=i.getAttribute("aria-expanded");if(r._checkExp="false"===p,"text"===o&&f&&(i.textContent="",i.insertAdjacentHTML("beforeend",r._checkExp?c:u),s)){var h=createElement(l);h.classList.add("show-more-wrapper"),h.insertAdjacentElement("beforeend",r._createBtn(e)),i.appendChild(h)}if("list"===o||"table"===o)for(var m=r._getNumberCount(i,o),g=0;g<m.length;g++){var y="list"===o?g>=a&&g<m.length-1:g>=a;"false"===p?addRemoveClass(m[g]):y&&addRemoveClass(m[g],!0)}o&&r._setExpand(_objectSpread$d(_objectSpread$d({},e),{},{target:n}))}})),_defineProperty(this,"_getNumberCount",(function(e,t){return"list"===t?[].slice.call(e.children):e.rows})),_defineProperty(this,"_addBtn",(function(e){var t=e.type,n=e.element,i=e.more,o=e.typeElement;if(i)if("table"===t)n.insertAdjacentElement("afterend",r._createBtn(e));else{var a=createElement(o);a.classList.add("show-more-wrapper"),a.appendChild(r._createBtn(e)),n.appendChild(a)}})),_defineProperty(this,"_setExpand",(function(e){var t=e.element,n=e.type,i=e.less,o=e.more,a=e.number,s=e.target,l=r._checkExp?i:o,c=r._checkExp?"expand":"collapse",u="table"===n?n:"the ".concat(n),d=t.lastElementChild;setAttributes(t,{"aria-expanded":r._checkExp}),setAttributes(s,{"aria-expanded":r._checkExp,"aria-label":"".concat(c," ").concat(u)}),r._onMoreLess(c,e),l?s.innerHTML=a?l+getNumber(t,n):l:"table"===n?s.parentNode.removeChild(s):"list"===n&&d.parentNode.removeChild(d)}));var c=t instanceof Element?[t]:[].slice.call(document.querySelectorAll(t));this._onMoreLess=o,this._regex=_objectSpread$d(_objectSpread$d({},defaultRegex),s),c.map((function(e,t){var n=JSON.parse(e.getAttribute("cres-config")),i=_objectSpread$d(_objectSpread$d({},l),n);r._object=_objectSpread$d(_objectSpread$d(_objectSpread$d({index:t,classArray:e.classList},defaultOptions),i),{},{typeElement:i.element||"span",element:e}),r._initial()}))},initShowMore=function(e){new ShowMore(e)},Shimmer=function e(t){_classCallCheck(this,e),t instanceof Element||[].slice.call(document.querySelectorAll(t))},initShimmer=function(e){new Shimmer(e)},getChildrenByClassName=function(e,t){for(var r=e.children,n=[],i=0;i<r.length;i++)hasClass(r[i],t)&&n.push(r[i]);return n},hideDelete=function(e){e.blocks.forEach((function(e){for(var t=e.getElementsByClassName("cres-repeater-action-delete"),r=0;r<t.length;r++){t[r].style.display="none"}}))},showDelete=function(e){e.blocks.forEach((function(e){for(var t=e.getElementsByClassName("cres-repeater-action-delete"),r=0;r<t.length;r++){t[r].style.display="block"}}))},updateUi=function(e){e.minItem>=e.blocks.length?hideDelete(e):showDelete(e)};function ownKeys$d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$d(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var getIndexInArray=function(e,t){return Array.prototype.indexOf.call(e,t)};function getBlocksList(e){e.blocks=getChildrenByClassName(e.blockWrapper[0],"cres-repeater-row")}var addBlock=function(e){var t;t=e.blocks.length>0?e.blocks[e.blocks.length-1].cloneNode(!0):e.firstBlock.cloneNode(!0),e.cloneClass&&addClass(t,e.cloneClass),e.blockWrapper[0].appendChild(t),componentUpdate(e)};function removeBlock(e,t){var r=t.closest(".cres-repeater-row");r&&(getIndexInArray(e.blocks,r),r.remove(),componentUpdate(e))}function componentUpdate(e){setTimeout((function(){getBlocksList(e),updateUi(e)}),0)}function initRepeater$1(e){e.addNew.length<1||e.blocks.length<1||e.blockWrapper.length<1||(e.firstBlock=e.blocks[0].cloneNode(!0),e.element.addEventListener("click",(function(t){var r=t.target.closest(".cres-repeater-action-delete");r&&(t.preventDefault(),removeBlock(e,r))})),e.addNew[0].addEventListener("click",(function(t){t.preventDefault(),addBlock(e)})),updateUi(e))}var Repeater=function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,e),this.elements=t instanceof Element?[t]:[].slice.call(document.querySelectorAll(t)),!(this.elements.length<1)){this.element=this.elements[0],this.blockWrapper=this.element.getElementsByClassName("cres-repeater-wrapper"),this.blocks=!1,getBlocksList(this),this.firstBlock=!1;var i=JSON.parse(this.element.getAttribute("cres-config"));this.config=_objectSpread$c(_objectSpread$c({},n),i),this.addNew=this.element.getElementsByClassName("cres-repeater-action-add"),this.cloneClass=this.element.getAttribute("data-repeater-class"),this.inputName=this.element.getAttribute("data-repeater-input-name"),this.minItem=null!==(r=i.minItem)&&void 0!==r?r:1,initRepeater$1(this)}},initRepeater=function(e){return new Repeater(e)},CresQuery=function(){function e(t){return _classCallCheck(this,e),this.selector=this._getSelector(t),this.firstElement=this._getFirstEl(),this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this}return _createClass(e,[{key:"_getSelector",value:function(e,t){return"string"!=typeof e?e:(t=t||document,"#"===e.substring(0,1)?t.querySelector(e):t.querySelectorAll(e))}},{key:"_each",value:function(e){return this.selector?(void 0!==this.selector.length?[].forEach.call(this.selector,e):e(this.selector,0),this):this}},{key:"_setCssVendorPrefix",value:function(e,t,r){var n=t.replace(/-([a-z])/gi,(function(e,t){return t.toUpperCase()}));-1!==this.cssVenderPrefixes.indexOf(n)?(e.style[n.charAt(0).toLowerCase()+n.slice(1)]=r,e.style["webkit"+n]=r,e.style["moz"+n]=r,e.style["ms"+n]=r,e.style["o"+n]=r):e.style[n]=r}},{key:"_getFirstEl",value:function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector}},{key:"isEventMatched",value:function(e,t){var r=t.split(".");return e.split(".").filter((function(e){return e})).every((function(e){return-1!==r.indexOf(e)}))}},{key:"attr",value:function(e,t){return void 0===t?this.firstElement?this.firstElement.getAttribute(e):"":(this._each((function(r){r.setAttribute(e,t)})),this)}},{key:"find",value:function(e){return cresQuery(this._getSelector(e,this.selector))}},{key:"first",value:function(){return this.selector&&void 0!==this.selector.length?cresQuery(this.selector[0]):cresQuery(this.selector)}},{key:"eq",value:function(e){return cresQuery(this.selector[e])}},{key:"parent",value:function(){return cresQuery(this.selector.parentElement)}},{key:"get",value:function(){return this._getFirstEl()}},{key:"removeAttr",value:function(e){var t=e.split(" ");return this._each((function(e){t.forEach((function(t){return e.removeAttribute(t)}))})),this}},{key:"wrap",value:function(e){if(!this.firstElement)return this;var t=document.createElement("div");return t.className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement),this}},{key:"addClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._each((function(t){e.split(" ").forEach((function(e){e&&t.classList.add(e)}))})),this}},{key:"removeClass",value:function(e){return this._each((function(t){e.split(" ").forEach((function(e){e&&t.classList.remove(e)}))})),this}},{key:"hasClass",value:function(e){return!!this.firstElement&&this.firstElement.classList.contains(e)}},{key:"hasAttribute",value:function(e){return!!this.firstElement&&this.firstElement.hasAttribute(e)}},{key:"toggleClass",value:function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this}},{key:"css",value:function(e,t){var r=this;return this._each((function(n){r._setCssVendorPrefix(n,e,t)})),this}},{key:"on",value:function(t,r){var n=this;return this.selector?(t.split(" ").forEach((function(t){Array.isArray(e.eventListeners[t])||(e.eventListeners[t]=[]),e.eventListeners[t].push(r),n.selector.addEventListener(t.split(".")[0],r)})),this):this}},{key:"once",value:function(e,t){var r=this;return this.on(e,(function(){r.off(e),t(e)})),this}},{key:"off",value:function(t){var r=this;return this.selector?(Object.keys(e.eventListeners).forEach((function(n){r.isEventMatched(t,n)&&(e.eventListeners[n].forEach((function(e){r.selector.removeEventListener(n.split(".")[0],e)})),e.eventListeners[n]=[])})),this):this}},{key:"trigger",value:function(e,t){if(!this.firstElement)return this;var r=new CustomEvent(e.split(".")[0],{detail:t||null});return this.firstElement.dispatchEvent(r),this}},{key:"load",value:function(e){var t=this;return fetch(e).then((function(e){return e.text()})).then((function(e){t.selector.innerHTML=e})),this}},{key:"html",value:function(e){return void 0===e?this.firstElement?this.firstElement.innerHTML:"":(this._each((function(t){t.innerHTML=e})),this)}},{key:"append",value:function(e){return this._each((function(t){"string"==typeof e?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)})),this}},{key:"prepend",value:function(e){return this._each((function(t){t.insertAdjacentHTML("afterbegin",e)})),this}},{key:"remove",value:function(){return this._each((function(e){e.parentNode.removeChild(e)})),this}},{key:"empty",value:function(){return this._each((function(e){e.innerHTML=""})),this}},{key:"scrollTop",value:function(e){return void 0!==e?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},{key:"scrollLeft",value:function(e){return void 0!==e?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}},{key:"offset",value:function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),t=$LG("body").style().marginLeft;return{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}}},{key:"style",value:function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}}},{key:"width",value:function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)}},{key:"height",value:function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)}}],[{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}}]),e}();_defineProperty(CresQuery,"eventListeners",{});var cresQuery=function(e){return new CresQuery(e)},galleryConfig={mode:"cres-gallery-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"cres-gallery-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".cres-gallery-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".cres-gallery-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video"}},galleryEvent={afterAppendSlide:"cres:gallery:afterAppendSlide",init:"cres:gallery:init",hasVideo:"cres:gallery:hasVideo",containerResize:"cres:gallery:containerResize",updateSlides:"cres:gallery:updateSlides",afterAppendSubHtml:"cres:gallery:afterAppendSubHtml",beforeOpen:"cres:gallery:beforeOpen",afterOpen:"cres:gallery:afterOpen",slideItemLoad:"cres:gallery:slideItemLoad",beforeSlide:"cres:gallery:beforeSlide",afterSlide:"cres:gallery:afterSlide",posterClick:"cres:gallery:posterClick",dragStart:"cres:gallery:dragStart",dragMove:"cres:gallery:dragMove",dragEnd:"cres:gallery:dragEnd",beforeNextSlide:"cres:gallery:beforeNextSlide",beforePrevSlide:"cres:gallery:beforePrevSlide",beforeClose:"cres:gallery:beforeClose",afterClose:"cres:gallery:afterClose",rotateLeft:"cres:gallery:rotateLeft",rotateRight:"cres:gallery:rotateRight",flipHorizontal:"cres:gallery:flipHorizontal",flipVertical:"cres:gallery:flipVertical",autoplay:"cres:gallery:autoplay",autoplayStart:"cres:gallery:autoplayStart",autoplayStop:"cres:gallery:autoplayStop"},thumbnailConfig={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".cres-gallery-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}};function ownKeys$c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$c(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Thumbnail=function(){function e(t){_classCallCheck(this,e),this.gallery=t,this.config=_objectSpread$b(_objectSpread$b({},thumbnailConfig),this.gallery.config)}return _createClass(e,[{key:"init",value:function(){this.thumbOuterWidth=0,this.thumbTotalWidth=this.gallery.galleryItems.length*(this.config.thumbWidth+this.config.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.gallery.config.allowMediaOverlap||(this.config.toggleThumb=!1),this.config.thumbnail&&(this.build(),this.config.animateThumb?(this.config.enableThumbDrag&&this.enableThumbDrag(),this.config.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())}},{key:"build",value:function(){var e=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$cresGalleryThumb.first().on("click.cres-gallery touchend.cres-gallery",(function(t){var r=cresQuery(t.target);r.hasAttribute("data-cres-gallery-item-id")&&setTimeout((function(){if(e.thumbClickable&&!e.gallery.cresGalleryBusy){var t=parseInt(r.attr("data-cres-gallery-item-id"));e.gallery.slide(t,!1,!0,!1)}}),50)})),this.gallery.cresEl.on("".concat(galleryEvent.beforeSlide,".thumb"),(function(t){var r=t.detail.index;e.animateThumb(r)})),this.gallery.cresEl.on("".concat(galleryEvent.beforeOpen,".thumb"),(function(){e.thumbOuterWidth=e.gallery.outer.get().offsetWidth})),this.gallery.cresEl.on("".concat(galleryEvent.updateSlides,".thumb"),(function(){e.rebuildThumbnails()})),this.gallery.cresEl.on("".concat(galleryEvent.containerResize,".thumb"),(function(){e.gallery.cresGalleryOpened&&setTimeout((function(){e.thumbOuterWidth=e.gallery.outer.get().offsetWidth,e.animateThumb(e.gallery.index),e.thumbOuterWidth=e.gallery.outer.get().offsetWidth}),50)}))}},{key:"setThumbMarkup",value:function(){var e="cres-gallery-thumb-outer ";this.config.alignThumbnails&&(e+="cres-gallery-thumb-align-".concat(this.config.alignThumbnails));var t='<div class="'.concat(e,'">\n        <div class="cres-gallery-thumb cres-gallery-group">\n        </div>\n        </div>');this.gallery.outer.addClass("cres-gallery-has-thumb"),".cres-gallery-components"===this.config.appendThumbnailsTo?this.gallery.$cresGalleryComponents.append(t):this.gallery.outer.append(t),this.$thumbOuter=this.gallery.outer.find(".cres-gallery-thumb-outer").first(),this.$cresGalleryThumb=this.gallery.outer.find(".cres-gallery-thumb").first(),this.config.animateThumb&&this.gallery.outer.find(".cres-gallery-thumb").css("transition-duration",this.gallery.config.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.gallery.galleryItems)}},{key:"enableThumbDrag",value:function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},r=!1;this.$thumbOuter.addClass("cres-gallery-grab"),this.gallery.outer.find(".cres-gallery-thumb").first().on("mousedown.cres-galley.thumb",(function(n){e.thumbTotalWidth>e.thumbOuterWidth&&(n.preventDefault(),t.cords.startX=n.pageX,t.startTime=new Date,e.thumbClickable=!1,r=!0,e.gallery.outer.get().scrollLeft+=1,e.gallery.outer.get().scrollLeft-=1,e.$thumbOuter.removeClass("cres-gallery-grab").addClass("cres-gallery-grabbing"))})),cresQuery(window).on("mousemove.cres-gallery.thumb.global".concat(this.gallery.cresGalleryId),(function(n){e.gallery.cresGalleryOpened&&r&&(t.cords.endX=n.pageX,t=e.onThumbTouchMove(t))})),cresQuery(window).on("mouseup.cres-gallery.thumb.global".concat(this.gallery.cresGalleryId),(function(){e.gallery.cresGalleryOpened&&(t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0,r&&(r=!1,e.$thumbOuter.removeClass("cres-gallery-grabbing").addClass("cres-gallery-grab")))}))}},{key:"enableThumbSwipe",value:function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$cresGalleryThumb.on("touchstart.cres-gallery",(function(r){e.thumbTotalWidth>e.thumbOuterWidth&&(r.preventDefault(),t.cords.startX=r.targetTouches[0].pageX,e.thumbClickable=!1,t.startTime=new Date)})),this.$cresGalleryThumb.on("touchmove.cres-gallery",(function(r){e.thumbTotalWidth>e.thumbOuterWidth&&(r.preventDefault(),t.cords.endX=r.targetTouches[0].pageX,t=e.onThumbTouchMove(t))})),this.$cresGalleryThumb.on("touchend.cres-gallery",(function(){t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0}))}},{key:"rebuildThumbnails",value:function(){var e=this;this.$thumbOuter.addClass("cres-gallery-rebuilding-thumbnails"),setTimeout((function(){e.thumbTotalWidth=e.gallery.galleryItems.length*(e.config.thumbWidth+e.config.thumbMargin),e.$cresGalleryThumb.css("width",e.thumbTotalWidth+"px"),e.$cresGalleryThumb.empty(),e.setThumbItemHtml(e.gallery.galleryItems),e.animateThumb(e.gallery.index)}),50),setTimeout((function(){e.$thumbOuter.removeClass("cres-gallery-rebuilding-thumbnails")}),200)}},{key:"setTranslate",value:function(e){this.$cresGalleryThumb.css("transform","translate3d(-"+e+"px, 0px, 0px)")}},{key:"getPossibleTransformX",value:function(e){return e>this.thumbTotalWidth-this.thumbOuterWidth&&(e=this.thumbTotalWidth-this.thumbOuterWidth),e<0&&(e=0),e}},{key:"animateThumb",value:function(e){if(this.$cresGalleryThumb.css("transition-duration",this.gallery.config.speed+"ms"),this.config.animateThumb){var t=0;switch(this.config.currentPagerPosition){case"left":t=0;break;case"middle":t=this.thumbOuterWidth/2-this.config.thumbWidth/2;break;case"right":t=this.thumbOuterWidth-this.config.thumbWidth}this.translateX=(this.config.thumbWidth+this.config.thumbMargin)*e-1-t,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}}},{key:"onThumbTouchMove",value:function(e){return e.newTranslateX=this.translateX,e.isMoved=!0,e.touchMoveTime=(new Date).valueOf(),e.newTranslateX-=e.cords.endX-e.cords.startX,e.newTranslateX=this.getPossibleTransformX(e.newTranslateX),this.setTranslate(e.newTranslateX),this.$thumbOuter.addClass("cres-gallery-dragging"),e}},{key:"onThumbTouchEnd",value:function(e){e.isMoved=!1,e.endTime=new Date,this.$thumbOuter.removeClass("cres-gallery-dragging");var t=e.endTime.valueOf()-e.startTime.valueOf(),r=e.cords.endX-e.cords.startX,n=Math.abs(r)/t;return n>.15&&e.endTime.valueOf()-e.touchMoveTime<30?((n+=1)>2&&(n+=1),n+=n*(Math.abs(r)/this.thumbOuterWidth),this.$cresGalleryThumb.css("transition-duration",Math.min(n-1,2)+"settings"),r*=n,this.translateX=this.getPossibleTransformX(this.translateX-r),this.setTranslate(this.translateX)):this.translateX=e.newTranslateX,Math.abs(e.cords.endX-e.cords.startX)<this.config.thumbnailSwipeThreshold&&(this.thumbClickable=!0),e}},{key:"getThumbHtml",value:function(e,t){var r,n=this.gallery.galleryItems[t].__slideVideoInfo||{};return r=n.youtube&&this.config.loadYouTubeThumbnail?"//img.youtube.com/vi/"+n.youtube[1]+"/"+this.config.youTubeThumbSize+".jpg":e,'<div data-cres-gallery-item-id="'.concat(t,'" class="cres-gallery-thumb-item ').concat(t===this.gallery.index?" active":"",'"\n        style="width:').concat(this.config.thumbWidth,"px; height: ").concat(this.config.thumbHeight,";\n            margin-right: ").concat(this.config.thumbMargin,'px;">\n            <img data-cres-gallery-item-id="').concat(t,'" src="').concat(r,'" />\n        </div>')}},{key:"getThumbItemHtml",value:function(e){for(var t="",r=0;r<e.length;r++)t+=this.getThumbHtml(e[r].thumb,r);return t}},{key:"setThumbItemHtml",value:function(e){var t=this.getThumbItemHtml(e);this.$cresGalleryThumb.html(t)}},{key:"setAnimateThumbStyles",value:function(){this.config.animateThumb&&this.gallery.outer.addClass("cres-gallery-animate-thumb")}},{key:"manageActiveClassOnSlideChange",value:function(){var e=this;this.gallery.cresEl.on("".concat(galleryEvent.beforeSlide,".thumb"),(function(t){var r=e.gallery.outer.find(".cres-gallery-thumb-item"),n=t.detail.index;r.removeClass("active"),r.eq(n).addClass("active")}))}},{key:"toggleThumbBar",value:function(){var e=this;this.config.toggleThumb&&(this.gallery.outer.addClass("cres-gallery-can-toggle"),this.gallery.$toolbar.append('<button type="button" aria-label="'+this.config.thumbnailPluginStrings.toggleThumbnails+'" class="cres-gallery-toggle-thumb cres-gallery-icon"></button>'),this.gallery.outer.find(".cres-gallery-toggle-thumb").first().on("click.cres-gallery",(function(){e.gallery.outer.toggleClass("cres-gallery-components-open")})))}},{key:"thumbKeyPress",value:function(){var e=this;cresQuery(window).on("keydown.cres-gallery.thumb.global".concat(this.gallery.cresGalleryId),(function(t){e.gallery.cresGalleryOpened&&e.config.toggleThumb&&(38===t.keyCode?(t.preventDefault(),e.gallery.outer.addClass("cres-gallery-components-open")):40===t.keyCode&&(t.preventDefault(),e.gallery.outer.removeClass("cres-gallery-components-open")))}))}},{key:"destroy",value:function(){this.config.thumbnail&&(cresQuery(window).off(".cres-gallery.thumb.global".concat(this.gallery.cresGalleryId)),this.gallery.cresEl.off(".cres-gallery.thumb"),this.gallery.cresEl.off(".thumb"),this.$thumbOuter.remove(),this.gallery.outer.removeClass("cres-gallery-has-thumb"))}}]),e}(),rotateConfig={rotate:!0,rotateSpeed:400,rotateLeft:!0,rotateRight:!0,flipHorizontal:!0,flipVertical:!0,rotatePluginStrings:{flipVertical:"Flip vertical",flipHorizontal:"Flip horizontal",rotateLeft:"Rotate left",rotateRight:"Rotate right"}};function ownKeys$b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$b(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rotate=function(){function e(t){_classCallCheck(this,e),this.gallery=t,this.config=_objectSpread$a(_objectSpread$a({},rotateConfig),this.gallery.config),this.rotateValuesList={}}return _createClass(e,[{key:"buildTemplates",value:function(){var e="";this.config.flipVertical&&(e+='<button type="button" id="cres-gallery-flip-ver" aria-label="'.concat(this.config.rotatePluginStrings.flipVertical,'" class="cres-gallery-flip-ver cres-gallery-icon"></button>')),this.config.flipHorizontal&&(e+='<button type="button" id="cres-gallery-flip-hor" aria-label="'.concat(this.config.rotatePluginStrings.flipHorizontal,'" class="cres-gallery-flip-hor cres-gallery-icon"></button>')),this.config.rotateLeft&&(e+='<button type="button" id="cres-gallery-rotate-left" aria-label="'.concat(this.config.rotatePluginStrings.rotateLeft,'" class="cres-gallery-rotate-left cres-gallery-icon"></button>')),this.config.rotateRight&&(e+='<button type="button" id="cres-gallery-rotate-right" aria-label="'.concat(this.config.rotatePluginStrings.rotateRight,'" class="cres-gallery-rotate-right cres-gallery-icon"></button>')),this.gallery.$toolbar.append(e)}},{key:"init",value:function(){var e=this;this.config.rotate&&(this.buildTemplates(),this.rotateValuesList={},this.gallery.cresEl.on("".concat(galleryEvent.slideItemLoad,".rotate"),(function(t){var r=t.detail.index;e.gallery.getSlideItem(r).find(".cres-gallery-img-rotate").get()||(e.gallery.getSlideItem(r).find(".cres-gallery-object").first().wrap("cres-gallery-img-rotate"),e.gallery.getSlideItem(e.gallery.index).find(".cres-gallery-img-rotate").css("transition-duration",e.config.rotateSpeed+"ms"))})),this.gallery.outer.find("#cres-gallery-rotate-left").first().on("click.cres-gallery",this.rotateLeft.bind(this)),this.gallery.outer.find("#cres-gallery-rotate-right").first().on("click.cres-gallery",this.rotateRight.bind(this)),this.gallery.outer.find("#cres-gallery-flip-hor").first().on("click.cres-gallery",this.flipHorizontal.bind(this)),this.gallery.outer.find("#cres-gallery-flip-ver").first().on("click.cres-gallery",this.flipVertical.bind(this)),this.gallery.cresEl.on("".concat(galleryEvent.beforeSlide,".rotate"),(function(t){e.rotateValuesList[t.detail.index]||(e.rotateValuesList[t.detail.index]={rotate:0,flipHorizontal:1,flipVertical:1})})))}},{key:"applyStyles",value:function(){this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-img-rotate").first().css("transform","rotate("+this.rotateValuesList[this.gallery.index].rotate+"deg) scale3d("+this.rotateValuesList[this.gallery.index].flipHorizontal+", "+this.rotateValuesList[this.gallery.index].flipVertical+", 1)")}},{key:"rotateLeft",value:function(){this.rotateValuesList[this.gallery.index].rotate-=90,this.applyStyles(),this.triggerEvents(galleryEvent.rotateLeft,{rotate:this.rotateValuesList[this.gallery.index].rotate})}},{key:"rotateRight",value:function(){this.rotateValuesList[this.gallery.index].rotate+=90,this.applyStyles(),this.triggerEvents(galleryEvent.rotateRight,{rotate:this.rotateValuesList[this.gallery.index].rotate})}},{key:"getCurrentRotation",value:function(e){if(!e)return 0;var t=cresQuery(e).style(),r=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")||"none";if("none"!==r){var n=r.split("(")[1].split(")")[0].split(",");if(n){var i=Math.round(Math.atan2(n[1],n[0])*(180/Math.PI));return i<0?i+360:i}}return 0}},{key:"flipHorizontal",value:function(){var e=this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-img-rotate").first().get(),t=this.getCurrentRotation(e),r="flipHorizontal";90!==t&&270!==t||(r="flipVertical"),this.rotateValuesList[this.gallery.index][r]*=-1,this.applyStyles(),this.triggerEvents(galleryEvent.flipHorizontal,{flipHorizontal:this.rotateValuesList[this.gallery.index][r]})}},{key:"flipVertical",value:function(){var e=this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-img-rotate").first().get(),t=this.getCurrentRotation(e),r="flipVertical";90!==t&&270!==t||(r="flipHorizontal"),this.rotateValuesList[this.gallery.index][r]*=-1,this.applyStyles(),this.triggerEvents(galleryEvent.flipVertical,{flipVertical:this.rotateValuesList[this.gallery.index][r]})}},{key:"triggerEvents",value:function(e,t){var r=this;setTimeout((function(){r.gallery.cresEl.trigger(e,t)}),this.config.rotateSpeed+10)}},{key:"isImageOrientationChanged",value:function(){var e=this.rotateValuesList[this.gallery.index],t=Math.abs(e.rotate)%360!=0,r=e.flipHorizontal<0,n=e.flipVertical<0;return t||r||n}},{key:"closeGallery",value:function(){this.isImageOrientationChanged()&&this.gallery.getSlideItem(this.gallery.index).css("opacity",0),this.rotateValuesList={}}},{key:"destroy",value:function(){this.gallery.cresEl.off(".cres-gallery.rotate"),this.gallery.cresEl.off(".rotate")}}]),e}(),zoomConfig={scale:1,zoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"cres-gallery-zoom-in",zoomOut:"cres-gallery-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}};function ownKeys$a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$a(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ZOOM_TRANSITION_DURATION=500,Zoom=function(){function e(t){_classCallCheck(this,e),this.gallery=t,this.config=_objectSpread$9(_objectSpread$9({},zoomConfig),this.gallery.config)}return _createClass(e,[{key:"buildTemplates",value:function(){var e=this.config.showZoomInOutIcons?'<button id="'.concat(this.gallery.getIdName("cres-gallery-zoom-in"),'" type="button" aria-label="').concat(this.config.zoomPluginStrings.zoomIn,'" class="cres-gallery-zoom-in cres-gallery-icon"></button><button id="').concat(this.gallery.getIdName("cres-gallery-zoom-out"),'" type="button" aria-label="').concat(this.config.zoomPluginStrings.zoomIn,'" class="cres-gallery-zoom-out cres-gallery-icon"></button>'):"";this.config.actualSize&&(e+='<button id="'.concat(this.gallery.getIdName("cres-gallery-actual-size"),'" type="button" aria-label="').concat(this.config.zoomPluginStrings.viewActualSize,'" class="').concat(this.config.actualSizeIcons.zoomIn,' cres-gallery-icon"></button>')),this.gallery.outer.addClass("cres-gallery-use-transition-for-zoom"),this.gallery.$toolbar.first().append(e)}},{key:"enableZoom",value:function(e){var t=this,r=this.config.enableZoomAfter+e.detail.delay;cresQuery("body").first().hasClass("cres-gallery-from-hash")&&e.detail.delay?r=0:cresQuery("body").first().removeClass("cres-gallery-from-hash"),this.zoomableTimeout=setTimeout((function(){t.isImageSlide(t.gallery.index)&&(t.gallery.getSlideItem(e.detail.index).addClass("cres-gallery-zoomable"),e.detail.index===t.gallery.index&&t.setZoomEssentials())}),r+30)}},{key:"enableZoomOnSlideItemLoad",value:function(){this.gallery.cresEl.on("".concat(galleryEvent.slideItemLoad,".zoom"),this.enableZoom.bind(this))}},{key:"getDragCords",value:function(e){return{x:e.pageX,y:e.pageY}}},{key:"getSwipeCords",value:function(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}}},{key:"getDragAllowedAxises",value:function(e,t){var r=this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-image").first().get(),n=0,i=0,o=r.getBoundingClientRect();e?(n=r.offsetHeight*e,i=r.offsetWidth*e):t?(n=o.height+t*o.height,i=o.width+t*o.width):(n=o.height,i=o.width);var a=n>this.containerRect.height;return{allowX:i>this.containerRect.width,allowY:a}}},{key:"setZoomEssentials",value:function(){this.containerRect=this.gallery.$content.get().getBoundingClientRect()}},{key:"zoomImage",value:function(e,t,r,n){if(!(Math.abs(t)<=0)){var i,o,a=this.containerRect.width/2+this.containerRect.left,s=this.containerRect.height/2+this.containerRect.top+this.scrollTop;1===e&&(this.positionChanged=!1);var l=this.getDragAllowedAxises(0,t),c=l.allowY,u=l.allowX;this.positionChanged&&(i=this.left/(this.scale-t),o=this.top/(this.scale-t),this.pageX=a-i,this.pageY=s-o,this.positionChanged=!1);var d,f,p=this.getPossibleSwipeDragCords(t),h=a-this.pageX,m=s-this.pageY;if(e-t>1){var g=(e-t)/Math.abs(t);d=(h=(t<0?-h:h)+this.left*(g+(t<0?-1:1)))/g,f=(m=(t<0?-m:m)+this.top*(g+(t<0?-1:1)))/g}else{var y=(e-t)*t;d=h*y,f=m*y}r&&(u?this.isBeyondPossibleLeft(d,p.minX)?d=p.minX:this.isBeyondPossibleRight(d,p.maxX)&&(d=p.maxX):e>1&&(d<p.minX?d=p.minX:d>p.maxX&&(d=p.maxX)),c?this.isBeyondPossibleTop(f,p.minY)?f=p.minY:this.isBeyondPossibleBottom(f,p.maxY)&&(f=p.maxY):e>1&&(f<p.minY?f=p.minY:f>p.maxY&&(f=p.maxY))),this.setZoomStyles({x:d,y:f,scale:e}),this.left=d,this.top=f,n&&this.setZoomImageSize()}}},{key:"resetImageTranslate",value:function(e){if(this.isImageSlide(e)){var t=this.gallery.getSlideItem(e).find(".cres-gallery-image").first();this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.gallery.outer.removeClass("cres-gallery-actual-size"),t.css("width","auto").css("height","auto"),setTimeout((function(){t.removeClass("no-transition")}),10)}}},{key:"setZoomImageSize",value:function(){var e=this,t=this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-image").first();setTimeout((function(){var r=e.getCurrentImageActualSizeScale();e.scale>=r&&(t.addClass("no-transition"),e.imageReset=!0)}),ZOOM_TRANSITION_DURATION),setTimeout((function(){var r=e.getCurrentImageActualSizeScale();if(e.scale>=r){var n=e.getDragAllowedAxises(e.scale);t.css("width",t.get().naturalWidth+"px").css("height",t.get().naturalHeight+"px"),e.gallery.outer.addClass("cres-gallery-actual-size"),n.allowX&&n.allowY?t.addClass("reset-transition"):n.allowX&&!n.allowY?t.addClass("reset-transition-x"):!n.allowX&&n.allowY&&t.addClass("reset-transition-y")}}),ZOOM_TRANSITION_DURATION+50)}},{key:"setZoomStyles",value:function(e){var t=this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-img-wrap").first(),r=this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-image").first(),n=this.gallery.outer.find(".cres-gallery-current .cres-gallery-dummy-img").first();this.scale=e.scale,r.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),n.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var i="translate3d("+e.x+"px, "+e.y+"px, 0)";t.css("transform",i)}},{key:"setActualSize",value:function(e,t){var r=this,n=this.gallery.galleryItems[this.gallery.index];this.resetImageTranslate(e),setTimeout((function(){if(n.src&&!r.gallery.outer.hasClass("cres-gallery-first-slide-loading")){var e=r.getCurrentImageActualSizeScale(),i=r.scale;r.gallery.outer.hasClass("cres-gallery-zoomed")?r.scale=1:r.scale=r.getScale(e),r.setPageCords(t),r.beginZoom(r.scale),r.zoomImage(r.scale,r.scale-i,!0,!0),setTimeout((function(){r.gallery.outer.removeClass("cres-gallery-grabbing").addClass("cres-gallery-grab")}),10)}}),50)}},{key:"getNaturalWidth",value:function(e){var t=this.gallery.getSlideItem(e).find(".cres-gallery-image").first(),r=this.gallery.galleryItems[e].width;return r?parseFloat(r):t.get().naturalWidth}},{key:"getActualSizeScale",value:function(e,t){return e>=t?e/t||2:1}},{key:"getCurrentImageActualSizeScale",value:function(){var e=this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-image").first().get().offsetWidth,t=this.getNaturalWidth(this.gallery.index)||e;return this.getActualSizeScale(t,e)}},{key:"getPageCords",value:function(e){var t={};if(e)t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY;else{var r=this.gallery.$content.get().getBoundingClientRect();t.x=r.width/2+r.left,t.y=r.height/2+this.scrollTop+r.top}return t}},{key:"setPageCords",value:function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y}},{key:"manageActualPixelClassNames",value:function(){this.gallery.getElementById("cres-gallery-actual-size").removeClass(this.config.actualSizeIcons.zoomIn).addClass(this.config.actualSizeIcons.zoomOut)}},{key:"beginZoom",value:function(e){return this.gallery.outer.removeClass("cres-gallery-zoom-drag-transition cres-gallery-zoom-dragging"),e>1?(this.gallery.outer.addClass("cres-gallery-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1}},{key:"getScale",value:function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e}},{key:"init",value:function(){var e=this;if(this.config.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.gallery.outer.on("dblclick.cres-gallery",(function(t){cresQuery(t.target).hasClass("cres-gallery-image")&&e.setActualSize(e.gallery.index,t)})),this.gallery.outer.on("touchstart.cres-gallery",(function(r){var n=cresQuery(r.target);1===r.touches.length&&n.hasClass("cres-gallery-image")&&(t?(clearTimeout(t),t=null,r.preventDefault(),e.setActualSize(e.gallery.index,r)):t=setTimeout((function(){t=null}),300))})),this.gallery.cresEl.on("".concat(galleryEvent.containerResize,".zoom ").concat(galleryEvent.rotateRight,".zoom ").concat(galleryEvent.rotateLeft,".zoom ").concat(galleryEvent.flipHorizontal,".zoom ").concat(galleryEvent.flipVertical,".zoom"),(function(){if(e.gallery.cresGalleryOpened&&e.isImageSlide(e.gallery.index)&&!e.gallery.touchAction){var t=e.gallery.getSlideItem(e.gallery.index).find(".cres-gallery-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(t,{x:0,y:0}),e.positionChanged=!0}})),cresQuery(window).on("scroll.cres-gallery.zoom.global".concat(this.gallery.cresGalleryId),(function(){e.gallery.cresGalleryOpened&&(e.scrollTop=cresQuery(window).scrollTop())})),this.gallery.getElementById("cres-gallery-zoom-out").on("click.cres-gallery",(function(){if(e.isImageSlide(e.gallery.index)){var t=0;e.imageReset&&(e.resetImageTranslate(e.gallery.index),t=50),setTimeout((function(){var t=e.scale-e.config.scale;t<1&&(t=1),e.beginZoom(t),e.zoomImage(t,-e.config.scale,!0,!0)}),t)}})),this.gallery.getElementById("cres-gallery-zoom-in").on("click.cres-gallery",(function(){e.zoomIn()})),this.gallery.getElementById("cres-gallery-actual-size").on("click.cres-gallery",(function(){e.setActualSize(e.gallery.index)})),this.gallery.cresEl.on("".concat(galleryEvent.beforeOpen,".zoom"),(function(){e.gallery.outer.find(".cres-gallery-item").removeClass("cres-gallery-zoomable")})),this.gallery.cresEl.on("".concat(galleryEvent.afterOpen,".zoom"),(function(){e.scrollTop=cresQuery(window).scrollTop(),e.pageX=e.gallery.outer.width()/2,e.pageY=e.gallery.outer.height()/2+e.scrollTop,e.scale=1})),this.gallery.cresEl.on("".concat(galleryEvent.afterSlide,".zoom"),(function(t){var r=t.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.resetZoom(r),e.resetImageTranslate(r),e.isImageSlide(e.gallery.index)&&e.setZoomEssentials()})),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1}}},{key:"zoomIn",value:function(){if(this.isImageSlide(this.gallery.index)){var e=this.scale+this.config.scale;e=this.getScale(e),this.beginZoom(e),this.zoomImage(e,this.config.scale,!0,!0)}}},{key:"resetZoom",value:function(e){this.gallery.outer.removeClass("cres-gallery-zoomed cres-gallery-zoom-drag-transition");var t=this.gallery.getElementById("cres-gallery-actual-size"),r=this.gallery.getSlideItem(void 0!==e?e:this.gallery.index);t.removeClass(this.config.actualSizeIcons.zoomOut).addClass(this.config.actualSizeIcons.zoomIn),r.find(".cres-gallery-img-wrap").first().removeAttr("style"),r.find(".cres-gallery-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()}},{key:"getTouchDistance",value:function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))}},{key:"pinchZoom",value:function(){var e=this,t=0,r=!1,n=1,i=0,o=this.gallery.getSlideItem(this.gallery.index);this.gallery.outer.on("touchstart.cres-gallery",(function(r){if(o=e.gallery.getSlideItem(e.gallery.index),e.isImageSlide(e.gallery.index)&&2===r.touches.length){if(r.preventDefault(),e.gallery.outer.hasClass("cres-gallery-first-slide-loading"))return;n=e.scale||1,e.gallery.outer.removeClass("cres-gallery-zoom-drag-transition cres-gallery-zoom-dragging"),e.setPageCords(r),e.resetImageTranslate(e.gallery.index),e.gallery.touchAction="pinch",t=e.getTouchDistance(r)}})),this.gallery.$inner.on("touchmove.cres-gallery",(function(a){if(2===a.touches.length&&"pinch"===e.gallery.touchAction&&(cresQuery(a.target).hasClass("cres-gallery-item")||o.get().contains(a.target))){a.preventDefault();var s=e.getTouchDistance(a),l=t-s;if(!r&&Math.abs(l)>5&&(r=!0),r){i=e.scale;var c=Math.max(1,n+.02*-l);e.scale=Math.round(100*(c+Number.EPSILON))/100;var u=e.scale-i;e.zoomImage(e.scale,Math.round(100*(u+Number.EPSILON))/100,!1,!1)}}})),this.gallery.$inner.on("touchend.cres-gallery",(function(n){if("pinch"===e.gallery.touchAction&&(cresQuery(n.target).hasClass("cres-gallery-item")||o.get().contains(n.target))){if(r=!1,t=0,e.scale<=1)e.resetZoom();else{var i=e.getCurrentImageActualSizeScale();if(e.scale>=i){var a=i-e.scale;0===a&&(a=.01),e.zoomImage(i,a,!1,!0)}e.manageActualPixelClassNames(),e.gallery.outer.addClass("cres-gallery-zoomed")}e.gallery.touchAction=void 0}}))}},{key:"touchendZoom",value:function(e,t,r,n,i){var o=t.x-e.x,a=t.y-e.y,s=Math.abs(o)/i+1,l=Math.abs(a)/i+1;s>2&&(s+=1),l>2&&(l+=1),o*=s,a*=l;var c=this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-img-wrap").first(),u={};u.x=this.left+o,u.y=this.top+a;var d=this.getPossibleSwipeDragCords();(Math.abs(o)>15||Math.abs(a)>15)&&(n&&(this.isBeyondPossibleTop(u.y,d.minY)?u.y=d.minY:this.isBeyondPossibleBottom(u.y,d.maxY)&&(u.y=d.maxY)),r&&(this.isBeyondPossibleLeft(u.x,d.minX)?u.x=d.minX:this.isBeyondPossibleRight(u.x,d.maxX)&&(u.x=d.maxX)),n?this.top=u.y:u.y=this.top,r?this.left=u.x:u.x=this.left,this.setZoomSwipeStyles(c,u),this.positionChanged=!0)}},{key:"getZoomSwipeCords",value:function(e,t,r,n,i){var o={};if(n){if(o.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(o.y,i.minY)){var a=i.minY-o.y;o.y=i.minY-a/6}else if(this.isBeyondPossibleBottom(o.y,i.maxY)){var s=o.y-i.maxY;o.y=i.maxY+s/6}}else o.y=this.top;if(r){if(o.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(o.x,i.minX)){var l=i.minX-o.x;o.x=i.minX-l/6}else if(this.isBeyondPossibleRight(o.x,i.maxX)){var c=o.x-i.maxX;o.x=i.maxX+c/6}}else o.x=this.left;return o}},{key:"isBeyondPossibleLeft",value:function(e,t){return e>=t}},{key:"isBeyondPossibleRight",value:function(e,t){return e<=t}},{key:"isBeyondPossibleTop",value:function(e,t){return e>=t}},{key:"isBeyondPossibleBottom",value:function(e,t){return e<=t}},{key:"isImageSlide",value:function(e){var t=this.gallery.galleryItems[e];return"image"===this.gallery.getSlideType(t)}},{key:"getPossibleSwipeDragCords",value:function(e){var t=this.gallery.getSlideItem(this.gallery.index).find(".cres-gallery-image").first(),r=this.gallery.mediaContainerPosition.bottom,n=t.get().getBoundingClientRect(),i=n.height,o=n.width;return e&&(i+=e*i,o+=e*o),{minY:(i-this.containerRect.height)/2,maxY:(this.containerRect.height-i)/2+r,minX:(o-this.containerRect.width)/2,maxX:(this.containerRect.width-o)/2}}},{key:"setZoomSwipeStyles",value:function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")}},{key:"zoomSwipe",value:function(){var e,t,r=this,n={},i={},o=!1,a=!1,s=!1,l=new Date,c=(new Date,this.gallery.getSlideItem(this.gallery.index));this.gallery.$inner.on("touchstart.cres-gallery",(function(i){if(r.isImageSlide(r.gallery.index)&&(c=r.gallery.getSlideItem(r.gallery.index),(cresQuery(i.target).hasClass("cres-gallery-item")||c.get().contains(i.target))&&1===i.touches.length&&r.gallery.outer.hasClass("cres-gallery-zoomed"))){i.preventDefault(),l=new Date,r.gallery.touchAction="zoomSwipe",t=r.gallery.getSlideItem(r.gallery.index).find(".cres-gallery-img-wrap").first();var o=r.getDragAllowedAxises(0);s=o.allowY,((a=o.allowX)||s)&&(n=r.getSwipeCords(i)),e=r.getPossibleSwipeDragCords(),r.gallery.outer.addClass("cres-gallery-zoom-dragging cres-gallery-zoom-drag-transition")}})),this.gallery.$inner.on("touchmove.cres-gallery",(function(l){if(1===l.touches.length&&"zoomSwipe"===r.gallery.touchAction&&(cresQuery(l.target).hasClass("cres-gallery-item")||c.get().contains(l.target))){l.preventDefault(),r.gallery.touchAction="zoomSwipe",i=r.getSwipeCords(l);var u=r.getZoomSwipeCords(n,i,a,s,e);(Math.abs(i.x-n.x)>15||Math.abs(i.y-n.y)>15)&&(o=!0,r.setZoomSwipeStyles(t,u))}})),this.gallery.$inner.on("touchend.cres-gallery",(function(e){if("zoomSwipe"===r.gallery.touchAction&&(cresQuery(e.target).hasClass("cres-gallery-item")||c.get().contains(e.target))){if(e.preventDefault(),r.gallery.touchAction=void 0,r.gallery.outer.removeClass("cres-gallery-zoom-dragging"),!o)return;o=!1;var t=(new Date).valueOf()-l.valueOf();r.touchendZoom(n,i,a,s,t)}}))}},{key:"zoomDrag",value:function(){var e,t,r,n,i=this,o={},a={},s=!1,l=!1,c=!1,u=!1;this.gallery.outer.on("mousedown.cres-gallery.zoom",(function(t){if(i.isImageSlide(i.gallery.index)){var a=i.gallery.getSlideItem(i.gallery.index);if(cresQuery(t.target).hasClass("cres-gallery-item")||a.get().contains(t.target)){e=new Date,n=i.gallery.getSlideItem(i.gallery.index).find(".cres-gallery-img-wrap").first();var l=i.getDragAllowedAxises(0);u=l.allowY,c=l.allowX,i.gallery.outer.hasClass("cres-gallery-zoomed")&&cresQuery(t.target).hasClass("cres-gallery-object")&&(c||u)&&(t.preventDefault(),o=i.getDragCords(t),r=i.getPossibleSwipeDragCords(),s=!0,i.gallery.outer.removeClass("cres-gallery-grab").addClass("cres-gallery-grabbing cres-gallery-zoom-drag-transition cres-gallery-zoom-dragging"))}}})),cresQuery(window).on("mousemove.cres-gallery.zoom.global".concat(this.gallery.cresGalleryId),(function(e){if(s){l=!0,a=i.getDragCords(e);var t=i.getZoomSwipeCords(o,a,c,u,r);i.setZoomSwipeStyles(n,t)}})),cresQuery(window).on("mouseup.cres-gallery.zoom.global".concat(this.gallery.cresGalleryId),(function(r){if(s){if(t=new Date,s=!1,i.gallery.outer.removeClass("cres-gallery-zoom-dragging"),l&&(o.x!==a.x||o.y!==a.y)){a=i.getDragCords(r);var n=t.valueOf()-e.valueOf();i.touchendZoom(o,a,c,u,n)}l=!1}i.gallery.outer.removeClass("cres-gallery-grabbing").addClass("cres-gallery-grab")}))}},{key:"closeGallery",value:function(){this.resetZoom()}},{key:"destroy",value:function(){cresQuery(window).off(".cres-gallery.zoom.global".concat(this.gallery.cresGalleryId)),this.gallery.cresEl.off(".cres-gallery.zoom"),this.gallery.cresEl.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1}}]),e}(),defaultDynamicOptions=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function convertToData(e){return"href"===e?"src":e=(e=(e=e.replace("data-","")).charAt(0).toLowerCase()+e.slice(1)).replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}var utils={getSize:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=cresQuery(e),o=i.attr("data-gallery-size")||n;if(o){var a=o.split(",");if(a[1])for(var s=window.innerWidth,l=0;l<a.length;l++){var c=a[l],u=parseInt(c.split("-")[2],10);if(u>s){o=c;break}l===a.length-1&&(o=c)}var d=o.split("-"),f=parseInt(d[0],10),p=parseInt(d[1],10),h=t.width(),m=t.height()-r,g=Math.min(h,f),y=Math.min(m,p),v=Math.min(g/f,y/p);return{width:f*v,height:p*v}}},getTransform:function(e,t,r,n,i){if(i){var o=cresQuery(e).find("img").first();if(o.get()){var a=t.get().getBoundingClientRect(),s=a.width,l=t.height()-(r+n),c=o.width(),u=o.height(),d=o.style(),f=(s-c)/2-o.offset().left+(parseFloat(d.paddingLeft)||0)+(parseFloat(d.borderLeft)||0)+cresQuery(window).scrollLeft()+a.left,p=(l-u)/2-o.offset().top+(parseFloat(d.paddingTop)||0)+(parseFloat(d.borderTop)||0)+cresQuery(window).scrollTop()+r;return"translate3d("+(f*=-1)+"px, "+(p*=-1)+"px, 0) scale3d("+c/i.width+", "+u/i.height+", 1)"}}},getIframeMarkup:function(e,t,r,n,i,o){var a=o?'title="'+o+'"':"";return'<div class="cres-gallery-video-cont cres-gallery-has-iframe" style="width:'.concat(e,"; max-width:").concat(r,"; height: ").concat(t,"; max-height:").concat(n,'">\n                    <iframe class="cres-gallery-object" frameborder="0" ').concat(a,' src="').concat(i,'"  allowfullscreen="true"></iframe>\n                </div>')},getImgMarkup:function(e,t,r,n,i,o){var a=n?'srcset="'.concat(n,'"'):"",s=i?'sizes="'.concat(i,'"'):"",l="<img ".concat(r," ").concat(a,"  ").concat(s,' class="cres-gallery-object cres-gallery-image" data-index="').concat(e,'" src="').concat(t,'" />'),c="";o&&(c=("string"==typeof o?JSON.parse(o):o).map((function(e){var t="";return Object.keys(e).forEach((function(r){t+=" ".concat(r,'="').concat(e[r],'"')})),"<source ".concat(t,"></source>")})));return"".concat(c).concat(l)},getResponsiveSrc:function(e){for(var t=[],r=[],n="",i=0;i<e.length;i++){var o=e[i].split(" ");""===o[0]&&o.splice(0,1),r.push(o[0]),t.push(o[1])}for(var a=window.innerWidth,s=0;s<t.length;s++)if(parseInt(t[s],10)>a){n=r[s];break}return n},isImageLoaded:function(e){return!!e&&(!!e.complete&&0!==e.naturalWidth)},getVideoPosterMarkup:function(e,t,r,n,i){var o="";return o=i&&i.youtube?"cres-gallery-has-youtube":i&&i.vimeo?"cres-gallery-has-vimeo":"cres-gallery-has-html5",'<div class="cres-gallery-video-cont '.concat(o,'" style="').concat(r,'">\n                <div class="cres-gallery-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="').concat(n,'"\n                    role="img"\n                    class="cres-gallery-video-play-icon"\n                >\n                    <title>').concat(n,'</title>\n                    <polygon class="cres-gallery-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="cres-gallery-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="cres-gallery-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            ').concat(t||"",'\n            <img class="cres-gallery-object cres-gallery-video-poster" src="').concat(e,'" />\n        </div>')},getFocusableElements:function(e){var t=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),r=[].filter.call(t,(function(e){var t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility}));return r},getDynamicOptions:function(e,t,r,n){var i=[],o=[].concat(defaultDynamicOptions,_toConsumableArray(t));return[].forEach.call(e,(function(e){for(var t={},a=0;a<e.attributes.length;a++){var s=e.attributes[a];if(s.specified){var l=convertToData(s.name),c="";o.indexOf(l)>-1&&(c=l),c&&(t[c]=s.value)}}var u=cresQuery(e),d=u.find("img").first().attr("alt"),f=u.attr("title"),p=n?u.attr(n):u.find("img").first().attr("src");t.thumb=p,r&&!t.subHtml&&(t.subHtml=f||d||""),t.alt=d||f||"",i.push(t)})),i},isMobile:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},isVideo:function(e,t,r){if(!e)return t?{html5:!0}:void console.error("cresGallery :- data-src is not provided on slide item "+(r+1)+". Please make sure the selector property is properly configured");var n=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),i=e.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),o=e.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);return n?{youtube:n}:i?{vimeo:i}:o?{wistia:o}:void 0}};function ownKeys$9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$8(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$9(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cresGalleryId=0,Gallery=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,e),window.mygallery=this,cresGalleryId++,this.cresGalleryId=cresGalleryId,this.elements=t instanceof Element?[t]:[].slice.call(document.querySelectorAll(t)),!(this.elements.length<1)){this.element=this.elements[0];var n=JSON.parse(this.element.getAttribute("cres-config"));if(this.generateConfig(_objectSpread$8(_objectSpread$8({},r),n)),this.plugins=[],this.buildPlugins(),this.cresEl=cresQuery(this.element),this.config.dynamic&&void 0!==this.config.dynamicEl&&!Array.isArray(this.config.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";this.galleryItems=this.getItems(),this.normalizeConfig(),this.init()}}return _createClass(e,[{key:"init",value:function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.cresEl.trigger(galleryEvent.init,{instance:this}),this.config.keyPress&&this.keyPress(),setTimeout((function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()}),50),this.arrow(),this.config.mousewheel&&this.mousewheel(),this.config.dynamic||this.openGalleryOnItemClick()}},{key:"openGalleryOnItemClick",value:function(){for(var e=this,t=function(t){var r=e.items[t],n=cresQuery(r),i=CresQuery.generateUUID();n.attr("data-cres-gallery-id",i).on("click.cres-gallerycustom-item-".concat(i),(function(n){n.preventDefault();var i=e.config.index||t;e.openGallery(i,r)}))},r=0;r<this.items.length;r++)t(r)}},{key:"buildPlugins",value:function(){var e=this;this.plugins.push(new Thumbnail(this)),this.plugins.push(new Rotate(this)),this.plugins.push(new Zoom(this)),this.config.plugins.forEach((function(t){e.plugins.push(new t(e))}))}},{key:"generateConfig",value:function(e){if(this.config=_objectSpread$8(_objectSpread$8({},galleryConfig),e),this.config.isMobile&&"function"==typeof this.config.isMobile?this.config.isMobile():utils.isMobile()){var t=this.config.mobileSettings;this.config=_objectSpread$8(_objectSpread$8({},this.config),t)}}},{key:"normalizeConfig",value:function(){this.config.slideEndAnimation&&(this.config.hideControlOnEnd=!1),this.config.closable||(this.config.swipeToClose=!1),this.zoomFromOrigin=this.config.zoomFromOrigin,this.config.dynamic&&(this.zoomFromOrigin=!1),this.config.container||(this.config.container=document.body),this.config.preload=Math.min(this.config.preload,this.galleryItems.length)}},{key:"getItems",value:function(){if(this.items=[],this.config.dynamic)return this.config.dynamicEl||[];if("this"===this.config.selector)this.items.push(this.el);else if(this.config.selector)if("string"==typeof this.config.selector)if(this.config.selectWithin){var e=cresQuery(this.config.selectWithin);this.items=e.find(this.config.selector).get()}else this.items=this.el.querySelectorAll(this.config.selector);else this.items=this.config.selector;else this.items=this.element.children;return utils.getDynamicOptions(this.items,this.config.extraProps,this.config.getCaptionFromTitleOrAlt,this.config.exThumbImage)}},{key:"buildStructure",value:function(){var e=this;if(!(this.$container&&this.$container.get())){var t="",r="";this.config.controls&&(t='<button type="button" id="'.concat(this.getIdName("cres-gallery-prev"),'" aria-label="').concat(this.config.strings.previousSlide,'" class="cres-gallery-prev cres-gallery-icon"> ').concat(this.config.prevHtml,' </button>\n                <button type="button" id="').concat(this.getIdName("cres-gallery-next"),'" aria-label="').concat(this.config.strings.nextSlide,'" class="cres-gallery-next cres-gallery-icon"> ').concat(this.config.nextHtml," </button>")),".cres-gallery-item"!==this.config.appendSubHtmlTo&&(r='<div class="cres-gallery-sub-html" role="status" aria-live="polite"></div>');var n="";this.config.allowMediaOverlap&&(n+="cres-gallery-media-overlap ");var i=this.config.ariaLabelledby?'aria-labelledby="'+this.config.ariaLabelledby+'"':"",o=this.config.ariaDescribedby?'aria-describedby="'+this.config.ariaDescribedby+'"':"",a="cres-gallery-container ".concat(this.config.addClass," ").concat(document.body!==this.config.container?"cres-gallery-inline":""),s=this.config.closable&&this.config.showCloseIcon?'<button type="button" aria-label="'.concat(this.config.strings.closeGallery,'" id="').concat(this.getIdName("cres-gallery-close"),'" class="cres-gallery-close cres-gallery-icon"></button>'):"",l=this.config.showMaximizeIcon?'<button type="button" aria-label="'.concat(this.config.strings.toggleMaximize,'" id="').concat(this.getIdName("cres-gallery-maximize"),'" class="cres-gallery-maximize cres-gallery-icon"></button>'):"",c='\n        <div class="'.concat(a,'" id="').concat(this.getIdName("cres-gallery-container"),'" tabindex="-1" aria-modal="true" ').concat(i," ").concat(o,' role="dialog"\n        >\n            <div id="').concat(this.getIdName("cres-gallery-backdrop"),'" class="cres-gallery-backdrop"></div>\n            <div id="').concat(this.getIdName("cres-gallery-outer"),'" class="cres-gallery-outer cres-gallery-use-css3 cres-gallery-css3 cres-gallery-hide-items ').concat(n,' ">\n              <div id="').concat(this.getIdName("cres-gallery-content"),'" class="cres-gallery-content">\n                <div id="').concat(this.getIdName("cres-gallery-inner"),'" class="cres-gallery-inner">\n                </div>\n                ').concat(t,'\n              </div>\n                <div id="').concat(this.getIdName("cres-gallery-toolbar"),'" class="cres-gallery-toolbar cres-gallery-group">\n                    ').concat(l,"\n                    ").concat(s,"\n                    </div>\n                    ").concat(".cres-gallery-outer"===this.config.appendSubHtmlTo?r:"",'\n                <div id="').concat(this.getIdName("cres-gallery-components"),'" class="cres-gallery-components">\n                    ').concat(".cres-gallery-sub-html"===this.config.appendSubHtmlTo?r:"","\n                </div>\n            </div>\n        </div>\n        ");cresQuery(this.config.container).append(c),document.body!==this.config.container&&cresQuery(this.config.container).css("position","relative"),this.outer=this.getElementById("cres-gallery-outer"),this.$cresGalleryComponents=this.getElementById("cres-gallery-components"),this.$backdrop=this.getElementById("cres-gallery-backdrop"),this.$container=this.getElementById("cres-gallery-container"),this.$inner=this.getElementById("cres-gallery-inner"),this.$content=this.getElementById("cres-gallery-content"),this.$toolbar=this.getElementById("cres-gallery-toolbar"),this.$backdrop.css("transition-duration",this.config.backdropDuration+"ms");var u="".concat(this.config.mode," ");this.manageSingleSlideClassName(),this.config.enableDrag&&(u+="cres-gallery-grab "),this.outer.addClass(u),this.$inner.css("transition-timing-function",this.config.easing),this.$inner.css("transition-duration",this.config.speed+"ms"),this.config.download&&this.$toolbar.append('<a id="'.concat(this.getIdName("cres-gallery-download"),'" target="_blank" rel="noopener" aria-label="').concat(this.config.strings.download,'" download class="cres-gallery-download cres-gallery-icon"></a>')),this.counter(),cresQuery(window).on("resize.cres-gallery.global".concat(this.cresGalleryId," orientationchange.cres-gallery.global").concat(this.cresGalleryId),(function(){e.refreshOnResize()})),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}}},{key:"getSlideItem",value:function(e){return cresQuery(this.getSlideItemId(e))}},{key:"getSlideItemId",value:function(e){return"#cres-gallery-item-".concat(this.cresGalleryId,"-").concat(e)}},{key:"getIdName",value:function(e){return"".concat(e,"-").concat(this.cresGalleryId)}},{key:"getElementById",value:function(e){return cresQuery("#".concat(this.getIdName(e)))}},{key:"manageSingleSlideClassName",value:function(){this.galleryItems.length<2?this.outer.addClass("cres-gallery-single-item"):this.outer.removeClass("cres-gallery-single-item")}},{key:"refreshOnResize",value:function(){if(this.cresGalleryOpened){var e=this.galleryItems[this.index].__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var t=this.mediaContainerPosition,r=t.top,n=t.bottom;if(this.currentImageSize=utils.getSize(this.items[this.index],this.outer,r+n,e&&this.config.videoMaxSize),e&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var i=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".cres-gallery-current .cres-gallery-dummy-img").first().attr("style",i)}this.cresEl.trigger(galleryEvent.containerResize)}}},{key:"resizeVideoSlide",value:function(e,t){var r=this.getVideoContStyle(t);this.getSlideItem(e).find(".cres-gallery-video-cont").attr("style",r)}},{key:"updateSlides",value:function(e,t){if(this.index>e.length-1&&(this.index=e.length-1),1===e.length&&(this.index=0),e.length){var r=this.galleryItems[t].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var n=0;this.galleryItems.some((function(e,t){return e.src===r&&(n=t,!0)})),this.currentItemsInDom=this.organizeSlideItems(n,-1),this.loadContent(n,!0),this.getSlideItem(n).addClass("cres-gallery-current"),this.index=n,this.updateCurrentCounter(n),this.cresEl.trigger(galleryEvent.updateSlides)}else this.closeGallery()}},{key:"shouldHideScrollbar",value:function(){return this.config.hideScrollbar&&document.body===this.config.container}},{key:"hideScrollbar",value:function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(cresQuery("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),t=window.innerWidth-e.width;cresQuery(document.body).css("padding-right",t+this.bodyPaddingRight+"px"),cresQuery(document.body).addClass("cres-gallery-overlay-open")}}},{key:"resetScrollBar",value:function(){this.shouldHideScrollbar()&&(cresQuery(document.body).css("padding-right",this.bodyPaddingRight+"px"),cresQuery(document.body).removeClass("cres-gallery-overlay-open"))}},{key:"openGallery",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.index,r=arguments.length>1?arguments[1]:void 0;if(!this.cresGalleryOpened){this.cresGalleryOpened=!0,this.outer.removeClass("cres-gallery-hide-items"),this.hideScrollbar(),this.$container.addClass("cres-gallery-show");var n=this.getItemsToBeInsertedToDom(t,t);this.currentItemsInDom=n;var i="";n.forEach((function(e){i+='<div id="'.concat(e,'" class="cres-gallery-item"></div>')})),this.$inner.append(i),this.addHtml(t);var o="";this.mediaContainerPosition=this.getMediaContainerPosition();var a=this.mediaContainerPosition,s=a.top,l=a.bottom;this.config.allowMediaOverlap||this.setMediaContainerPosition(s,l);var c=this.galleryItems[t].__slideVideoInfo;this.zoomFromOrigin&&r&&(this.currentImageSize=utils.getSize(r,this.outer,s+l,c&&this.config.videoMaxSize),o=utils.getTransform(r,this.outer,s,l,this.currentImageSize)),this.zoomFromOrigin&&o||(this.outer.addClass(this.config.startClass),this.getSlideItem(t).removeClass("cres-gallery-complete"));var u=this.config.zoomFromOrigin?100:this.config.backdropDuration;setTimeout((function(){e.outer.addClass("cres-gallery-components-open")}),u),this.index=t,this.cresEl.trigger(galleryEvent.beforeOpen),this.getSlideItem(t).addClass("cres-gallery-current"),this.cresGalleryOn=!1,this.prevScrollTop=cresQuery(window).scrollTop(),setTimeout((function(){if(e.zoomFromOrigin&&o){var r=e.getSlideItem(t);r.css("transform",o),setTimeout((function(){r.addClass("cres-gallery-start-progress cres-gallery-start-end-progress").css("transition-duration",e.config.startAnimationDuration+"ms"),e.outer.addClass("cres-gallery-zoom-from-image")})),setTimeout((function(){r.css("transform","translate3d(0, 0, 0)")}),100)}setTimeout((function(){e.$backdrop.addClass("in"),e.$container.addClass("cres-gallery-show-in")}),10),setTimeout((function(){e.config.trapFocus&&document.body===e.config.container&&e.trapFocus()}),e.config.backdropDuration+50),e.zoomFromOrigin&&o||setTimeout((function(){e.outer.addClass("cres-gallery-visible")}),e.config.backdropDuration),e.slide(t,!1,!1,!1),e.cresEl.trigger(galleryEvent.afterOpen)})),document.body===this.config.container&&cresQuery("html").addClass("cres-gallery-on")}}},{key:"getMediaContainerPosition",value:function(){if(this.config.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,t=this.outer.find(".cres-gallery-components .cres-gallery-sub-html").get(),r=this.config.defaultCaptionHeight||t&&t.clientHeight||0,n=this.outer.find(".cres-gallery-thumb-outer").get();return{top:e,bottom:(n?n.clientHeight:0)+r}}},{key:"setMediaContainerPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.$content.css("top",e+"px").css("bottom",t+"px")}},{key:"hideBars",value:function(){var e=this;setTimeout((function(){e.outer.removeClass("cres-gallery-hide-items"),e.config.hideBarsDelay>0&&(e.outer.on("mousemove.cres-gallery click.cres-gallery touchstart.cres-gallery",(function(){e.outer.removeClass("cres-gallery-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout((function(){e.outer.addClass("cres-gallery-hide-items")}),e.config.hideBarsDelay)})),e.outer.trigger("mousemove.cres-gallery"))}),this.config.showBarsAfter)}},{key:"initPictureFill",value:function(e){if(this.config.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch(e){console.warn("cres-gallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}}},{key:"counter",value:function(){if(this.config.counter){var e='<div class="cres-gallery-counter" role="status" aria-live="polite">\n                <span id="'.concat(this.getIdName("cres-gallery-counter-current"),'" class="cres-gallery-counter-current">').concat(this.index+1,' </span> /\n                <span id="').concat(this.getIdName("cres-gallery-counter-all"),'" class="cres-gallery-counter-all">').concat(this.galleryItems.length," </span></div>");this.outer.find(this.config.appendCounterTo).append(e)}}},{key:"addHtml",value:function(e){var t,r;if(this.galleryItems[e].subHtmlUrl?r=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,!r)if(t){var n=t.substring(0,1);"."!==n&&"#"!==n||(t=this.config.subHtmlSelectorRelative&&!this.config.dynamic?cresQuery(this.items).eq(e).find(t).first().html():cresQuery(t).first().html())}else t="";if(".cres-gallery-item"!==this.config.appendSubHtmlTo)r?this.outer.find(".cres-gallery-sub-html").load(r):this.outer.find(".cres-gallery-sub-html").html(t);else{var i=cresQuery(this.getSlideItemId(e));r?i.load(r):i.append('<div class="cres-gallery-sub-html">'.concat(t,"</div>"))}null!=t&&(""===t?this.outer.find(this.config.appendSubHtmlTo).addClass("cres-gallery-empty-html"):this.outer.find(this.config.appendSubHtmlTo).removeClass("cres-gallery-empty-html")),this.cresEl.trigger(galleryEvent.afterAppendSubHtml,{index:e})}},{key:"preload",value:function(e){for(var t=1;t<=this.config.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var r=1;r<=this.config.preload&&!(e-r<0);r++)this.loadContent(e-r,!1)}},{key:"getDummyImgStyles",value:function(e){return e?"width:".concat(e.width,"px;\n                margin-left: -").concat(e.width/2,"px;\n                margin-top: -").concat(e.height/2,"px;\n                height:").concat(e.height,"px"):""}},{key:"getVideoContStyle",value:function(e){return e?"width:".concat(e.width,"px;\n                height:").concat(e.height,"px"):""}},{key:"getDummyImageContent",value:function(e,t,r){var n;if(this.config.dynamic||(n=cresQuery(this.items).eq(t)),n){var i;if(!(i=this.config.exThumbImage?n.attr(this.config.exThumbImage):n.find("img").first().attr("src")))return"";var o=this.getDummyImgStyles(this.currentImageSize),a="<img ".concat(r,' style="').concat(o,'" class="cres-gallery-dummy-img" src="').concat(i,'" />');return e.addClass("cres-gallery-first-slide"),this.outer.addClass("cres-gallery-first-slide-loading"),a}return""}},{key:"setImgMarkup",value:function(e,t,r){var n=this.galleryItems[r],i=n.alt,o=n.srcset,a=n.sizes,s=n.sources,l="",c=i?'alt="'+i+'"':"";l=this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(t,r,c):utils.getImgMarkup(r,e,c,o,a,s);var u='<picture class="cres-gallery-img-wrap"> '.concat(l,"</picture>");t.prepend(u)}},{key:"onSlideObjectLoad",value:function(e,t,r,n){var i=e.find(".cres-gallery-object").first();utils.isImageLoaded(i.get())||t?r():(i.on("load.cres-gallery error.cres-gallery",(function(){r&&r()})),i.on("error.cres-gallery",(function(){n&&n()})))}},{key:"onLgObjectLoad",value:function(e,t,r,n,i,o){var a=this;this.onSlideObjectLoad(e,o,(function(){a.triggerSlideItemLoad(e,t,r,n,i)}),(function(){e.addClass("cres-gallery-complete cres-gallery-complete_"),e.html('<span class="cres-gallery-error-msg">Oops... Failed to load content...</span>')}))}},{key:"triggerSlideItemLoad",value:function(e,t,r,n,i){var o=this,a=this.galleryItems[t],s=i&&"video"===this.getSlideType(a)&&!a.poster?n:0;setTimeout((function(){e.addClass("cres-gallery-complete cres-gallery-complete_"),o.cresEl.trigger(galleryEvent.slideItemLoad,{index:t,delay:r||0,isFirstSlide:i})}),s)}},{key:"isFirstSlideWithZoomAnimation",value:function(){return!(this.cresGalleryOn||!this.zoomFromOrigin||!this.currentImageSize)}},{key:"addSlideVideoInfo",value:function(e){var t=this;e.forEach((function(e,r){e.__slideVideoInfo=utils.isVideo(e.src,!!e.video,r),e.__slideVideoInfo&&t.config.loadYouTubePoster&&!e.poster&&e.__slideVideoInfo.youtube&&(e.poster="//img.youtube.com/vi/".concat(e.__slideVideoInfo.youtube[1],"/maxresdefault.jpg"))}))}},{key:"loadContent",value:function(e,t){var r=this,n=this.galleryItems[e],i=cresQuery(this.getSlideItemId(e)),o=n.poster,a=n.srcset,s=n.sizes,l=n.sources,c=n.src,u=n.video,d=u&&"string"==typeof u?JSON.parse(u):u;if(n.responsive){var f=n.responsive.split(",");c=utils.getResponsiveSrc(f)||c}var p=n.__slideVideoInfo,h="",m=!!n.iframe,g=!this.cresGalleryOn,y=0;if(g&&(y=this.zoomFromOrigin&&this.currentImageSize?this.config.startAnimationDuration+10:this.config.backdropDuration+10),!i.hasClass("cres-gallery-loaded")){if(p){var v=this.mediaContainerPosition,b=v.top,w=v.bottom,_=utils.getSize(this.items[e],this.outer,b+w,p&&this.config.videoMaxSize);h=this.getVideoContStyle(_)}if(m){var S=utils.getIframeMarkup(this.config.iframeWidth,this.config.iframeHeight,this.config.iframeMaxWidth,this.config.iframeMaxHeight,c,n.iframeTitle);i.prepend(S)}else if(o){var C="";g&&this.zoomFromOrigin&&this.currentImageSize&&(C=this.getDummyImageContent(i,e,""));var E=utils.getVideoPosterMarkup(o,C||"",h,this.config.strings.playVideo,p);i.prepend(E)}else if(p){var $='<div class="cres-gallery-video-cont " style="'.concat(h,'"></div>');i.prepend($)}else if(this.setImgMarkup(c,i,e),a||l){var x=i.find(".cres-gallery-object");this.initPictureFill(x)}(o||p)&&this.cresEl.trigger(galleryEvent.hasVideo,{index:e,src:c,html5Video:d,hasPoster:!!o}),this.cresEl.trigger(galleryEvent.afterAppendSlide,{index:e}),this.cresGalleryOn&&".cres-gallery-item"===this.config.appendSubHtmlTo&&this.addHtml(e)}var k=0;y&&!cresQuery(document.body).hasClass("cres-gallery-from-hash")&&(k=y),this.isFirstSlideWithZoomAnimation()&&(setTimeout((function(){i.removeClass("cres-gallery-start-end-progress cres-gallery-start-progress").removeAttr("style")}),this.config.startAnimationDuration+100),i.hasClass("cres-gallery-loaded")||setTimeout((function(){if("image"===r.getSlideType(n)){var t=n.alt,u=t?'alt="'+t+'"':"";if(i.find(".cres-gallery-img-wrap").append(utils.getImgMarkup(e,c,u,a,s,n.sources)),a||l){var d=i.find(".cres-gallery-object");r.initPictureFill(d)}}("image"===r.getSlideType(n)||"video"===r.getSlideType(n)&&o)&&(r.onLgObjectLoad(i,e,y,k,!0,!1),r.onSlideObjectLoad(i,!(!p||!p.html5||o),(function(){r.loadContentOnFirstSlideLoad(e,i,k)}),(function(){r.loadContentOnFirstSlideLoad(e,i,k)})))}),this.config.startAnimationDuration+100)),i.addClass("cres-gallery-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(n)||o)||this.onLgObjectLoad(i,e,y,k,g,!(!p||!p.html5||o)),this.zoomFromOrigin&&this.currentImageSize||!i.hasClass("cres-gallery-complete_")||this.cresGalleryOn||setTimeout((function(){i.addClass("cres-gallery-complete")}),this.config.backdropDuration),this.cresGalleryOn=!0,!0===t&&(i.hasClass("cres-gallery-complete_")?this.preload(e):i.find(".cres-gallery-object").first().on("load.cres-gallery error.cres-gallery",(function(){r.preload(e)})))}},{key:"loadContentOnFirstSlideLoad",value:function(e,t,r){var n=this;setTimeout((function(){t.find(".cres-gallery-dummy-img").remove(),t.removeClass("cres-gallery-first-slide"),n.outer.removeClass("cres-gallery-first-slide-loading"),n.isDummyImageRemoved=!0,n.preload(e)}),r+300)}},{key:"getItemsToBeInsertedToDom",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],o=Math.max(n,3);o=Math.min(o,this.galleryItems.length);var a="cres-gallery-item-".concat(this.cresGalleryId,"-").concat(t);if(this.galleryItems.length<=3)return this.galleryItems.forEach((function(e,t){i.push("cres-gallery-item-".concat(r.cresGalleryId,"-").concat(t))})),i;if(e<(this.galleryItems.length-1)/2){for(var s=e;s>e-o/2&&s>=0;s--)i.push("cres-gallery-item-".concat(this.cresGalleryId,"-").concat(s));for(var l=i.length,c=0;c<o-l;c++)i.push("cres-gallery-item-".concat(this.cresGalleryId,"-").concat(e+c+1))}else{for(var u=e;u<=this.galleryItems.length-1&&u<e+o/2;u++)i.push("cres-gallery-item-".concat(this.cresGalleryId,"-").concat(u));for(var d=i.length,f=0;f<o-d;f++)i.push("cres-gallery-item-".concat(this.cresGalleryId,"-").concat(e-f-1))}return this.config.loop&&(e===this.galleryItems.length-1?i.push("cres-gallery-item-".concat(this.cresGalleryId,"-",0)):0===e&&i.push("cres-gallery-item-".concat(this.cresGalleryId,"-").concat(this.galleryItems.length-1))),-1===i.indexOf(a)&&i.push("cres-gallery-item-".concat(this.cresGalleryId,"-").concat(t)),i}},{key:"organizeSlideItems",value:function(e,t){var r=this,n=this.getItemsToBeInsertedToDom(e,t,this.config.numberOfSlideItemsInDom);return n.forEach((function(e){-1===r.currentItemsInDom.indexOf(e)&&r.$inner.append('<div id="'.concat(e,'" class="cres-gallery-item"></div>'))})),this.currentItemsInDom.forEach((function(e){-1===n.indexOf(e)&&cresQuery("#".concat(e)).remove()})),n}},{key:"getPreviousSlideIndex",value:function(){var e=0;try{var t=this.outer.find(".cres-gallery-current").first().attr("id");e=parseInt(t.split("-")[4])||0}catch(t){e=0}return e}},{key:"setDownloadValue",value:function(e){if(this.config.download){var t=this.galleryItems[e];if(!1===t.downloadUrl||"false"===t.downloadUrl)this.outer.addClass("cres-gallery-hide-download");else{var r=this.getElementById("cres-gallery-download");this.outer.removeClass("cres-gallery-hide-download"),r.attr("href",t.downloadUrl||t.src),t.download&&r.attr("download",t.download)}}}},{key:"makeSlideAnimation",value:function(e,t,r){var n=this;this.cresGalleryOn&&r.addClass("cres-gallery-slide-progress"),setTimeout((function(){n.outer.addClass("cres-gallery-no-trans"),n.outer.find(".cres-gallery-item").removeClass("cres-gallery-prev-slide cres-gallery-next-slide"),"prev"===e?(t.addClass("cres-gallery-prev-slide"),r.addClass("cres-gallery-next-slide")):(t.addClass("cres-gallery-next-slide"),r.addClass("cres-gallery-prev-slide")),setTimeout((function(){n.outer.find(".cres-gallery-item").removeClass("cres-gallery-current"),t.addClass("cres-gallery-current"),n.outer.removeClass("cres-gallery-no-trans")}),50)}),this.cresGalleryOn?this.config.slideDelay:0)}},{key:"slide",value:function(e,t,r,n){var i=this,o=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,o),!this.cresGalleryOn||o!==e){var a=this.galleryItems.length;if(!this.cresGalleryBusy){this.config.counter&&this.updateCurrentCounter(e);var s,l,c=this.getSlideItem(e),u=this.getSlideItem(o),d=this.galleryItems[e],f=d.__slideVideoInfo;if(this.outer.attr("data-cres-gallery-slide-type",this.getSlideType(d)),this.setDownloadValue(e),f){var p=this.mediaContainerPosition,h=p.top,m=p.bottom,g=utils.getSize(this.items[e],this.outer,h+m,f&&this.config.videoMaxSize);this.resizeVideoSlide(e,g)}if(this.cresEl.trigger(galleryEvent.beforeSlide,{prevIndex:o,index:e,fromTouch:!!t,fromThumb:!!r}),this.cresGalleryBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),n||(e<o?n="prev":e>o&&(n="next")),t)this.outer.find(".cres-gallery-item").removeClass("cres-gallery-prev-slide cres-gallery-current cres-gallery-next-slide"),a>2?(s=e-1,l=e+1,(0===e&&o===a-1||e===a-1&&0===o)&&(l=0,s=a-1)):(s=0,l=1),"prev"===n?this.getSlideItem(l).addClass("cres-gallery-next-slide"):this.getSlideItem(s).addClass("cres-gallery-prev-slide"),c.addClass("cres-gallery-current");else this.makeSlideAnimation(n,c,u);this.cresGalleryOn?setTimeout((function(){i.loadContent(e,!0),".cres-gallery-item"!==i.config.appendSubHtmlTo&&i.addHtml(e)}),this.config.speed+50+(t?0:this.config.slideDelay)):this.loadContent(e,!0),setTimeout((function(){i.cresGalleryBusy=!1,u.removeClass("cres-gallery-slide-progress"),i.cresEl.trigger(galleryEvent.afterSlide,{prevIndex:o,index:e,fromTouch:t,fromThumb:r})}),(this.cresGalleryOn?this.config.speed+100:100)+(t?0:this.config.slideDelay))}this.index=e}}},{key:"updateCurrentCounter",value:function(e){this.getElementById("cres-gallery-counter-current").html(e+1+"")}},{key:"updateCounterTotal",value:function(){this.getElementById("cres-gallery-counter-all").html(this.galleryItems.length+"")}},{key:"getSlideType",value:function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"}},{key:"touchMove",value:function(e,t,r){var n=t.pageX-e.pageX,i=t.pageY-e.pageY,o=!1;if(this.swipeDirection?o=!0:Math.abs(n)>15?(this.swipeDirection="horizontal",o=!0):Math.abs(i)>15&&(this.swipeDirection="vertical",o=!0),o){var a=this.getSlideItem(this.index);if("horizontal"===this.swipeDirection){null==r||r.preventDefault(),this.outer.addClass("cres-gallery-dragging"),this.setTranslate(a,n,0);var s=a.get().offsetWidth,l=15*s/100-Math.abs(10*n/100);this.setTranslate(this.outer.find(".cres-gallery-prev-slide").first(),-s+n-l,0),this.setTranslate(this.outer.find(".cres-gallery-next-slide").first(),s+n+l,0)}else if("vertical"===this.swipeDirection&&this.config.swipeToClose){null==r||r.preventDefault(),this.$container.addClass("cres-gallery-dragging-vertical");var c=1-Math.abs(i)/window.innerHeight;this.$backdrop.css("opacity",c);var u=1-Math.abs(i)/(2*window.innerWidth);this.setTranslate(a,0,i,u,u),Math.abs(i)>100&&this.outer.addClass("cres-gallery-hide-items").removeClass("cres-gallery-components-open")}}}},{key:"touchEnd",value:function(e,t,r){var n,i=this;"cres-gallery-slide"!==this.config.mode&&this.outer.addClass("cres-gallery-slide"),setTimeout((function(){i.$container.removeClass("cres-gallery-dragging-vertical"),i.outer.removeClass("cres-gallery-dragging cres-gallery-hide-items").addClass("cres-gallery-components-open");var o=!0;if("horizontal"===i.swipeDirection){n=e.pageX-t.pageX;var a=Math.abs(e.pageX-t.pageX);n<0&&a>i.config.swipeThreshold?(i.goToNextSlide(!0),o=!1):n>0&&a>i.config.swipeThreshold&&(i.goToPrevSlide(!0),o=!1)}else if("vertical"===i.swipeDirection){if(n=Math.abs(e.pageY-t.pageY),i.config.closable&&i.config.swipeToClose&&n>100)return void i.closeGallery();i.$backdrop.css("opacity",1)}if(i.outer.find(".cres-gallery-item").removeAttr("style"),o&&Math.abs(e.pageX-t.pageX)<5){var s=cresQuery(r.target);i.isPosterElement(s)&&i.cresEl.trigger(galleryEvent.posterClick)}i.swipeDirection=void 0})),setTimeout((function(){i.outer.hasClass("cres-gallery-dragging")||"cres-gallery-slide"===i.config.mode||i.outer.removeClass("cres-gallery-slide")}),this.config.speed+100)}},{key:"enableSwipe",value:function(){var e=this,t={},r={},n=!1,i=!1;this.config.enableSwipe&&(this.$inner.on("touchstart.cres-gallery",(function(r){e.dragOrSwipeEnabled=!0;var n=e.getSlideItem(e.index);!cresQuery(r.target).hasClass("cres-gallery-item")&&!n.get().contains(r.target)||e.outer.hasClass("cres-gallery-zoomed")||e.cresGalleryBusy||1!==r.targetTouches.length||(i=!0,e.touchAction="swipe",e.manageSwipeClass(),t={pageX:r.targetTouches[0].pageX,pageY:r.targetTouches[0].pageY})})),this.$inner.on("touchmove.cres-gallery",(function(o){i&&"swipe"===e.touchAction&&1===o.targetTouches.length&&(r={pageX:o.targetTouches[0].pageX,pageY:o.targetTouches[0].pageY},e.touchMove(t,r,o),n=!0)})),this.$inner.on("touchend.cres-gallery",(function(o){if("swipe"===e.touchAction){if(n)n=!1,e.touchEnd(r,t,o);else if(i){var a=cresQuery(o.target);e.isPosterElement(a)&&e.cresEl.trigger(galleryEvent.posterClick)}e.touchAction=void 0,i=!1}})))}},{key:"enableDrag",value:function(){var e=this,t={},r={},n=!1,i=!1;this.config.enableDrag&&(this.outer.on("mousedown.cres-gallery",(function(r){e.dragOrSwipeEnabled=!0;var i=e.getSlideItem(e.index);(cresQuery(r.target).hasClass("cres-gallery-item")||i.get().contains(r.target))&&(e.outer.hasClass("cres-gallery-zoomed")||e.cresGalleryBusy||(r.preventDefault(),e.cresGalleryBusy||(e.manageSwipeClass(),t={pageX:r.pageX,pageY:r.pageY},n=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("cres-gallery-grab").addClass("cres-gallery-grabbing"),e.cresEl.trigger(galleryEvent.dragStart))))})),cresQuery(window).on("mousemove.cres-gallery.global".concat(this.cresGalleryId),(function(o){n&&e.cresGalleryOpened&&(i=!0,r={pageX:o.pageX,pageY:o.pageY},e.touchMove(t,r),e.cresEl.trigger(galleryEvent.dragMove))})),cresQuery(window).on("mouseup.cres-gallery.global".concat(this.cresGalleryId),(function(o){if(e.cresGalleryOpened){var a=cresQuery(o.target);i?(i=!1,e.touchEnd(r,t,o),e.cresEl.trigger(galleryEvent.dragEnd)):e.isPosterElement(a)&&e.cresEl.trigger(galleryEvent.posterClick),n&&(n=!1,e.outer.removeClass("cres-gallery-grabbing").addClass("cres-gallery-grab"))}})))}},{key:"triggerPosterClick",value:function(){var e=this;this.$inner.on("click.cres-gallery",(function(t){!e.dragOrSwipeEnabled&&e.isPosterElement(cresQuery(t.target))&&e.cresEl.trigger(galleryEvent.posterClick)}))}},{key:"manageSwipeClass",value:function(){var e=this.index+1,t=this.index-1;this.config.loop&&this.galleryItems.length>2&&(0===this.index?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".cres-gallery-item").removeClass("cres-gallery-next-slide cres-gallery-prev-slide"),t>-1&&this.getSlideItem(t).addClass("cres-gallery-prev-slide"),this.getSlideItem(e).addClass("cres-gallery-next-slide")}},{key:"goToNextSlide",value:function(e){var t=this,r=this.config.loop;e&&this.galleryItems.length<3&&(r=!1),this.cresGalleryBusy||(this.index+1<this.galleryItems.length?(this.index++,this.cresEl.trigger(galleryEvent.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):r?(this.index=0,this.cresEl.trigger(galleryEvent.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.config.slideEndAnimation&&!e&&(this.outer.addClass("cres-gallery-right-end"),setTimeout((function(){t.outer.removeClass("cres-gallery-right-end")}),400)))}},{key:"goToPrevSlide",value:function(e){var t=this,r=this.config.loop;e&&this.galleryItems.length<3&&(r=!1),this.cresGalleryBusy||(this.index>0?(this.index--,this.cresEl.trigger(galleryEvent.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):r?(this.index=this.galleryItems.length-1,this.cresEl.trigger(galleryEvent.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.config.slideEndAnimation&&!e&&(this.outer.addClass("cres-gallery-left-end"),setTimeout((function(){t.outer.removeClass("cres-gallery-left-end")}),400)))}},{key:"keyPress",value:function(){var e=this;cresQuery(window).on("keydown.cres-gallery.global".concat(this.cresGalleryId),(function(t){e.cresGalleryOpened&&!0===e.config.escKey&&27===t.keyCode&&(t.preventDefault(),e.config.allowMediaOverlap&&e.outer.hasClass("cres-gallery-can-toggle")&&e.outer.hasClass("cres-gallery-components-open")?e.outer.removeClass("cres-gallery-components-open"):e.closeGallery()),e.cresGalleryOpened&&e.galleryItems.length>1&&(37===t.keyCode&&(t.preventDefault(),e.goToPrevSlide()),39===t.keyCode&&(t.preventDefault(),e.goToNextSlide()))}))}},{key:"arrow",value:function(){var e=this;this.getElementById("cres-gallery-prev").on("click.cres-gallery",(function(){e.goToPrevSlide()})),this.getElementById("cres-gallery-next").on("click.cres-gallery",(function(){e.goToNextSlide()}))}},{key:"arrowDisable",value:function(e){if(!this.config.loop&&this.config.hideControlOnEnd){var t=this.getElementById("cres-gallery-prev"),r=this.getElementById("cres-gallery-next");e+1===this.galleryItems.length?r.attr("disabled","disabled").addClass("disabled"):r.removeAttr("disabled").removeClass("disabled"),0===e?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled")}}},{key:"setTranslate",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.css("transform","translate3d("+t+"px, "+r+"px, 0px) scale3d("+n+", "+i+", 1)")}},{key:"mousewheel",value:function(){var e=this,t=0;this.outer.on("wheel.cres-gallery",(function(r){if(r.deltaY&&!(e.galleryItems.length<2)){r.preventDefault();var n=(new Date).getTime();n-t<1e3||(t=n,r.deltaY>0?e.goToNextSlide():r.deltaY<0&&e.goToPrevSlide())}}))}},{key:"isSlideElement",value:function(e){return e.hasClass("cres-gallery-outer")||e.hasClass("cres-gallery-item")||e.hasClass("cres-gallery-img-wrap")}},{key:"isPosterElement",value:function(e){var t=this.getSlideItem(this.index).find(".cres-gallery-video-play-button").get();return e.hasClass("cres-gallery-video-poster")||e.hasClass("cres-gallery-video-play-button")||t&&t.contains(e.get())}},{key:"toggleMaximize",value:function(){var e=this;this.getElementById("cres-gallery-maximize").on("click.cres-gallery",(function(){e.$container.toggleClass("cres-gallery-inline"),e.refreshOnResize()}))}},{key:"invalidateItems",value:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e],r=cresQuery(t);r.off("click.cres-gallerycustom-item-".concat(r.attr("data-cres-gallery-id")))}}},{key:"trapFocus",value:function(){var e=this;this.$container.get().focus({preventScroll:!0}),cresQuery(window).on("keydown.cres-gallery.global".concat(this.cresGalleryId),(function(t){if(e.cresGalleryOpened&&("Tab"===t.key||9===t.keyCode)){var r=utils.getFocusableElements(e.$container.get()),n=r[0],i=r[r.length-1];t.shiftKey?document.activeElement===n&&(i.focus(),t.preventDefault()):document.activeElement===i&&(n.focus(),t.preventDefault())}}))}},{key:"manageCloseGallery",value:function(){var e=this;if(this.config.closable){var t=!1;this.getElementById("cres-gallery-close").on("click.cres-gallery",(function(){e.closeGallery()})),this.config.closeOnTap&&(this.outer.on("mousedown.cres-gallery",(function(r){var n=cresQuery(r.target);t=!!e.isSlideElement(n)})),this.outer.on("mousemove.cres-gallery",(function(){t=!1})),this.outer.on("mouseup.cres-gallery",(function(r){var n=cresQuery(r.target);e.isSlideElement(n)&&t&&(e.outer.hasClass("cres-gallery-dragging")||e.closeGallery())})))}}},{key:"closeGallery",value:function(e){var t=this;if(!this.cresGalleryOpened||!this.config.closable&&!e)return 0;this.cresEl.trigger(galleryEvent.beforeClose),this.config.resetScrollPosition&&!this.config.hideScrollbar&&cresQuery(window).scrollTop(this.prevScrollTop);var r,n=this.items[this.index];if(this.zoomFromOrigin&&n){var i=this.mediaContainerPosition,o=i.top,a=i.bottom,s=this.galleryItems[this.index],l=s.__slideVideoInfo,c=s.poster,u=utils.getSize(n,this.outer,o+a,l&&c&&this.config.videoMaxSize);r=utils.getTransform(n,this.outer,o,a,u)}this.zoomFromOrigin&&r?(this.outer.addClass("cres-gallery-closing cres-gallery-zoom-from-image"),this.getSlideItem(this.index).addClass("cres-gallery-start-end-progress").css("transition-duration",this.config.startAnimationDuration+"ms").css("transform",r)):(this.outer.addClass("cres-gallery-hide-items"),this.outer.removeClass("cres-gallery-zoom-from-image")),this.destroyModules(),this.cresGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.config.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,cresQuery("html").removeClass("cres-gallery-on"),this.outer.removeClass("cres-gallery-visible cres-gallery-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var d=this.zoomFromOrigin&&r?Math.max(this.config.startAnimationDuration,this.config.backdropDuration):this.config.backdropDuration;return this.$container.removeClass("cres-gallery-show-in"),setTimeout((function(){t.zoomFromOrigin&&r&&t.outer.removeClass("cres-gallery-zoom-from-image"),t.$container.removeClass("cres-gallery-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.config.backdropDuration+"ms"),t.outer.removeClass("cres-gallery-closing ".concat(t.config.startClass)),t.getSlideItem(t.index).removeClass("cres-gallery-start-end-progress"),t.$inner.empty(),t.cresGalleryOpened&&t.cresEl.trigger(galleryEvent.afterClose,{instance:t}),t.$container.get()&&t.$container.get().blur(),t.cresGalleryOpened=!1}),d+100),d+100}},{key:"initModules",value:function(){this.plugins.forEach((function(e){e.init()}))}},{key:"destroyModules",value:function(e){this.plugins.forEach((function(t){try{e?t.destroy():t.closeGallery&&t.closeGallery()}catch(e){console.warn("cresGallery:- make sure cresGallery module is properly destroyed")}}))}},{key:"refresh",value:function(e){this.config.dynamic||this.invalidateItems(),this.galleryItems=e||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.cresEl.trigger(galleryEvent.updateSlides)}},{key:"updateControls",value:function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()}},{key:"destroy",value:function(){var e=this,t=this.closeGallery(!0);return setTimeout((function(){e.destroyModules(!0),e.config.dynamic||e.invalidateItems(),cresQuery(window).off(".cres-gallery.global".concat(e.cresGalleryId)),e.cresEl.off(".cres-gallery"),e.$container.remove()}),t),t}}]),e}(),initGallery=function(e){new Gallery(e)};function ownKeys$8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$8(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$8(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ProgressBar=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,e),this.elements=t instanceof Element?[t]:[].slice.call(document.querySelectorAll(t)),!(this.elements.length<1)){this.element=this.elements[0],this.bar=this.element.querySelector(".cres-progress-bar");var n=JSON.parse(this.element.getAttribute("cres-config"));this.config=_objectSpread$7(_objectSpread$7({},r),n),this.value=this.config.value,this.initProgressBar()}}return _createClass(e,[{key:"initProgressBar",value:function(){var e=this;this.updateBar(),this.config.updateMethod&&(window[this.config.updateMethod]=function(t){e.value=t.value,e.maxValue=t.maxValue,e.minValue=t.minValue,e.updateBar()})}},{key:"updateBar",value:function(){var e=this.config.maxValue-this.config.minValue,t=this.value-this.config.minValue,r=0!=e?t/e*100:0;this.bar.style.width=r+"%"}}]),e}(),initProgressBar=function(e){new ProgressBar(e)},Nestable=function e(t){_classCallCheck(this,e)},Image$1=function e(t){_classCallCheck(this,e)},initComponent=function(e){var t=e.getAttribute("cres-element");"component:ShowMore"==t&&initShowMore(e),"component:Shimmer"==t&&initShimmer(e),"component:Repeater"==t&&initRepeater(e),"component:Gallery"==t&&initGallery(e),"component:ProgressBar"==t&&initProgressBar(e)},component={ShowMore:ShowMore,Shimmer:Shimmer,Repeater:Repeater,Gallery:Gallery,ProgressBar:ProgressBar,Nestable:Nestable,Image:Image$1},asyncToGenerator={exports:{}};!function(e){function t(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=e.apply(r,n);function s(e){t(a,i,o,s,l,"next",e)}function l(e){t(a,i,o,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}(asyncToGenerator);var _asyncToGenerator=getDefaultExportFromCjs(asyncToGenerator.exports),regeneratorRuntime$1={exports:{}};!function(e){var t=_typeof$2.exports.default;function r(){e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var n={},i=Object.prototype,o=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return O()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=C(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p={};function h(){}function m(){}function g(){}var y={};u(y,s,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(k([])));b&&b!==i&&o.call(b,s)&&(y=b);var w=g.prototype=h.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,r){function n(i,a,s,l){var c=f(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==t(d)&&o.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):r.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var i;this._invoke=function(e,t){function o(){return new r((function(r,i){n(e,t,r,i)}))}return i=i?i.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function $(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=g,u(w,"constructor",g),u(g,"constructor",m),m.displayName=u(g,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},n.awrap=function(e){return{__await:e}},_(S.prototype),u(S.prototype,l,(function(){return this})),n.AsyncIterator=S,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new S(d(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),u(w,c,"Generator"),u(w,s,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),$(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;$(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(regeneratorRuntime$1);var runtime=regeneratorRuntime$1.exports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}var lodash_merge={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object Object]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[i]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c[o]=c["[object Map]"]=c["[object Number]"]=c[a]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof commonjsGlobal$1&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,d="object"==typeof self&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),p=t&&!t.nodeType&&t,h=p&&e&&!e.nodeType&&e,m=h&&h.exports===p,g=m&&u.process,y=function(){try{var e=h&&h.require&&h.require("util").types;return e||g&&g.binding&&g.binding("util")}catch(e){}}(),v=y&&y.isTypedArray;function b(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var w,_,S=Array.prototype,C=Function.prototype,E=Object.prototype,$=f["__core-js_shared__"],x=C.toString,k=E.hasOwnProperty,O=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),T=E.toString,A=x.call(Object),I=RegExp("^"+x.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=m?f.Buffer:void 0,R=f.Symbol,M=f.Uint8Array,j=P?P.allocUnsafe:void 0,D=(w=Object.getPrototypeOf,_=Object,function(e){return w(_(e))}),L=Object.create,N=E.propertyIsEnumerable,F=S.splice,B=R?R.toStringTag:void 0,z=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),H=P?P.isBuffer:void 0,V=Math.max,U=Date.now,G=pe(f,"Map"),W=pe(Object,"create"),q=function(){function e(){}return function(t){if(!$e(t))return{};if(L)return L(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Y(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Q(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function X(e){var t=this.__data__=new K(e);this.size=t.size}function J(e,t){var r=we(e),n=!r&&be(e),i=!r&&!n&&Se(e),o=!r&&!n&&!i&&ke(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var c in e)!t&&!k.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||he(c,l))||s.push(c);return s}function Z(e,t,r){(void 0!==r&&!ve(e[t],r)||void 0===r&&!(t in e))&&re(e,t,r)}function ee(e,t,r){var n=e[t];k.call(e,t)&&ve(n,r)&&(void 0!==r||t in e)||re(e,t,r)}function te(e,t){for(var r=e.length;r--;)if(ve(e[r][0],t))return r;return-1}function re(e,t,r){"__proto__"==t&&z?z(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Y.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(W){var n=t[e];return n===r?void 0:n}return k.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return W?void 0!==t[e]:k.call(t,e)},Y.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=W&&void 0===t?r:t,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(e){var t=this.__data__,r=te(t,e);return!(r<0)&&(r==t.length-1?t.pop():F.call(t,r,1),--this.size,!0)},K.prototype.get=function(e){var t=this.__data__,r=te(t,e);return r<0?void 0:t[r][1]},K.prototype.has=function(e){return te(this.__data__,e)>-1},K.prototype.set=function(e,t){var r=this.__data__,n=te(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Q.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(G||K),string:new Y}},Q.prototype.delete=function(e){var t=fe(this,e).delete(e);return this.size-=t?1:0,t},Q.prototype.get=function(e){return fe(this,e).get(e)},Q.prototype.has=function(e){return fe(this,e).has(e)},Q.prototype.set=function(e,t){var r=fe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},X.prototype.clear=function(){this.__data__=new K,this.size=0},X.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var r=this.__data__;if(r instanceof K){var n=r.__data__;if(!G||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Q(n)}return r.set(e,t),this.size=r.size,this};var ne,ie=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[ne?a:++n];if(!1===t(i[s],s,i))break}return e};function oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=k.call(e,B),r=e[B];try{e[B]=void 0;var n=!0}catch(e){}var i=T.call(e);n&&(t?e[B]=r:delete e[B]);return i}(e):function(e){return T.call(e)}(e)}function ae(e){return xe(e)&&oe(e)==i}function se(e){return!(!$e(e)||function(e){return!!O&&O in e}(e))&&(Ce(e)?I:s).test(function(e){if(null!=e){try{return x.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function le(e){if(!$e(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=me(e),r=[];for(var n in e)("constructor"!=n||!t&&k.call(e,n))&&r.push(n);return r}function ce(e,t,r,n,i){e!==t&&ie(t,(function(o,s){if(i||(i=new X),$e(o))!function(e,t,r,n,i,o,s){var l=ge(e,r),c=ge(t,r),u=s.get(c);if(u)return void Z(e,r,u);var d=o?o(l,c,r+"",e,t,s):void 0,f=void 0===d;if(f){var p=we(c),h=!p&&Se(c),m=!p&&!h&&ke(c);d=c,p||h||m?we(l)?d=l:xe(w=l)&&_e(w)?d=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(l):h?(f=!1,d=function(e,t){if(t)return e.slice();var r=e.length,n=j?j(r):new e.constructor(r);return e.copy(n),n}(c,!0)):m?(f=!1,g=c,y=!0?(v=g.buffer,b=new v.constructor(v.byteLength),new M(b).set(new M(v)),b):g.buffer,d=new g.constructor(y,g.byteOffset,g.length)):d=[]:function(e){if(!xe(e)||oe(e)!=a)return!1;var t=D(e);if(null===t)return!0;var r=k.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&x.call(r)==A}(c)||be(c)?(d=l,be(l)?d=function(e){return function(e,t,r,n){var i=!r;r||(r={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),i?re(r,s,l):ee(r,s,l)}return r}(e,Oe(e))}(l):$e(l)&&!Ce(l)||(d=function(e){return"function"!=typeof e.constructor||me(e)?{}:q(D(e))}(c))):f=!1}var g,y,v,b;var w;f&&(s.set(c,d),i(d,c,n,o,s),s.delete(c));Z(e,r,d)}(e,t,s,r,ce,n,i);else{var l=n?n(ge(e,s),o,s+"",e,t,i):void 0;void 0===l&&(l=o),Z(e,s,l)}}),Oe)}function ue(e,t){return ye(function(e,t,r){return t=V(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=V(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),b(e,this,s)}}(e,t,Ie),e+"")}var de=z?function(e,t){return z(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Ie;function fe(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function pe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return se(r)?r:void 0}function he(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&l.test(e))&&e>-1&&e%1==0&&e<t}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||E)}function ge(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ye=function(e){var t=0,r=0;return function(){var n=U(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(de);function ve(e,t){return e===t||e!=e&&t!=t}var be=ae(function(){return arguments}())?ae:function(e){return xe(e)&&k.call(e,"callee")&&!N.call(e,"callee")},we=Array.isArray;function _e(e){return null!=e&&Ee(e.length)&&!Ce(e)}var Se=H||function(){return!1};function Ce(e){if(!$e(e))return!1;var t=oe(e);return t==o||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function $e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xe(e){return null!=e&&"object"==typeof e}var ke=v?function(e){return function(t){return e(t)}}(v):function(e){return xe(e)&&Ee(e.length)&&!!c[oe(e)]};function Oe(e){return _e(e)?J(e,!0):le(e)}var Te,Ae=(Te=function(e,t,r){ce(e,t,r)},ue((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=Te.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!$e(r))return!1;var n=typeof t;return!!("number"==n?_e(r)&&he(t,r.length):"string"==n&&t in r)&&ve(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&Te(e,a,r,i)}return e})));function Ie(e){return e}e.exports=Ae}(lodash_merge,lodash_merge.exports);var merge=lodash_merge.exports,lodash_clonedeep={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Boolean]",a="[object Date]",s="[object Function]",l="[object GeneratorFunction]",c="[object Map]",u="[object Number]",d="[object Object]",f="[object Promise]",p="[object RegExp]",h="[object Set]",m="[object String]",g="[object Symbol]",y="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",$="[object Uint8Array]",x="[object Uint8ClampedArray]",k="[object Uint16Array]",O="[object Uint32Array]",T=/\w*$/,A=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,P={};P[i]=P["[object Array]"]=P[v]=P[b]=P[o]=P[a]=P[w]=P[_]=P[S]=P[C]=P[E]=P[c]=P[u]=P[d]=P[p]=P[h]=P[m]=P[g]=P[$]=P[x]=P[k]=P[O]=!0,P["[object Error]"]=P[s]=P[y]=!1;var R="object"==typeof commonjsGlobal$1&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,M="object"==typeof self&&self&&self.Object===Object&&self,j=R||M||Function("return this")(),D=t&&!t.nodeType&&t,L=D&&e&&!e.nodeType&&e,N=L&&L.exports===D;function F(e,t){return e.set(t[0],t[1]),e}function B(e,t){return e.add(t),e}function z(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function U(e,t){return function(r){return e(t(r))}}function G(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var W=Array.prototype,q=Function.prototype,Y=Object.prototype,K=j["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),X=q.toString,J=Y.hasOwnProperty,Z=Y.toString,ee=RegExp("^"+X.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=N?j.Buffer:void 0,re=j.Symbol,ne=j.Uint8Array,ie=U(Object.getPrototypeOf,Object),oe=Object.create,ae=Y.propertyIsEnumerable,se=W.splice,le=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,ue=U(Object.keys,Object),de=De(j,"DataView"),fe=De(j,"Map"),pe=De(j,"Promise"),he=De(j,"Set"),me=De(j,"WeakMap"),ge=De(Object,"create"),ye=ze(de),ve=ze(fe),be=ze(pe),we=ze(he),_e=ze(me),Se=re?re.prototype:void 0,Ce=Se?Se.valueOf:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $e(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){this.__data__=new $e(e)}function Oe(e,t){var r=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ue(e)}(e)&&J.call(e,"callee")&&(!ae.call(e,"callee")||Z.call(e)==i)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var a in e)!t&&!J.call(e,a)||o&&("length"==a||Fe(a,n))||r.push(a);return r}function Te(e,t,r){var n=e[t];J.call(e,t)&&He(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Ae(e,t){for(var r=e.length;r--;)if(He(e[r][0],t))return r;return-1}function Ie(e,t,r,n,f,y,A){var I;if(n&&(I=y?n(e,f,y,A):n(e)),void 0!==I)return I;if(!qe(e))return e;var R=Ve(e);if(R){if(I=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&J.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,I)}else{var M=Ne(e),j=M==s||M==l;if(Ge(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(M==d||M==i||j&&!y){if(H(e))return y?e:{};if(I=function(e){return"function"!=typeof e.constructor||Be(e)?{}:(t=ie(e),qe(t)?oe(t):{});var t}(j?{}:e),!t)return function(e,t){return Me(e,Le(e),t)}(e,function(e,t){return e&&Me(t,Ye(t),e)}(I,e))}else{if(!P[M])return y?e:{};I=function(e,t,r,n){var i=e.constructor;switch(t){case v:return Re(e);case o:case a:return new i(+e);case b:return function(e,t){var r=t?Re(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case w:case _:case S:case C:case E:case $:case x:case k:case O:return function(e,t){var r=t?Re(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case c:return function(e,t,r){return z(t?r(V(e),!0):V(e),F,new e.constructor)}(e,n,r);case u:case m:return new i(e);case p:return function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t}(e);case h:return function(e,t,r){return z(t?r(G(e),!0):G(e),B,new e.constructor)}(e,n,r);case g:return s=e,Ce?Object(Ce.call(s)):{}}var s}(e,M,Ie,t)}}A||(A=new ke);var D=A.get(e);if(D)return D;if(A.set(e,I),!R)var L=r?function(e){return function(e,t,r){var n=t(e);return Ve(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ye,Le)}(e):Ye(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(L||e,(function(i,o){L&&(i=e[o=i]),Te(I,o,Ie(i,t,r,n,o,e,A))})),I}function Pe(e){return!(!qe(e)||(t=e,Q&&Q in t))&&(We(e)||H(e)?ee:A).test(ze(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new ne(t).set(new ne(e)),t}function Me(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(r[a],e[a],a,r,e):void 0;Te(r,a,void 0===s?e[a]:s)}return r}function je(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function De(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return J.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:J.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},$e.prototype.clear=function(){this.__data__=[]},$e.prototype.delete=function(e){var t=this.__data__,r=Ae(t,e);return!(r<0)&&(r==t.length-1?t.pop():se.call(t,r,1),!0)},$e.prototype.get=function(e){var t=this.__data__,r=Ae(t,e);return r<0?void 0:t[r][1]},$e.prototype.has=function(e){return Ae(this.__data__,e)>-1},$e.prototype.set=function(e,t){var r=this.__data__,n=Ae(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},xe.prototype.clear=function(){this.__data__={hash:new Ee,map:new(fe||$e),string:new Ee}},xe.prototype.delete=function(e){return je(this,e).delete(e)},xe.prototype.get=function(e){return je(this,e).get(e)},xe.prototype.has=function(e){return je(this,e).has(e)},xe.prototype.set=function(e,t){return je(this,e).set(e,t),this},ke.prototype.clear=function(){this.__data__=new $e},ke.prototype.delete=function(e){return this.__data__.delete(e)},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var r=this.__data__;if(r instanceof $e){var n=r.__data__;if(!fe||n.length<199)return n.push([e,t]),this;r=this.__data__=new xe(n)}return r.set(e,t),this};var Le=le?U(le,Object):function(){return[]},Ne=function(e){return Z.call(e)};function Fe(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function ze(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(de&&Ne(new de(new ArrayBuffer(1)))!=b||fe&&Ne(new fe)!=c||pe&&Ne(pe.resolve())!=f||he&&Ne(new he)!=h||me&&Ne(new me)!=y)&&(Ne=function(e){var t=Z.call(e),r=t==d?e.constructor:void 0,n=r?ze(r):void 0;if(n)switch(n){case ye:return b;case ve:return c;case be:return f;case we:return h;case _e:return y}return t});var Ve=Array.isArray;function Ue(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!We(e)}var Ge=ce||function(){return!1};function We(e){var t=qe(e)?Z.call(e):"";return t==s||t==l}function qe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ye(e){return Ue(e)?Oe(e):function(e){if(!Be(e))return ue(e);var t=[];for(var r in Object(e))J.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Ie(e,!0,!0)}}(lodash_clonedeep,lodash_clonedeep.exports);var cloneDeep=lodash_clonedeep.exports,checklistCallback=function(e,t){!0===t.toolSettings.checklist.enabled&&(e.tools.checklist={class:Checklist,inlineToolbar:t.toolSettings.checklist.inlineToolbar,shortcut:t.toolSettings.checklist.shortcut})},codeCallback=function(e,t){!0===t.toolSettings.code.enabled&&(e.tools.code={class:CodeTool,shortcut:t.toolSettings.code.shortcut,config:{placeholder:t.toolSettings.code.placeholder}})},delimiterCallback=function(e,t){!0===t.toolSettings.delimiter.enabled&&(e.tools.delimiter={class:Delimiter})},embedCallback=function(e,t){!0===t.toolSettings.embed.enabled&&(e.tools.embed={class:Embed,inlineToolbar:t.toolSettings.embed.inlineToolbar,config:{services:{codepen:t.toolSettings.embed.services.codepen,imgur:t.toolSettings.embed.services.imgur,vimeo:t.toolSettings.embed.services.vimeo,youtube:t.toolSettings.embed.services.youtube}}})},toolboxIcon$1='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">\n  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>\n</svg>',Paragraph=function(){function e(t){var r=t.data,n=t.config,i=t.api,o=t.readOnly;_classCallCheck(this,e),this.api=i,this.config=n,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph",alignment:{left:"ce-paragraph--left",center:"ce-paragraph--center",right:"ce-paragraph--right",justify:"ce-paragraph--justify"}},this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},this.settings=[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"right",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/></svg>'},{name:"justify",icon:'<svg viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.867 19 L 10.914 19 C 9.26 19 7.918 19.896 7.918 21 C 7.918 22.104 9.26 23 10.914 23 L 52.867 23 C 54.522 23 55.863 22.104 55.863 21 C 55.863 19.896 54.522 19 52.867 19 Z" style=""></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.779 41 L 11.113 41 C 9.469 41 8.136 41.896 8.136 43 C 8.136 44.104 9.469 45 11.113 45 L 52.779 45 C 54.421 45 55.754 44.104 55.754 43 C 55.754 41.896 54.421 41 52.779 41 Z" style=""></path></svg>'}],this.onKeyUp=this.onKeyUp.bind(this),this._placeholder=n.placeholder?n.placeholder:e.DEFAULT_PLACEHOLDER,this._data={text:r.text||"",alignment:r.alignment||n.defaultAlignment||e.DEFAULT_ALIGNMENT},this._element=this.drawView(),this.data=r,this._preserveBlank=void 0!==n.preserveBlank&&n.preserveBlank}return _createClass(e,[{key:"onKeyUp",value:function(e){"Backspace"!==e.code&&"Delete"!==e.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block,this._CSS.alignment[this.data.alignment]),e.contentEditable=!this.readOnly,e.dataset.placeholder=this.api.i18n.t(this._placeholder),e.innerHTML=this.data.text,e.addEventListener("keyup",this.onKeyUp),e}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(e){var t={text:this.data.text+=e.text,alignment:this.data.alignment};this._element.innerHTML=this.data.text,this.data=t}},{key:"validate",value:function(e){return!(""===e.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(e){return Object.assign(this.data,{text:e.innerHTML})}},{key:"onPaste",value:function(t){var r={text:t.detail.data.innerHTML,alignment:this.config.defaultAlignment||e.DEFAULT_ALIGNMENT};this.data=r}},{key:"data",get:function(){return this._data},set:function(t){this._data={text:t.text||"",alignment:t.alignment||this.config.defaultAlignment||e.DEFAULT_ALIGNMENT},this._element.innerHTML=this._data.text||""}},{key:"renderSettings",value:function(){var e=this,t=document.createElement("div");return this.settings.map((function(r){var n=document.createElement("div");return n.classList.add("cdx-settings-button"),n.innerHTML=r.icon,n.classList.toggle(e.CSS.settingsButtonActive,r.name===e.data.alignment),t.appendChild(n),n})).forEach((function(t,r,n){t.addEventListener("click",(function(){e._toggleTune(e.settings[r].name),n.forEach((function(t,r){var n=e.settings[r].name;t.classList.toggle(e.CSS.settingsButtonActive,n===e.data.alignment),e._element.classList.toggle(e._CSS.alignment[n],n===e.data.alignment)}))}))})),t}},{key:"_toggleTune",value:function(e){this.data.alignment=e}}],[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center",right:"right",justify:"justify"}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"DEFAULT_ALIGNMENT",get:function(){return e.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0},alignment:{}}}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:toolboxIcon$1,title:"Text"}}}]),e}(),toolboxIcon='<svg width="10" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14">\n  <path d="M7.6 8.15H2.25v4.525a1.125 1.125 0 0 1-2.25 0V1.125a1.125 1.125 0 1 1 2.25 0V5.9H7.6V1.125a1.125 1.125 0 0 1 2.25 0v11.55a1.125 1.125 0 0 1-2.25 0V8.15z"/>\n</svg>',Header=function(){function e(t){var r=t.data,n=t.config,i=t.api,o=t.readOnly;_classCallCheck(this,e),this.api=i,this.readOnly=o,this._CSS={block:this.api.styles.block,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"ce-header"},this._settings=n,this._data=this.normalizeData(r),this.settingsButtons=[],this._element=this.getTag()}return _createClass(e,[{key:"normalizeData",value:function(e){var t={};return"object"!==_typeof$1(e)&&(e={}),t.text=e.text||"",t.level=parseInt(e.level)||this.defaultLevel.number,t}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var e=this,t=document.createElement("DIV");return this.levels.length<=1||this.levels.forEach((function(r){var n=document.createElement("SPAN");n.classList.add(e._CSS.settingsButton),e.currentLevel.number===r.number&&n.classList.add(e._CSS.settingsButtonActive),n.innerHTML=r.svg,n.dataset.level=r.number,n.addEventListener("click",(function(){e.setLevel(r.number)})),t.appendChild(n),e.settingsButtons.push(n)})),t}},{key:"setLevel",value:function(e){var t=this;this.data={level:e,text:this.data.text},this.settingsButtons.forEach((function(r){r.classList.toggle(t._CSS.settingsButtonActive,parseInt(r.dataset.level)===e)}))}},{key:"merge",value:function(e){var t={text:this.data.text+e.text,level:this.data.level};this.data=t}},{key:"validate",value:function(e){return""!==e.text.trim()}},{key:"save",value:function(e){return{text:e.innerHTML,level:this.currentLevel.number}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(e){if(this._data=this.normalizeData(e),void 0!==e.level&&this._element.parentNode){var t=this.getTag();t.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(t,this._element),this._element=t}void 0!==e.text&&(this._element.innerHTML=this._data.text||"")}},{key:"getTag",value:function(){var e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}},{key:"currentLevel",get:function(){var e=this,t=this.levels.find((function(t){return t.number===e._data.level}));return t||(t=this.defaultLevel),t}},{key:"defaultLevel",get:function(){var e=this;if(this._settings.defaultLevel){var t=this.levels.find((function(t){return t.number===e._settings.defaultLevel}));if(t)return t;console.warn("(à¸'Ì-'Ì)à¸ Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var e=this,t=[{number:1,tag:"H1",svg:'<svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.14 1.494V4.98h4.62V1.494c0-.498.098-.871.293-1.12A.927.927 0 0 1 7.82 0c.322 0 .583.123.782.37.2.246.3.62.3 1.124v9.588c0 .503-.101.88-.303 1.128a.957.957 0 0 1-.779.374.921.921 0 0 1-.77-.378c-.193-.251-.29-.626-.29-1.124V6.989H2.14v4.093c0 .503-.1.88-.302 1.128a.957.957 0 0 1-.778.374.921.921 0 0 1-.772-.378C.096 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.285.374A.922.922 0 0 1 1.06 0c.321 0 .582.123.782.37.199.246.299.62.299 1.124zm11.653 9.985V5.27c-1.279.887-2.14 1.33-2.583 1.33a.802.802 0 0 1-.563-.228.703.703 0 0 1-.245-.529c0-.232.08-.402.241-.511.161-.11.446-.25.854-.424.61-.259 1.096-.532 1.462-.818a5.84 5.84 0 0 0 .97-.962c.282-.355.466-.573.552-.655.085-.082.246-.123.483-.123.267 0 .481.093.642.28.161.186.242.443.242.77v7.813c0 .914-.345 1.371-1.035 1.371-.307 0-.554-.093-.74-.28-.187-.186-.28-.461-.28-.825z"/></svg>'},{number:2,tag:"H2",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm10.99 9.288h3.527c.351 0 .62.072.804.216.185.144.277.34.277.588 0 .22-.073.408-.22.56-.146.154-.368.23-.665.23h-4.972c-.338 0-.601-.093-.79-.28a.896.896 0 0 1-.284-.659c0-.162.06-.377.182-.645s.255-.478.399-.631a38.617 38.617 0 0 1 1.621-1.598c.482-.444.827-.735 1.034-.875.369-.261.676-.523.922-.787.245-.263.432-.534.56-.81.129-.278.193-.549.193-.815 0-.288-.069-.546-.206-.773a1.428 1.428 0 0 0-.56-.53 1.618 1.618 0 0 0-.774-.19c-.59 0-1.054.26-1.392.777-.045.068-.12.252-.226.554-.106.302-.225.534-.358.696-.133.162-.328.243-.585.243a.76.76 0 0 1-.56-.223c-.149-.148-.223-.351-.223-.608 0-.31.07-.635.21-.972.139-.338.347-.645.624-.92a3.093 3.093 0 0 1 1.054-.665c.426-.169.924-.253 1.496-.253.69 0 1.277.108 1.764.324.315.144.592.343.83.595.24.252.425.544.558.875.133.33.2.674.2 1.03 0 .558-.14 1.066-.416 1.523-.277.457-.56.815-.848 1.074-.288.26-.771.666-1.45 1.22-.677.554-1.142.984-1.394 1.29a3.836 3.836 0 0 0-.331.44z"/></svg>'},{number:3,tag:"H3",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm11.61 4.919c.418 0 .778-.123 1.08-.368.301-.245.452-.597.452-1.055 0-.35-.12-.65-.36-.902-.241-.252-.566-.378-.974-.378-.277 0-.505.038-.684.116a1.1 1.1 0 0 0-.426.306 2.31 2.31 0 0 0-.296.49c-.093.2-.178.388-.255.565a.479.479 0 0 1-.245.225.965.965 0 0 1-.409.081.706.706 0 0 1-.5-.22c-.152-.148-.228-.345-.228-.59 0-.236.071-.484.214-.745a2.72 2.72 0 0 1 .627-.746 3.149 3.149 0 0 1 1.024-.568 4.122 4.122 0 0 1 1.368-.214c.44 0 .842.06 1.205.18.364.12.679.294.947.52.267.228.47.49.606.79.136.3.204.622.204.967 0 .454-.099.843-.296 1.168-.198.324-.48.64-.848.95.354.19.653.408.895.653.243.245.426.516.548.813.123.298.184.619.184.964 0 .413-.083.812-.248 1.198-.166.386-.41.73-.732 1.031a3.49 3.49 0 0 1-1.147.708c-.443.17-.932.256-1.467.256a3.512 3.512 0 0 1-1.464-.293 3.332 3.332 0 0 1-1.699-1.64c-.142-.314-.214-.573-.214-.777 0-.263.085-.475.255-.636a.89.89 0 0 1 .637-.242c.127 0 .25.037.367.112a.53.53 0 0 1 .232.27c.236.63.489 1.099.759 1.405.27.306.65.46 1.14.46a1.714 1.714 0 0 0 1.46-.824c.17-.273.256-.588.256-.947 0-.53-.145-.947-.436-1.249-.29-.302-.694-.453-1.212-.453-.09 0-.231.01-.422.028-.19.018-.313.027-.367.027-.25 0-.443-.062-.579-.187-.136-.125-.204-.299-.204-.521 0-.218.081-.394.245-.528.163-.134.406-.2.728-.2h.28z"/></svg>'},{number:4,tag:"H4",svg:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm13.003 10.09v-1.252h-3.38c-.427 0-.746-.097-.96-.29-.213-.193-.32-.456-.32-.788 0-.085.016-.171.048-.259.031-.088.078-.18.141-.276.063-.097.128-.19.195-.28.068-.09.15-.2.25-.33l3.568-4.774a5.44 5.44 0 0 1 .576-.683.763.763 0 0 1 .542-.212c.682 0 1.023.39 1.023 1.171v5.212h.29c.346 0 .623.047.832.142.208.094.313.3.313.62 0 .26-.086.45-.256.568-.17.12-.427.179-.768.179h-.41v1.252c0 .346-.077.603-.23.771-.152.168-.356.253-.612.253a.78.78 0 0 1-.61-.26c-.154-.173-.232-.427-.232-.764zm-2.895-2.76h2.895V4.91L12.26 8.823z"/></svg>'},{number:5,tag:"H5",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm14.16 2.645h-3.234l-.388 2.205c.644-.344 1.239-.517 1.783-.517.436 0 .843.082 1.222.245.38.164.712.39.998.677.286.289.51.63.674 1.025.163.395.245.82.245 1.273 0 .658-.148 1.257-.443 1.797-.295.54-.72.97-1.276 1.287-.556.318-1.197.477-1.923.477-.813 0-1.472-.15-1.978-.45-.506-.3-.865-.643-1.076-1.031-.21-.388-.316-.727-.316-1.018 0-.177.073-.345.22-.504a.725.725 0 0 1 .556-.238c.381 0 .665.22.85.66.182.404.427.719.736.943.309.225.654.337 1.035.337.35 0 .656-.09.919-.272.263-.182.466-.431.61-.749.142-.318.214-.678.214-1.082 0-.436-.078-.808-.232-1.117a1.607 1.607 0 0 0-.62-.69 1.674 1.674 0 0 0-.864-.229c-.39 0-.67.048-.837.143-.168.095-.41.262-.725.5-.316.239-.576.358-.78.358a.843.843 0 0 1-.592-.242c-.173-.16-.259-.344-.259-.548 0-.022.025-.177.075-.463l.572-3.26c.063-.39.181-.675.354-.852.172-.177.454-.265.844-.265h3.595c.708 0 1.062.27 1.062.81a.711.711 0 0 1-.26.572c-.172.145-.426.218-.762.218z"/></svg>'},{number:6,tag:"H6",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zM12.53 7.058a3.093 3.093 0 0 1 1.004-.814 2.734 2.734 0 0 1 1.214-.264c.43 0 .827.08 1.19.24.365.161.684.39.957.686.274.296.485.645.635 1.048a3.6 3.6 0 0 1 .223 1.262c0 .637-.145 1.216-.437 1.736-.292.52-.699.926-1.221 1.218-.522.292-1.114.438-1.774.438-.76 0-1.416-.186-1.967-.557-.552-.37-.974-.919-1.265-1.645-.292-.726-.438-1.613-.438-2.662 0-.855.088-1.62.265-2.293.176-.674.43-1.233.76-1.676.33-.443.73-.778 1.2-1.004.47-.226 1.006-.339 1.608-.339.579 0 1.089.113 1.53.34.44.225.773.506.997.84.224.335.335.656.335.964 0 .185-.07.354-.21.505a.698.698 0 0 1-.536.227.874.874 0 0 1-.529-.18 1.039 1.039 0 0 1-.36-.498 1.42 1.42 0 0 0-.495-.655 1.3 1.3 0 0 0-.786-.247c-.24 0-.479.069-.716.207a1.863 1.863 0 0 0-.6.56c-.33.479-.525 1.333-.584 2.563zm1.832 4.213c.456 0 .834-.186 1.133-.56.298-.373.447-.862.447-1.468 0-.412-.07-.766-.21-1.062a1.584 1.584 0 0 0-.577-.678 1.47 1.47 0 0 0-.807-.234c-.28 0-.548.074-.804.224-.255.149-.461.365-.617.647a2.024 2.024 0 0 0-.234.994c0 .61.158 1.12.475 1.527.316.407.714.61 1.194.61z"/></svg>'}];return this._settings.levels?t.filter((function(t){return e._settings.levels.includes(t.number)})):t}},{key:"onPaste",value:function(e){var t=e.detail.data,r=this.defaultLevel.number;switch(t.tagName){case"H1":r=1;break;case"H2":r=2;break;case"H3":r=3;break;case"H4":r=4;break;case"H5":r=5;break;case"H6":r=6}this._settings.levels&&(r=this._settings.levels.reduce((function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e}))),this.data={level:r,text:t.innerHTML}}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:toolboxIcon,title:"Heading"}}}]),e}(),headingCallback=function(e,t){!0===t.toolSettings.header.enabled&&(e.tools.header={class:Header,config:{placeholder:t.toolSettings.header.placeholder},shortcut:t.toolSettings.header.shortcut,tunes:["alignment"]})};function ownKeys$7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$7(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var imageCallback=function(e,t){if(!0===t.toolSettings.image.enabled){var r,n=t.toolSettings.image.isSimple?{}:{config:{endpoints:{byFile:t.uploadImageByFileEndpoint,byUrl:t.uploadImageByUrlEndpoint},additionalRequestHeaders:{"X-CSRF-TOKEN":null===(r=document.querySelector('meta[name="csrf-token"]'))||void 0===r?void 0:r.getAttribute("content")}}};e.tools.image=_objectSpread$6({class:t.toolSettings.image.isSimple?SimpleImage:ImageTool,tunes:["alignment"]},n)}},inlineCodeCallback=function(e,t){!0===t.toolSettings.inlineCode.enabled&&(e.tools.inlineCode={class:InlineCode,shortcut:t.toolSettings.inlineCode.shortcut})},linkCallback=function(e,t){!0===t.toolSettings.link.enabled&&(e.tools.linkTool={class:LinkTool,config:{endpoint:t.fetchUrlEndpoint}})},listCallback=function(e,t){!0===t.toolSettings.list.enabled&&(e.tools.list={class:List,inlineToolbar:t.toolSettings.list.inlineToolbar,shortcut:t.toolSettings.list.shortcut})},markerCallback=function(e,t){!0===t.toolSettings.marker.enabled&&(e.tools.marker={class:Marker,shortcut:t.toolSettings.marker.shortcut})};function ownKeys$6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$6(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$6(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var paragraphCallback=function(e,t){console.log(t.toolSettings.paragraph.placeholder);var r={config:{}};t.toolSettings.paragraph.placeholder&&(r.config.placeholder=t.toolSettings.paragraph.placeholder),e.tools.paragraph=_objectSpread$5({class:Paragraph,inlineToolbar:!0},r)},rawCallback=function(e,t){!0===t.toolSettings.raw.enabled&&(e.tools.raw={class:RawTool,config:{placeholder:t.toolSettings.raw.placeholder}})},tableCallback=function(e,t){!0===t.toolSettings.table.enabled&&(e.tools.table={class:Table,inlineToolbar:t.toolSettings.table.inlineToolbar})};function make(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(e);Array.isArray(r)?(t=i.classList).add.apply(t,_toConsumableArray(r)):r&&i.classList.add(r);for(var o in n)i[o]=n[o];return i}var Alignment=function(){function e(t){var r=t.api,n=t.data,i=t.config,o=t.block;_classCallCheck(this,e),this.api=r,this.block=o,this.settings=i,this.data=n||{alignment:this.getAlignment()},this.alignmentSettings=[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"right",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/></svg>'}],this._CSS={alignment:{left:"ce-tune-alignment--left",center:"ce-tune-alignment--center",right:"ce-tune-alignment--right"}}}return _createClass(e,[{key:"getAlignment",value:function(){var e,t;return null!==(e=this.settings)&&void 0!==e&&e.blocks&&this.settings.blocks.hasOwnProperty(this.block.name)?this.settings.blocks[this.block.name]:null!==(t=this.settings)&&void 0!==t&&t.default?this.settings.default:AlignmentBlockTune.DEFAULT_ALIGNMENT}},{key:"wrap",value:function(e){return this.wrapper=make("div"),this.wrapper.classList.toggle(this._CSS.alignment[this.data.alignment]),this.wrapper.append(e),this.wrapper}},{key:"render",value:function(){var e=this,t=make("div");return this.alignmentSettings.map((function(r){var n=document.createElement("button");return n.classList.add(e.api.styles.settingsButton),n.innerHTML=r.icon,n.type="button",n.classList.toggle(e.api.styles.settingsButtonActive,r.name===e.data.alignment),t.appendChild(n),n})).forEach((function(t,r,n){t.addEventListener("click",(function(){e.data={alignment:e.alignmentSettings[r].name},n.forEach((function(t,r){var n=e.alignmentSettings[r].name;t.classList.toggle(e.api.styles.settingsButtonActive,n===e.data.alignment),e.wrapper.classList.toggle(e._CSS.alignment[n],n===e.data.alignment)}))}))})),t}},{key:"save",value:function(){return this.data}}],[{key:"DEFAULT_ALIGNMENT",get:function(){return"left"}},{key:"isTune",get:function(){return!0}}]),e}(),alignmentCallback=function(e){e.tools.alignment={class:Alignment,config:{default:"left",blocks:{header:"left",list:"left"}}}},CresEditorJs=function(){function e(){_classCallCheck(this,e),this.defaultConfigObject={tools:{}},this.persistentConfigObject={},this.bootingCallbacks=[checklistCallback,codeCallback,delimiterCallback,embedCallback,headingCallback,imageCallback,inlineCodeCallback,linkCallback,listCallback,markerCallback,paragraphCallback,rawCallback,tableCallback,alignmentCallback]}return _createClass(e,[{key:"booting",value:function(e){e instanceof Function&&this.bootingCallbacks.push(e)}},{key:"getInstance",value:function(e,t){var r=merge({},this.defaultConfigObject,e),n=cloneDeep(t);return Object.freeze(n),this.bootingCallbacks.forEach((function(e){return e(r,n)})),console.log(merge(r,this.persistentConfigObject)),new EditorJS(merge(r,this.persistentConfigObject))}},{key:"defaultConfig",value:function(e){e instanceof Object&&(this.defaultConfigObject=_.merge(this.defaultConfigObject,e))}},{key:"persistentConfig",value:function(e){e instanceof Object&&(this.persistentConfigObject=merge(this.persistentConfigObject,e))}}]),e}(),cresEditorJs=new CresEditorJs;function ownKeys$5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$5(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$5(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var EditorJs=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e);var n=t instanceof Element?[t]:[].slice.call(document.querySelectorAll(t));n.map((function(e,t){var n=function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i,o;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.getElementById(t),n=document.getElementById(r.getAttribute("data-input-id")),i=r.editor,o=i.save().then((function(e){n.value=JSON.stringify(e)})),e.next=6,o;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=JSON.parse(e.getAttribute("cres-config")),o=_objectSpread$4(_objectSpread$4({},r),i),a=o.editorSettings;o.toolSettings;var s=e.value;"string"==typeof s&&(s=JSON.parse(s));var l,c,u,d=e.getAttribute("data-holder-id"),f=document.getElementById(d),p={holder:d,placeholder:a.placeholder,autofocus:a.autofocus,data:s,minHeight:35,onReady:function(){},onChange:(l=_asyncToGenerator(regenerator.mark((function e(){return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(this.holder);case 2:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})};a.initialBlock&&(p.defaultBlock=a.initialBlock),c=d,(u=document.getElementById(c).closest("form")).hasEditorjsListener||u.addEventListener("submit",(function(e){e.preventDefault();var t=e.target;t.hasEditorjsListener=!0;var r=t.querySelectorAll(".editorjs-holder"),i=[];r.forEach((function(e){i.push(n(e.id))})),Promise.all(i).then((function(){t.submit()}))})),f.editor=cresEditorJs.getInstance(p,o)}))},initEditorJs=function(e){new EditorJs(e)};function ownKeys$4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$4(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$4(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Password=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,e),this.elements=t instanceof Element?[t]:[].slice.call(document.querySelectorAll(t)),!(this.elements.length<1)){this.element=this.elements[0];var n=JSON.parse(this.element.getAttribute("cres-config"));this.config=_objectSpread$3(_objectSpread$3({},r),n),this.config.toggleVisibility&&this.makeToggleable()}}return _createClass(e,[{key:"makeToggleable",value:function(){var e=$(this.element),t=$('<i class="fas fa-eye" aria-hidden="true"></i>');0==e.parent("div.input-group").length&&e.wrap('<div class="input-group"></div>'),e.after(t),t.wrap('<span class="input-group-btn"></span>').wrap('<button type="button" class="btn btn-view" tabindex="-1"></button>'),e.next("span.input-group-btn").find("button.btn").click((function(r){t.toggleClass("fa-eye-slash fa-eye"),"password"===e.attr("type")?e.attr("type","text"):e.attr("type","password"),r.stopPropagation(),r.preventDefault()}))}}]),e}(),initPassword=function(e){new Password(e)},initControl=function(e){var t=e.getAttribute("cres-element");"control:EditorJs"==t&&initEditorJs(e),"control:Password"==t&&initPassword(e)},control={EditorJs:EditorJs,Password:Password},isElementInitialized=function(e){for(var t=e.className.split(/\s+/),r=0;r<t.length;r++)if("cres:initialized"==t[r])return!0;return!1},initElement=function(){elementRendered("[cres-element]",(function(e){if(!isElementInitialized(e)){var t=e.getAttribute("cres-element");t.startsWith("component")&&initComponent(e),t.startsWith("control")&&initControl(e),e.classList.add("cres:initialized")}}))},element={component:component,control:control},flushPending=!1,flushing=!1,queue$1=[],reactive,effect$3,release$1,raw;function scheduler(e){queueJob(e)}function queueJob(e){queue$1.includes(e)||queue$1.push(e),queueFlush()}function dequeueJob(e){let t=queue$1.indexOf(e);-1!==t&&queue$1.splice(t,1)}function queueFlush(){flushing||flushPending||(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let e=0;e<queue$1.length;e++)queue$1[e]();queue$1.length=0,flushing=!1}var shouldSchedule=!0;function disableEffectScheduling(e){shouldSchedule=!1,e(),shouldSchedule=!0}function setReactivityEngine(e){reactive=e.reactive,release$1=e.release,effect$3=t=>e.effect(t,{scheduler:e=>{shouldSchedule?scheduler(e):e()}}),raw=e.raw}function overrideEffect(e){effect$3=e}function elementBoundEffect(e){let t=()=>{};return[r=>{let n=effect$3(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(n),t=()=>{void 0!==n&&(e._x_effects.delete(n),release$1(n))},n},()=>{t()}]}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(e){onElAddeds.push(e)}function onElRemoved(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,onElRemoveds.push(t))}function onAttributesAdded(e){onAttributeAddeds.push(e)}function onAttributeRemoved(e,t,r){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(r)}function cleanupAttributes(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach((([r,n])=>{(void 0===t||t.includes(r))&&(n.forEach((e=>e())),delete e._x_attributeCleanups[r])}))}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var recordQueue=[],willProcessRecordQueue=!1;function flushObserver(){(recordQueue=recordQueue.concat(observer.takeRecords())).length&&!willProcessRecordQueue&&(willProcessRecordQueue=!0,queueMicrotask((()=>{processRecordQueue(),willProcessRecordQueue=!1})))}function processRecordQueue(){onMutate(recordQueue),recordQueue.length=0}function mutateDom(e){if(!currentlyObserving)return e();stopObservingMutations();let t=e();return startObservingMutations(),t}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(e){if(isCollecting)return void(deferredMutations=deferredMutations.concat(e));let t=[],r=[],n=new Map,i=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&("childList"===e[o].type&&(e[o].addedNodes.forEach((e=>1===e.nodeType&&t.push(e))),e[o].removedNodes.forEach((e=>1===e.nodeType&&r.push(e)))),"attributes"===e[o].type)){let t=e[o].target,r=e[o].attributeName,a=e[o].oldValue,s=()=>{n.has(t)||n.set(t,[]),n.get(t).push({name:r,value:t.getAttribute(r)})},l=()=>{i.has(t)||i.set(t,[]),i.get(t).push(r)};t.hasAttribute(r)&&null===a?s():t.hasAttribute(r)?(l(),s()):l()}i.forEach(((e,t)=>{cleanupAttributes(t,e)})),n.forEach(((e,t)=>{onAttributeAddeds.forEach((r=>r(t,e)))}));for(let e of r)if(!t.includes(e)&&(onElRemoveds.forEach((t=>t(e))),e._x_cleanups))for(;e._x_cleanups.length;)e._x_cleanups.pop()();t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let e of t)r.includes(e)||e.isConnected&&(delete e._x_ignoreSelf,delete e._x_ignore,onElAddeds.forEach((t=>t(e))),e._x_ignore=!0,e._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,r=null,n=null,i=null}function scope(e){return mergeProxies(closestDataStack(e))}function addScopeToNode(e,t,r){return e._x_dataStack=[t,...closestDataStack(r||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function refreshScope(e,t){let r=e._x_dataStack[0];Object.entries(t).forEach((([e,t])=>{r[e]=t}))}function closestDataStack(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?closestDataStack(e.host):e.parentNode?closestDataStack(e.parentNode):[]}function mergeProxies(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:(t,r)=>e.some((e=>e.hasOwnProperty(r))),get:(r,n)=>(e.find((e=>{if(e.hasOwnProperty(n)){let r=Object.getOwnPropertyDescriptor(e,n);if(r.get&&r.get._x_alreadyBound||r.set&&r.set._x_alreadyBound)return!0;if((r.get||r.set)&&r.enumerable){let i=r.get,o=r.set,a=r;i=i&&i.bind(t),o=o&&o.bind(t),i&&(i._x_alreadyBound=!0),o&&(o._x_alreadyBound=!0),Object.defineProperty(e,n,{...a,get:i,set:o})}return!0}return!1}))||{})[n],set:(t,r,n)=>{let i=e.find((e=>e.hasOwnProperty(r)));return i?i[r]=n:e[e.length-1][r]=n,!0}});return t}function initInterceptors(e){let t=(r,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach((([i,{value:o,enumerable:a}])=>{if(!1===a||void 0===o)return;let s=""===n?i:`${n}.${i}`;var l;"object"==typeof o&&null!==o&&o._x_interceptor?r[i]=o.initialize(e,s,i):"object"!=typeof(l=o)||Array.isArray(l)||null===l||o===r||o instanceof Element||t(o,s)}))};return t(e)}function interceptor(e,t=(()=>{})){let r={initialValue:void 0,_x_interceptor:!0,initialize(t,r,n){return e(this.initialValue,(()=>get(t,r)),(e=>set(t,r,e)),r,n)}};return t(r),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=r.initialize.bind(r);r.initialize=(n,i,o)=>{let a=e.initialize(n,i,o);return r.initialValue=a,t(n,i,o)}}else r.initialValue=e;return r}}function get(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}function set(e,t,r){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),set(e[t[0]],t.slice(1),r)}e[t[0]]=r}var magics={};function magic(e,t){magics[e]=t}function injectMagics(e,t){return Object.entries(magics).forEach((([r,n])=>{Object.defineProperty(e,`$${r}`,{get(){let[e,r]=getElementBoundUtilities(t);return e={interceptor:interceptor,...e},onElRemoved(t,r),n(t,e)},enumerable:!1})})),e}function tryCatch(e,t,r,...n){try{return r(...n)}catch(r){handleError(r,e,t)}}function handleError(e,t,r){Object.assign(e,{el:t,expression:r}),console.warn(`Alpine Expression Error: ${e.message}\n\n${r?'Expression: "'+r+'"\n\n':""}`,t),setTimeout((()=>{throw e}),0)}function evaluate(e,t,r={}){let n;return evaluateLater(e,t)((e=>n=e),r),n}function evaluateLater(...e){return theEvaluatorFunction(...e)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(e){theEvaluatorFunction=e}function normalEvaluator(e,t){let r={};injectMagics(r,e);let n=[r,...closestDataStack(e)];if("function"==typeof t)return generateEvaluatorFromFunction(n,t);let i=generateEvaluatorFromString(n,t,e);return tryCatch.bind(null,e,t,i)}function generateEvaluatorFromFunction(e,t){return(r=(()=>{}),{scope:n={},params:i=[]}={})=>{runIfTypeOfFunction(r,t.apply(mergeProxies([n,...e]),i))}}var evaluatorMemo={};function generateFunctionFromString(e,t){if(evaluatorMemo[e])return evaluatorMemo[e];let r=Object.getPrototypeOf((async function(){})).constructor,n=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(() => { ${e} })()`:e;let i=(()=>{try{return new r(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(r){return handleError(r,t,e),Promise.resolve()}})();return evaluatorMemo[e]=i,i}function generateEvaluatorFromString(e,t,r){let n=generateFunctionFromString(t,r);return(i=(()=>{}),{scope:o={},params:a=[]}={})=>{n.result=void 0,n.finished=!1;let s=mergeProxies([o,...e]);if("function"==typeof n){let e=n(n,s).catch((e=>handleError(e,r,t)));n.finished?(runIfTypeOfFunction(i,n.result,s,a,r),n.result=void 0):e.then((e=>{runIfTypeOfFunction(i,e,s,a,r)})).catch((e=>handleError(e,r,t))).finally((()=>n.result=void 0))}}}function runIfTypeOfFunction(e,t,r,n,i){if("function"==typeof t){let o=t.apply(r,n);o instanceof Promise?o.then((t=>runIfTypeOfFunction(e,t,r,n))).catch((e=>handleError(e,i,t))):e(o)}else e(t)}var prefixAsString="x-";function prefix(e=""){return prefixAsString+e}function setPrefix(e){prefixAsString=e}var directiveHandlers={};function directive(e,t){directiveHandlers[e]=t}function directives(e,t,r){let n={};return Array.from(t).map(toTransformedAttributes(((e,t)=>n[e]=t))).filter(outNonAlpineAttributes).map(toParsedDirectives(n,r)).sort(byPriority).map((t=>getDirectiveHandler(e,t)))}function attributesOnly(e){return Array.from(e).map(toTransformedAttributes()).filter((e=>!outNonAlpineAttributes(e)))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(e){isDeferringHandlers=!0;let t=Symbol();currentHandlerStackKey=t,directiveHandlerStacks.set(t,[]);let r=()=>{for(;directiveHandlerStacks.get(t).length;)directiveHandlerStacks.get(t).shift()();directiveHandlerStacks.delete(t)};e(r),isDeferringHandlers=!1,r()}function getElementBoundUtilities(e){let t=[],[r,n]=elementBoundEffect(e);t.push(n);return[{Alpine:alpine_default,effect:r,cleanup:e=>t.push(e),evaluateLater:evaluateLater.bind(evaluateLater,e),evaluate:evaluate.bind(evaluate,e)},()=>t.forEach((e=>e()))]}function getDirectiveHandler(e,t){let r=directiveHandlers[t.type]||(()=>{}),[n,i]=getElementBoundUtilities(e);onAttributeRemoved(e,t.original,i);let o=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,n),r=r.bind(r,e,t,n),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(r):r())};return o.runCleanups=i,o}var startingWith=(e,t)=>({name:r,value:n})=>(r.startsWith(e)&&(r=r.replace(e,t)),{name:r,value:n}),into=e=>e;function toTransformedAttributes(e=(()=>{})){return({name:t,value:r})=>{let{name:n,value:i}=attributeTransformers.reduce(((e,t)=>t(e)),{name:t,value:r});return n!==t&&e(n,t),{name:n,value:i}}}var attributeTransformers=[];function mapAttributes(e){attributeTransformers.push(e)}function outNonAlpineAttributes({name:e}){return alpineAttributeRegex().test(e)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(e,t){return({name:r,value:n})=>{let i=r.match(alpineAttributeRegex()),o=r.match(/:([a-zA-Z0-9\-:]+)/),a=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],s=t||e[r]||r;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:a.map((e=>e.replace(".",""))),expression:n,original:s}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",DEFAULT,"teleport","element"];function byPriority(e,t){let r=-1===directiveOrder.indexOf(e.type)?DEFAULT:e.type,n=-1===directiveOrder.indexOf(t.type)?DEFAULT:t.type;return directiveOrder.indexOf(r)-directiveOrder.indexOf(n)}function dispatch(e,t,r={}){e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}var tickStack=[],isHolding=!1;function nextTick$1(e){tickStack.push(e),queueMicrotask((()=>{isHolding||setTimeout((()=>{releaseNextTicks()}))}))}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function walk(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>walk(e,t)));let r=!1;if(t(e,(()=>r=!0)),r)return;let n=e.firstElementChild;for(;n;)walk(n,t),n=n.nextElementSibling}function warn(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}function start$1(){document.body||warn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded((e=>initTree(e,walk))),onElRemoved((e=>destroyTree(e))),onAttributesAdded(((e,t)=>{directives(e,t).forEach((e=>e()))}));Array.from(document.querySelectorAll(allSelectors())).filter((e=>!closestRoot(e.parentElement,!0))).forEach((e=>{initTree(e)})),dispatch(document,"alpine:initialized")}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map((e=>e()))}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map((e=>e()))}function addRootSelector(e){rootSelectorCallbacks.push(e)}function addInitSelector(e){initSelectorCallbacks.push(e)}function closestRoot(e,t=!1){return findClosest(e,(e=>{if((t?allSelectors():rootSelectors()).some((t=>e.matches(t))))return!0}))}function findClosest(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return findClosest(e.parentElement,t)}}function isRoot(e){return rootSelectors().some((t=>e.matches(t)))}function initTree(e,t=walk){deferHandlingDirectives((()=>{t(e,((e,t)=>{directives(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()}))}))}function destroyTree(e){walk(e,(e=>cleanupAttributes(e)))}function setClasses(e,t){return Array.isArray(t)?setClassesFromString(e,t.join(" ")):"object"==typeof t&&null!==t?setClassesFromObject(e,t):"function"==typeof t?setClasses(e,t()):setClassesFromString(e,t)}function setClassesFromString(e,t){return t=!0===t?t="":t||"",r=t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),e.classList.add(...r),()=>{e.classList.remove(...r)};var r}function setClassesFromObject(e,t){let r=e=>e.split(" ").filter(Boolean),n=Object.entries(t).flatMap((([e,t])=>!!t&&r(e))).filter(Boolean),i=Object.entries(t).flatMap((([e,t])=>!t&&r(e))).filter(Boolean),o=[],a=[];return i.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),a.push(t))})),n.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),o.push(t))})),()=>{a.forEach((t=>e.classList.add(t))),o.forEach((t=>e.classList.remove(t)))}}function setStyles(e,t){return"object"==typeof t&&null!==t?setStylesFromObject(e,t):setStylesFromString(e,t)}function setStylesFromObject(e,t){let r={};return Object.entries(t).forEach((([t,n])=>{r[t]=e.style[t],t.startsWith("--")||(t=kebabCase(t)),e.style.setProperty(t,n)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{setStyles(e,r)}}function setStylesFromString(e,t){let r=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",r||"")}}function kebabCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once$1(e,t=(()=>{})){let r=!1;return function(){r?t.apply(this,arguments):(r=!0,e.apply(this,arguments))}}function registerTransitionsFromClassString(e,t,r){registerTransitionObject(e,setClasses,""),{enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}}[r](t)}function registerTransitionsFromHelper(e,t,r){registerTransitionObject(e,setStyles);let n=!t.includes("in")&&!t.includes("out")&&!r,i=n||t.includes("in")||["enter"].includes(r),o=n||t.includes("out")||["leave"].includes(r);t.includes("in")&&!n&&(t=t.filter(((e,r)=>r<t.indexOf("out")))),t.includes("out")&&!n&&(t=t.filter(((e,r)=>r>t.indexOf("out"))));let a=!t.includes("opacity")&&!t.includes("scale"),s=a||t.includes("opacity")?0:1,l=a||t.includes("scale")?modifierValue(t,"scale",95)/100:1,c=modifierValue(t,"delay",0),u=modifierValue(t,"origin","center"),d="opacity, transform",f=modifierValue(t,"duration",150)/1e3,p=modifierValue(t,"duration",75)/1e3,h="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(e._x_transition.enter.during={transformOrigin:u,transitionDelay:c,transitionProperty:d,transitionDuration:`${f}s`,transitionTimingFunction:h},e._x_transition.enter.start={opacity:s,transform:`scale(${l})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(e._x_transition.leave.during={transformOrigin:u,transitionDelay:c,transitionProperty:d,transitionDuration:`${p}s`,transitionTimingFunction:h},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:s,transform:`scale(${l})`})}function registerTransitionObject(e,t,r={}){e._x_transition||(e._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(r=(()=>{}),n=(()=>{})){transition(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,n)},out(r=(()=>{}),n=(()=>{})){transition(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,n)}})}function closestHide(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:closestHide(t)}function transition(e,t,{during:r,start:n,end:i}={},o=(()=>{}),a=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(r).length&&0===Object.keys(n).length&&0===Object.keys(i).length)return o(),void a();let s,l,c;performTransition(e,{start(){s=t(e,n)},during(){l=t(e,r)},before:o,end(){s(),c=t(e,i)},after:a,cleanup(){l(),c()}})}function performTransition(e,t){let r,n,i,o=once$1((()=>{mutateDom((()=>{r=!0,n||t.before(),i||(t.end(),releaseNextTicks()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:once$1((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()})),finish:o},mutateDom((()=>{t.start(),t.during()})),holdNextTicks(),requestAnimationFrame((()=>{if(r)return;let o=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),a=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===o&&(o=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),mutateDom((()=>{t.before()})),n=!0,requestAnimationFrame((()=>{r||(mutateDom((()=>{t.end()})),releaseNextTicks(),setTimeout(e._x_transitioning.finish,o+a),i=!0)}))}))}function modifierValue(e,t,r){if(-1===e.indexOf(t))return r;const n=e[e.indexOf(t)+1];if(!n)return r;if("scale"===t&&isNaN(n))return r;if("duration"===t){let e=n.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[n,e[e.indexOf(t)+2]].join(" "):n}directive("transition",((e,{value:t,modifiers:r,expression:n},{evaluate:i})=>{"function"==typeof n&&(n=i(n)),n?registerTransitionsFromClassString(e,n,t):registerTransitionsFromHelper(e,r,t)})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,r,n){let i=()=>{"visible"===document.visibilityState?requestAnimationFrame(r):setTimeout(r)};t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(r):i():e._x_transition?e._x_transition.in(r):i():(e._x_hidePromise=e._x_transition?new Promise(((t,r)=>{e._x_transition.out((()=>{}),(()=>t(n))),e._x_transitioning.beforeCancel((()=>r({isFromCancelledTransition:!0})))})):Promise.resolve(n),queueMicrotask((()=>{let t=closestHide(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):queueMicrotask((()=>{let t=e=>{let r=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e()));return delete e._x_hidePromise,delete e._x_hideChildren,r};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var isCloning=!1;function skipDuringClone(e,t=(()=>{})){return(...r)=>isCloning?t(...r):e(...r)}function clone(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),isCloning=!0,dontRegisterReactiveSideEffects((()=>{cloneTree(t)})),isCloning=!1}function cloneTree(e){let t=!1;initTree(e,((e,r)=>{walk(e,((e,n)=>{if(t&&isRoot(e))return n();t=!0,r(e,n)}))}))}function dontRegisterReactiveSideEffects(e){let t=effect$3;overrideEffect(((e,r)=>{let n=t(e);return release$1(n),()=>{}})),e(),overrideEffect(t)}function bind(e,t,r,n=[]){switch(e._x_bindings||(e._x_bindings=reactive({})),e._x_bindings[t]=r,t=n.includes("camel")?camelCase(t):t){case"value":bindInputValue(e,r);break;case"style":bindStyles(e,r);break;case"class":bindClasses(e,r);break;default:bindAttribute(e,t,r)}}function bindInputValue(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=checkedAttrLooseCompare(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Number.isInteger(t)||Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>checkedAttrLooseCompare(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)updateSelect(e,t);else{if(e.value===t)return;e.value=t}}function bindClasses(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=setClasses(e,t)}function bindStyles(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=setStyles(e,t)}function bindAttribute(e,t,r){[null,void 0,!1].includes(r)&&attributeShouldntBePreservedIfFalsy(t)?e.removeAttribute(t):(isBooleanAttr(t)&&(r=t),setIfChanged(e,t,r))}function setIfChanged(e,t,r){e.getAttribute(t)!=r&&e.setAttribute(t,r)}function updateSelect(e,t){const r=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=r.includes(e.value)}))}function camelCase(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}function checkedAttrLooseCompare(e,t){return e==t}function isBooleanAttr(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function attributeShouldntBePreservedIfFalsy(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function getBinding(e,t,r){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];let n=e.getAttribute(t);return null===n?"function"==typeof r?r():r:isBooleanAttr(t)?!![t,"true"].includes(n):""===n||n}function debounce$2(e,t){var r;return function(){var n=this,i=arguments,o=function(){r=null,e.apply(n,i)};clearTimeout(r),r=setTimeout(o,t)}}function throttle(e,t){let r;return function(){let n=this,i=arguments;r||(e.apply(n,i),r=!0,setTimeout((()=>r=!1),t))}}function plugin(e){e(alpine_default)}var stores={},isReactive=!1;function store(e,t){if(isReactive||(stores=reactive(stores),isReactive=!0),void 0===t)return stores[e];stores[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&stores[e].init(),initInterceptors(stores[e])}function getStores(){return stores}var binds={};function bind2(e,t){binds[e]="function"!=typeof t?()=>t:t}function injectBindingProviders(e){return Object.entries(binds).forEach((([t,r])=>{Object.defineProperty(e,t,{get:()=>(...e)=>r(...e)})})),e}var datas={};function data(e,t){datas[e]=t}function injectDataProviders(e,t){return Object.entries(datas).forEach((([r,n])=>{Object.defineProperty(e,r,{get:()=>(...e)=>n.bind(t)(...e),enumerable:!1})})),e}var Alpine={get reactive(){return reactive},get release(){return release$1},get effect(){return effect$3},get raw(){return raw},version:"3.9.5",flushAndStopDeferringMutations:flushAndStopDeferringMutations,disableEffectScheduling:disableEffectScheduling,setReactivityEngine:setReactivityEngine,closestDataStack:closestDataStack,skipDuringClone:skipDuringClone,addRootSelector:addRootSelector,addInitSelector:addInitSelector,addScopeToNode:addScopeToNode,deferMutations:deferMutations,mapAttributes:mapAttributes,evaluateLater:evaluateLater,setEvaluator:setEvaluator,mergeProxies:mergeProxies,findClosest:findClosest,closestRoot:closestRoot,interceptor:interceptor,transition:transition,setStyles:setStyles,mutateDom:mutateDom,directive:directive,throttle:throttle,debounce:debounce$2,evaluate:evaluate,initTree:initTree,nextTick:nextTick$1,prefixed:prefix,prefix:setPrefix,plugin:plugin,magic:magic,store:store,start:start$1,clone:clone,bound:getBinding,$data:scope,data:data,bind:bind2},alpine_default=Alpine;function makeMap(e,t){const r=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)r[n[e]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}var EMPTY_OBJ=Object.freeze({});Object.freeze([]);var extend$1=Object.assign,hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$1=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>"[object Map]"===toTypeString(e),isString=e=>"string"==typeof e,isSymbol=e=>"symbol"==typeof e,isObject=e=>null!==e&&"object"==typeof e,objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isIntegerKey=e=>isString(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},capitalize=cacheStringFunction((e=>e.charAt(0).toUpperCase()+e.slice(1))),hasChanged=(e,t)=>e!==t&&(e==e||t==t),targetMap=new WeakMap,effectStack=[],activeEffect,ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");function isEffect(e){return e&&!0===e._isEffect}function effect2(e,t=EMPTY_OBJ){isEffect(e)&&(e=e.raw);const r=createReactiveEffect(e,t);return t.lazy||r(),r}function stop(e){e.active&&(cleanup(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var uid=0;function createReactiveEffect(e,t){const r=function(){if(!r.active)return e();if(!effectStack.includes(r)){cleanup(r);try{return enableTracking(),effectStack.push(r),activeEffect=r,e()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return r.id=uid++,r.allowRecurse=!!t.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=t,r}function cleanup(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const e=trackStack.pop();shouldTrack=void 0===e||e}function track(e,t,r){if(!shouldTrack||void 0===activeEffect)return;let n=targetMap.get(e);n||targetMap.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=new Set),i.has(activeEffect)||(i.add(activeEffect),activeEffect.deps.push(i),activeEffect.options.onTrack&&activeEffect.options.onTrack({effect:activeEffect,target:e,type:t,key:r}))}function trigger(e,t,r,n,i,o){const a=targetMap.get(e);if(!a)return;const s=new Set,l=e=>{e&&e.forEach((e=>{(e!==activeEffect||e.allowRecurse)&&s.add(e)}))};if("clear"===t)a.forEach(l);else if("length"===r&&isArray(e))a.forEach(((e,t)=>{("length"===t||t>=n)&&l(e)}));else switch(void 0!==r&&l(a.get(r)),t){case"add":isArray(e)?isIntegerKey(r)&&l(a.get("length")):(l(a.get(ITERATE_KEY)),isMap(e)&&l(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(l(a.get(ITERATE_KEY)),isMap(e)&&l(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&l(a.get(ITERATE_KEY))}s.forEach((a=>{a.options.onTrigger&&a.options.onTrigger({effect:a,target:e,key:r,type:t,newValue:n,oldValue:i,oldTarget:o}),a.options.scheduler?a.options.scheduler(a):a()}))}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(isSymbol)),get2=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations={};function createGetter(e=!1,t=!1){return function(r,n,i){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_raw"===n&&i===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(r))return r;const o=isArray(r);if(!e&&o&&hasOwn$1(arrayInstrumentations,n))return Reflect.get(arrayInstrumentations,n,i);const a=Reflect.get(r,n,i);if(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))return a;if(e||track(r,"get",n),t)return a;if(isRef(a)){return!o||!isIntegerKey(n)?a.value:a}return isObject(a)?e?readonly(a):reactive2(a):a}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];arrayInstrumentations[e]=function(...e){const r=toRaw(this);for(let e=0,t=this.length;e<t;e++)track(r,"get",e+"");const n=t.apply(r,e);return-1===n||!1===n?t.apply(r,e.map(toRaw)):n}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];arrayInstrumentations[e]=function(...e){pauseTracking();const r=t.apply(this,e);return resetTracking(),r}}));var set2=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(t,r,n,i){let o=t[r];if(!e&&(n=toRaw(n),o=toRaw(o),!isArray(t)&&isRef(o)&&!isRef(n)))return o.value=n,!0;const a=isArray(t)&&isIntegerKey(r)?Number(r)<t.length:hasOwn$1(t,r),s=Reflect.set(t,r,n,i);return t===toRaw(i)&&(a?hasChanged(n,o)&&trigger(t,"set",r,n,o):trigger(t,"add",r,n)),s}}function deleteProperty(e,t){const r=hasOwn$1(e,t),n=e[t],i=Reflect.deleteProperty(e,t);return i&&r&&trigger(e,"delete",t,void 0,n),i}function has(e,t){const r=Reflect.has(e,t);return isSymbol(t)&&builtInSymbols.has(t)||track(e,"has",t),r}function ownKeys$3(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}var mutableHandlers={get:get2,set:set2,deleteProperty:deleteProperty,has:has,ownKeys:ownKeys$3},readonlyHandlers={get:readonlyGet,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)};extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),extend$1({},readonlyHandlers,{get:shallowReadonlyGet});var toReactive=e=>isObject(e)?reactive2(e):e,toReadonly=e=>isObject(e)?readonly(e):e,toShallow=e=>e,getProto$1=e=>Reflect.getPrototypeOf(e);function get$1(e,t,r=!1,n=!1){const i=toRaw(e=e.__v_raw),o=toRaw(t);t!==o&&!r&&track(i,"get",t),!r&&track(i,"get",o);const{has:a}=getProto$1(i),s=n?toShallow:r?toReadonly:toReactive;return a.call(i,t)?s(e.get(t)):a.call(i,o)?s(e.get(o)):void(e!==i&&e.get(t))}function has$1(e,t=!1){const r=this.__v_raw,n=toRaw(r),i=toRaw(e);return e!==i&&!t&&track(n,"has",e),!t&&track(n,"has",i),e===i?r.has(e):r.has(e)||r.has(i)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto$1(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$1(e,t){t=toRaw(t);const r=toRaw(this),{has:n,get:i}=getProto$1(r);let o=n.call(r,e);o?checkIdentityKeys(r,n,e):(e=toRaw(e),o=n.call(r,e));const a=i.call(r,e);return r.set(e,t),o?hasChanged(t,a)&&trigger(r,"set",e,t,a):trigger(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:n}=getProto$1(t);let i=r.call(t,e);i?checkIdentityKeys(t,r,e):(e=toRaw(e),i=r.call(t,e));const o=n?n.call(t,e):void 0,a=t.delete(e);return i&&trigger(t,"delete",e,void 0,o),a}function clear(){const e=toRaw(this),t=0!==e.size,r=isMap(e)?new Map(e):new Set(e),n=e.clear();return t&&trigger(e,"clear",void 0,void 0,r),n}function createForEach(e,t){return function(r,n){const i=this,o=i.__v_raw,a=toRaw(o),s=t?toShallow:e?toReadonly:toReactive;return!e&&track(a,"iterate",ITERATE_KEY),o.forEach(((e,t)=>r.call(n,s(e),s(t),i)))}}function createIterableMethod(e,t,r){return function(...n){const i=this.__v_raw,o=toRaw(i),a=isMap(o),s="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,c=i[e](...n),u=r?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){{const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${capitalize(e)} operation ${r}failed: target is readonly.`,toRaw(this))}return"delete"!==e&&this}}var mutableInstrumentations={get(e){return get$1(this,e)},get size(){return size(this)},has:has$1,add:add,set:set$1,delete:deleteEntry,clear:clear,forEach:createForEach(!1,!1)},shallowInstrumentations={get(e){return get$1(this,e,!1,!0)},get size(){return size(this)},has:has$1,add:add,set:set$1,delete:deleteEntry,clear:clear,forEach:createForEach(!1,!0)},readonlyInstrumentations={get(e){return get$1(this,e,!0)},get size(){return size(this,!0)},has(e){return has$1.call(this,e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},shallowReadonlyInstrumentations={get(e){return get$1(this,e,!0,!0)},get size(){return size(this,!0)},has(e){return has$1.call(this,e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)},iteratorMethods=["keys","values","entries",Symbol.iterator];function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(t,n,i)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(hasOwn$1(r,n)&&n in t?r:t,n,i)}iteratorMethods.forEach((e=>{mutableInstrumentations[e]=createIterableMethod(e,!1,!1),readonlyInstrumentations[e]=createIterableMethod(e,!0,!1),shallowInstrumentations[e]=createIterableMethod(e,!1,!0),shallowReadonlyInstrumentations[e]=createIterableMethod(e,!0,!0)}));var mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)};function checkIdentityKeys(e,t,r){const n=toRaw(r);if(n!==r&&t.call(e,n)){const t=toRawType(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive2(e){return e&&e.__v_isReadonly?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,r,n,i){if(!isObject(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const a=getTargetType(e);if(0===a)return e;const s=new Proxy(e,2===a?n:r);return i.set(e,s),s}function toRaw(e){return e&&toRaw(e.__v_raw)||e}function isRef(e){return Boolean(e&&!0===e.__v_isRef)}function getArrayOfRefObject(e){let t=[],r=e;for(;r;)r._x_refs&&t.push(r._x_refs),r=r.parentNode;return t}magic("nextTick",(()=>nextTick$1)),magic("dispatch",(e=>dispatch.bind(dispatch,e))),magic("watch",((e,{evaluateLater:t,effect:r})=>(n,i)=>{let o,a=t(n),s=!0,l=r((()=>a((e=>{JSON.stringify(e),s?o=e:queueMicrotask((()=>{i(e,o),o=e})),s=!1}))));e._x_effects.delete(l)})),magic("store",getStores),magic("data",(e=>scope(e))),magic("root",(e=>closestRoot(e))),magic("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=mergeProxies(getArrayOfRefObject(e))),e._x_refs_proxy)));var globalIdMemo={};function findAndIncrementId(e){return globalIdMemo[e]||(globalIdMemo[e]=0),++globalIdMemo[e]}function closestIdRoot(e,t){return findClosest(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}function setIdRoot(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=findAndIncrementId(t))}magic("id",(e=>(t,r=null)=>{let n=closestIdRoot(e,t),i=n?n._x_ids[t]:findAndIncrementId(t);return r?`${t}-${i}-${r}`:`${t}-${i}`})),magic("el",(e=>e)),directive("modelable",((e,{expression:t},{effect:r,evaluateLater:n})=>{let i=n(t),o=()=>{let e;return i((t=>e=t)),e},a=n(`${t} = __placeholder`),s=e=>a((()=>{}),{scope:{__placeholder:e}}),l=o();s(l),queueMicrotask((()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,n=e._x_model.set;r((()=>s(t()))),r((()=>n(o())))}))})),directive("teleport",((e,{expression:t},{cleanup:r})=>{"template"!==e.tagName.toLowerCase()&&warn("x-teleport can only be used on a <template> tag",e);let n=document.querySelector(t);n||warn(`Cannot find x-teleport element for selector: "${t}"`);let i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{i.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),addScopeToNode(i,{},e),mutateDom((()=>{n.appendChild(i),initTree(i),i._x_ignore=!0})),r((()=>i.remove()))}));var handler=()=>{};function on$1(e,t,r,n){let i=e,o=e=>n(e),a={},s=(e,t)=>r=>t(e,r);if(r.includes("dot")&&(t=dotSyntax(t)),r.includes("camel")&&(t=camelCase2(t)),r.includes("passive")&&(a.passive=!0),r.includes("capture")&&(a.capture=!0),r.includes("window")&&(i=window),r.includes("document")&&(i=document),r.includes("prevent")&&(o=s(o,((e,t)=>{t.preventDefault(),e(t)}))),r.includes("stop")&&(o=s(o,((e,t)=>{t.stopPropagation(),e(t)}))),r.includes("self")&&(o=s(o,((t,r)=>{r.target===e&&t(r)}))),(r.includes("away")||r.includes("outside"))&&(i=document,o=s(o,((t,r)=>{e.contains(r.target)||!1!==r.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(r))}))),r.includes("once")&&(o=s(o,((e,r)=>{e(r),i.removeEventListener(t,o,a)}))),o=s(o,((e,n)=>{isKeyEvent(t)&&isListeningForASpecificKeyThatHasntBeenPressed(n,r)||e(n)})),r.includes("debounce")){let e=r[r.indexOf("debounce")+1]||"invalid-wait",t=isNumeric(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=debounce$2(o,t)}if(r.includes("throttle")){let e=r[r.indexOf("throttle")+1]||"invalid-wait",t=isNumeric(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=throttle(o,t)}return i.addEventListener(t,o,a),()=>{i.removeEventListener(t,o,a)}}function dotSyntax(e){return e.replace(/-/g,".")}function camelCase2(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}function isNumeric(e){return!Array.isArray(e)&&!isNaN(e)}function kebabCase2(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(e){return["keydown","keyup"].includes(e)}function isListeningForASpecificKeyThatHasntBeenPressed(e,t){let r=t.filter((e=>!["window","document","prevent","stop","once"].includes(e)));if(r.includes("debounce")){let e=r.indexOf("debounce");r.splice(e,isNumeric((r[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===r.length)return!1;if(1===r.length&&keyToModifiers(e.key).includes(r[0]))return!1;const n=["ctrl","shift","alt","meta","cmd","super"].filter((e=>r.includes(e)));if(r=r.filter((e=>!n.includes(e))),n.length>0){if(n.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===n.length&&keyToModifiers(e.key).includes(r[0]))return!1}return!0}function keyToModifiers(e){if(!e)return[];e=kebabCase2(e);let t={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return t[e]=e,Object.keys(t).map((r=>{if(t[r]===e)return r})).filter((e=>e))}function generateAssignmentFunction(e,t,r){return"radio"===e.type&&mutateDom((()=>{e.hasAttribute("name")||e.setAttribute("name",r)})),(r,n)=>mutateDom((()=>{if(r instanceof CustomEvent&&void 0!==r.detail)return r.detail||r.target.value;if("checkbox"===e.type){if(Array.isArray(n)){let e=t.includes("number")?safeParseNumber(r.target.value):r.target.value;return r.target.checked?n.concat([e]):n.filter((t=>!checkedAttrLooseCompare2(t,e)))}return r.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(r.target.selectedOptions).map((e=>safeParseNumber(e.value||e.text))):Array.from(r.target.selectedOptions).map((e=>e.value||e.text));{let e=r.target.value;return t.includes("number")?safeParseNumber(e):t.includes("trim")?e.trim():e}}))}function safeParseNumber(e){let t=e?parseFloat(e):null;return isNumeric2(t)?t:e}function checkedAttrLooseCompare2(e,t){return e==t}function isNumeric2(e){return!Array.isArray(e)&&!isNaN(e)}function applyBindingsObject(e,t,r,n){let i={};injectBindingProviders(i);let o=evaluateLater(e,t),a=[];for(;a.length;)a.pop()();o((t=>{let n=Object.entries(t).map((([e,t])=>({name:e,value:t}))),i=attributesOnly(n);n=n.map((e=>i.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),directives(e,n,r).map((e=>{a.push(e.runCleanups),e()}))}),{scope:i})}function storeKeyForXFor(e,t){e._x_keyExpression=t}function loop(e,t,r,n){let i=e;r((r=>{isNumeric3(r)&&r>=0&&(r=Array.from(Array(r).keys(),(e=>e+1))),void 0===r&&(r=[]);let o=e._x_lookup,a=e._x_prevKeys,s=[],l=[];if((e=>"object"==typeof e&&!Array.isArray(e))(r))r=Object.entries(r).map((([e,i])=>{let o=getIterationScopeVariables(t,i,e,r);n((e=>l.push(e)),{scope:{index:e,...o}}),s.push(o)}));else for(let e=0;e<r.length;e++){let i=getIterationScopeVariables(t,r[e],e,r);n((e=>l.push(e)),{scope:{index:e,...i}}),s.push(i)}let c=[],u=[],d=[],f=[];for(let e=0;e<a.length;e++){let t=a[e];-1===l.indexOf(t)&&d.push(t)}a=a.filter((e=>!d.includes(e)));let p="template";for(let e=0;e<l.length;e++){let t=l[e],r=a.indexOf(t);if(-1===r)a.splice(e,0,t),c.push([p,e]);else if(r!==e){let t=a.splice(e,1)[0],n=a.splice(r-1,1)[0];a.splice(e,0,n),a.splice(r,0,t),u.push([t,n])}else f.push(t);p=t}for(let e=0;e<d.length;e++){let t=d[e];o[t]._x_effects&&o[t]._x_effects.forEach(dequeueJob),o[t].remove(),o[t]=null,delete o[t]}for(let e=0;e<u.length;e++){let[t,r]=u[e],n=o[t],i=o[r],a=document.createElement("div");mutateDom((()=>{i.after(a),n.after(i),i._x_currentIfEl&&i.after(i._x_currentIfEl),a.before(n),n._x_currentIfEl&&n.after(n._x_currentIfEl),a.remove()})),refreshScope(i,s[l.indexOf(r)])}for(let e=0;e<c.length;e++){let[t,r]=c[e],n="template"===t?i:o[t];n._x_currentIfEl&&(n=n._x_currentIfEl);let a=s[r],u=l[r],d=document.importNode(i.content,!0).firstElementChild;addScopeToNode(d,reactive(a),i),mutateDom((()=>{n.after(d),initTree(d)})),"object"==typeof u&&warn("x-for key cannot be an object, it must be a string or an integer",i),o[u]=d}for(let e=0;e<f.length;e++)refreshScope(o[f[e]],s[l.indexOf(f[e])]);i._x_prevKeys=l}))}function parseForExpression(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=e.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!r)return;let n={};n.items=r[2].trim();let i=r[1].replace(/^\s*\(|\)\s*$/g,"").trim(),o=i.match(t);return o?(n.item=i.replace(t,"").trim(),n.index=o[1].trim(),o[2]&&(n.collection=o[2].trim())):n.item=i,n}function getIterationScopeVariables(e,t,r,n){let i={};if(/^\[.*\]$/.test(e.item)&&Array.isArray(t)){e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,r)=>{i[e]=t[r]}))}else if(/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t){e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{i[e]=t[e]}))}else i[e.item]=t;return e.index&&(i[e.index]=r),e.collection&&(i[e.collection]=n),i}function isNumeric3(e){return!Array.isArray(e)&&!isNaN(e)}function handler2(){}handler.inline=(e,{modifiers:t},{cleanup:r})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,r((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},directive("ignore",handler),directive("effect",((e,{expression:t},{effect:r})=>r(evaluateLater(e,t)))),directive("model",((e,{modifiers:t,expression:r},{effect:n,cleanup:i})=>{let o=evaluateLater(e,r),a=evaluateLater(e,`${r} = rightSideOfExpression($event, ${r})`);var s="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let l=generateAssignmentFunction(e,t,r),c=on$1(e,s,t,(e=>{a((()=>{}),{scope:{$event:e,rightSideOfExpression:l}})}));e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=c,i((()=>e._x_removeModelListeners.default()));let u=evaluateLater(e,`${r} = __placeholder`);e._x_model={get(){let e;return o((t=>e=t)),e},set(e){u((()=>{}),{scope:{__placeholder:e}})}},e._x_forceModelUpdate=()=>{o((t=>{void 0===t&&r.match(/\./)&&(t=""),window.fromModel=!0,mutateDom((()=>bind(e,"value",t))),delete window.fromModel}))},n((()=>{t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate()}))})),directive("cloak",(e=>queueMicrotask((()=>mutateDom((()=>e.removeAttribute(prefix("cloak")))))))),addInitSelector((()=>`[${prefix("init")}]`)),directive("init",skipDuringClone(((e,{expression:t},{evaluate:r})=>"string"==typeof t?!!t.trim()&&r(t,{},!1):r(t,{},!1)))),directive("text",((e,{expression:t},{effect:r,evaluateLater:n})=>{let i=n(t);r((()=>{i((t=>{mutateDom((()=>{e.textContent=t}))}))}))})),directive("html",((e,{expression:t},{effect:r,evaluateLater:n})=>{let i=n(t);r((()=>{i((t=>{mutateDom((()=>{e.innerHTML=t,e._x_ignoreSelf=!0,initTree(e),delete e._x_ignoreSelf}))}))}))})),mapAttributes(startingWith(":",into(prefix("bind:")))),directive("bind",((e,{value:t,modifiers:r,expression:n,original:i},{effect:o})=>{if(!t)return applyBindingsObject(e,n,i);if("key"===t)return storeKeyForXFor(e,n);let a=evaluateLater(e,n);o((()=>a((i=>{void 0===i&&n.match(/\./)&&(i=""),mutateDom((()=>bind(e,t,i,r)))}))))})),addRootSelector((()=>`[${prefix("data")}]`)),directive("data",skipDuringClone(((e,{expression:t},{cleanup:r})=>{t=""===t?"{}":t;let n={};injectMagics(n,e);let i={};injectDataProviders(i,n);let o=evaluate(e,t,{scope:i});void 0===o&&(o={}),injectMagics(o,e);let a=reactive(o);initInterceptors(a);let s=addScopeToNode(e,a);a.init&&evaluate(e,a.init),r((()=>{a.destroy&&evaluate(e,a.destroy),s()}))}))),directive("show",((e,{modifiers:t,expression:r},{effect:n})=>{let i,o=evaluateLater(e,r),a=()=>mutateDom((()=>{e.style.display="none",e._x_isShown=!1})),s=()=>mutateDom((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display"),e._x_isShown=!0})),l=()=>setTimeout(s),c=once$1((e=>e?s():a()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,s,a):t?l():a()})),u=!0;n((()=>o((e=>{(u||e!==i)&&(t.includes("immediate")&&(e?l():a()),c(e),i=e,u=!1)}))))})),directive("for",((e,{expression:t},{effect:r,cleanup:n})=>{let i=parseForExpression(t),o=evaluateLater(e,i.items),a=evaluateLater(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},r((()=>loop(e,i,o,a))),n((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),handler2.inline=(e,{expression:t},{cleanup:r})=>{let n=closestRoot(e);n._x_refs||(n._x_refs={}),n._x_refs[t]=e,r((()=>delete n._x_refs[t]))},directive("ref",handler2),directive("if",((e,{expression:t},{effect:r,cleanup:n})=>{let i=evaluateLater(e,t);r((()=>i((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;addScopeToNode(t,{},e),mutateDom((()=>{e.after(t),initTree(t)})),e._x_currentIfEl=t,e._x_undoIf=()=>{walk(t,(e=>{e._x_effects&&e._x_effects.forEach(dequeueJob)})),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})))),n((()=>e._x_undoIf&&e._x_undoIf()))})),directive("id",((e,{expression:t},{evaluate:r})=>{r(t).forEach((t=>setIdRoot(e,t)))})),mapAttributes(startingWith("@",into(prefix("on:")))),directive("on",skipDuringClone(((e,{value:t,modifiers:r,expression:n},{cleanup:i})=>{let o=n?evaluateLater(e,n):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let a=on$1(e,t,r,(e=>{o((()=>{}),{scope:{$event:e},params:[e]})}));i((()=>a()))}))),alpine_default.setEvaluator(normalEvaluator),alpine_default.setReactivityEngine({reactive:reactive2,effect:effect2,release:stop,raw:toRaw});var src_default=alpine_default,module_default=src_default,CresReact=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createTestComponent",value:function(e){window.ReactDOM.render(React.createElement("div",null,"halo"),e)}}]),e}(),cresReact=new CresReact,Connector=function(){function e(t){_classCallCheck(this,e),this.options=null,this.defaultOptions={auth:{headers:{}},authEndpoint:window.capp.baseUrl+"cresenity/broadcast/auth",broadcaster:"pusher",csrfToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(t),this.connect()}return _createClass(e,[{key:"setOptions",value:function(e){return this.options=Object.assign(this.defaultOptions,e),this.csrfToken()&&(this.options.auth.headers["X-CSRF-TOKEN"]=this.csrfToken()),e}},{key:"csrfToken",value:function(){var e;return"undefined"!=typeof window&&window.capp&&window.capp.csrfToken?window.capp.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(e=document.querySelector('meta[name="csrf-token"]'))?e.getAttribute("content"):null}}]),e}(),Channel=function(){function e(){_classCallCheck(this,e),this.options=null}return _createClass(e,[{key:"listen",value:function(e,t){return this}},{key:"listenForWhisper",value:function(e,t){return this.listen(".client-"+e,t)}},{key:"notification",value:function(e){return this.listen(".CNotification_Event_BroadcastNotificationCreated",e)}},{key:"stopListening",value:function(e,t){return this}},{key:"stopListeningForWhisper",value:function(e,t){return this.stopListening(".client-"+e,t)}},{key:"subscribed",value:function(e){return this}},{key:"error",value:function(e){return this}}]),e}(),EventFormatter=function(){function e(t){_classCallCheck(this,e),this.setNamespace(t)}return _createClass(e,[{key:"format",value:function(e){return"."===e.charAt(0)||"\\"===e.charAt(0)?e.substr(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(e){this.namespace=e}}]),e}();function _createSuper$8(e){var t=_isNativeReflectConstruct$8();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$8(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var PusherChannel=function(e){_inherits(r,e);var t=_createSuper$8(r);function r(e,n,i){var o;return _classCallCheck(this,r),(o=t.call(this)).name=n,o.pusher=e,o.options=i,o.eventFormatter=new EventFormatter(o.options.namespace),o.subscription=null,o.subscribe(),o}return _createClass(r,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(e,t){return this.on(this.eventFormatter.format(e),t),this}},{key:"listenToAll",value:function(e){var t=this;return this.subscription.bind_global((function(r,n){if(!r.startsWith("pusher:")){var i=t.options.namespace.replace(/\./g,"\\"),o=r.startsWith(i)?r.substring(i.length+1):"."+r;e(o,n)}})),this}},{key:"stopListening",value:function(e,t){return t?this.subscription.unbind(this.eventFormatter.format(e),t):this.subscription.unbind(this.eventFormatter.format(e)),this}},{key:"stopListeningToAll",value:function(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(e){return this.on("pusher:subscription_succeeded",(function(){e()})),this}},{key:"error",value:function(e){return this.on("pusher:subscription_error",(function(t){e(t)})),this}},{key:"on",value:function(e,t){return this.subscription.bind(e,t),this}}]),r}(Channel);function _createSuper$7(e){var t=_isNativeReflectConstruct$7();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$7(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var PusherEncryptedPrivateChannel=function(e){_inherits(r,e);var t=_createSuper$7(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),r}(PusherChannel);function _createSuper$6(e){var t=_isNativeReflectConstruct$6();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$6(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var PusherPresenceChannel=function(e){_inherits(r,e);var t=_createSuper$6(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"here",value:function(e){return this.on("pusher:subscription_succeeded",(function(t){e(Object.keys(t.members).map((function(e){return t.members[e]})))})),this}},{key:"joining",value:function(e){return this.on("pusher:member_added",(function(t){e(t.info)})),this}},{key:"leaving",value:function(e){return this.on("pusher:member_removed",(function(t){e(t.info)})),this}},{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),r}(PusherChannel);function _createSuper$5(e){var t=_isNativeReflectConstruct$5();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$5(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var PusherPrivateChannel=function(e){_inherits(r,e);var t=_createSuper$5(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),r}(PusherChannel);function _createSuper$4(e){var t=_isNativeReflectConstruct$4();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$4(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var NullChannel=function(e){_inherits(r,e);var t=_createSuper$4(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(e,t){return this}},{key:"stopListening",value:function(e,t){return this}},{key:"subscribed",value:function(e){return this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,t){return this}}]),r}(Channel);function _createSuper$3(e){var t=_isNativeReflectConstruct$3();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$3(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var NullPresenceChannel=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"here",value:function(e){return this}},{key:"joining",value:function(e){return this}},{key:"leaving",value:function(e){return this}},{key:"whisper",value:function(e,t){return this}}]),r}(NullChannel);function _createSuper$2(e){var t=_isNativeReflectConstruct$2();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var NullPrivateChannel=function(e){_inherits(r,e);var t=_createSuper$2(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"whisper",value:function(e,t){return this}}]),r}(NullChannel);function _createSuper$1(e){var t=_isNativeReflectConstruct$1();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct$1(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var PusherConnector=function(e){_inherits(r,e);var t=_createSuper$1(r);function r(e){return _classCallCheck(this,r),t.call(this,e)}return _createClass(r,[{key:"connect",value:function(){if(this.channels={},void 0!==this.options.client)this.pusher=this.options.client;else{if("undefined"==typeof Pusher)throw new Error("Pusher is not defined");this.pusher=new Pusher(this.options.key,this.options)}}},{key:"listen",value:function(e,t,r){return this.channel(e).listen(t,r)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new PusherChannel(this.pusher,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new PusherPrivateChannel(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"encryptedPrivateChannel",value:function(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new PusherEncryptedPrivateChannel(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new PusherPresenceChannel(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var t=this;[e,"private-"+e,"presence-"+e].forEach((function(e,r){t.leaveChannel(e)}))}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.pusher&&this.pusher.connection?this.pusher.connection.socket_id:null}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),r}(Connector);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var NullConnector=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this,e)).channels={},n}return _createClass(r,[{key:"connect",value:function(){}},{key:"listen",value:function(e,t,r){return new NullChannel}},{key:"channel",value:function(e){return new NullChannel}},{key:"privateChannel",value:function(e){return new NullPrivateChannel}},{key:"presenceChannel",value:function(e){return new NullPresenceChannel}},{key:"leave",value:function(e){}},{key:"leaveChannel",value:function(e){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),r}(Connector),CSocket=function(){function e(t){_classCallCheck(this,e),this.connector=null,this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return _createClass(e,[{key:"channel",value:function(e){return this.connector.channel(e)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new PusherConnector(this.options):"null"==this.options.broadcaster?this.connector=new NullConnector(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(e){return this.connector.presenceChannel(e)}},{key:"leave",value:function(e){this.connector.leave(e)}},{key:"leaveChannel",value:function(e){this.connector.leaveChannel(e)}},{key:"listen",value:function(e,t,r){return this.connector.listen(e,t,r)}},{key:"private",value:function(e){return this.connector.privateChannel(e)}},{key:"encryptedPrivate",value:function(e){return this.connector.encryptedPrivateChannel(e)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup()}},{key:"registerVueRequestInterceptor",value:function(){var e=this;Vue.http.interceptors.push((function(t,r){e.socketId()&&t.headers.set("X-Socket-ID",e.socketId()),r()}))}},{key:"registerAxiosRequestInterceptor",value:function(){var e=this;axios.interceptors.request.use((function(t){return e.socketId()&&(t.headers["X-Socket-Id"]=e.socketId()),t}))}},{key:"registerjQueryAjaxSetup",value:function(){var e=this;void 0!==jQuery.ajax&&jQuery.ajaxPrefilter((function(t,r,n){e.socketId()&&n.setRequestHeader("X-Socket-Id",e.socketId())}))}}]),e}();function ownKeys$2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$2(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function defaultFadeConfig(){return{easing:"linear",iterations:1,direction:"normal",fill:"forwards",delay:0,endDelay:0}}var fadeOut=function(){var e=_asyncToGenerator(regenerator.mark((function e(t){var r,n,i=arguments;return regenerator.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:1e3,n=i.length>2&&void 0!==i[2]?i[2]:defaultFadeConfig(),e.abrupt("return",new Promise((function(e,i){t.animate([{opacity:"1"},{opacity:"0.5",offset:.5},{opacity:"0",offset:1}],_objectSpread$2({duration:r},n)).onfinish=function(){return e()}})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removePreloader=function(e){var t=document.getElementById("cres-preloader");t?fadeOut(t).then((function(){t.remove(),e&&e()})):e&&e()},initProgressive=function(){var e=document.body;if(e.getElementsByClassName&&e.querySelector&&e.classList&&e.getBoundingClientRect){var t,r="replace",n="preview",i="reveal",o=document.getElementsByClassName("cres-progressive replace"),a=window.requestAnimationFrame||function(e){e()};if(["pageshow","scroll","resize"].forEach((function(e){window.addEventListener(e,s,{passive:!0})})),window.MutationObserver)new MutationObserver(s).observe(e,{subtree:!0,childList:!0,attributes:!0});l()}function s(){t=t||setTimeout((function(){t=null,l()}),300)}function l(){o.length&&a((function(){for(var e,t,r=window.innerHeight,n=0;n<o.length;)(t=(e=o[n].getBoundingClientRect()).top)+e.height>0&&r>t?c(o[n]):n++}))}function c(e,t){e.classList.remove(r);var o=e.getAttribute("data-href")||e.href,s=e.querySelector("img.preview");if(o&&s){var l=new Image,u=e.dataset;u&&(u.srcset&&(l.srcset=u.srcset),u.sizes&&(l.sizes=u.sizes)),l.onload=function(){o===e.href&&(e.style.cursor="default",e.addEventListener("click",(function(e){e.preventDefault()})));var t=l.classList;l.className=s.className,t.remove(n),t.add(i),l.alt=s.alt||"",l.onload=0,l.onerror=0,a((function(){e.insertBefore(l,s.nextSibling).addEventListener("animationend",(function(){e.removeChild(s),t.remove(i)}))}))},(t=1+(t||0))<3&&(l.onerror=function(){setTimeout((function(){c(e,t)}),3e3*t)}),l.src=o}}};function mergeOptions(e,t){var r=t;for(var n in e)r.hasOwnProperty(n)?null!==e[n]&&e[n].constructor===Object&&(r[n]=mergeOptions(e[n],r[n])):r[n]=e[n];return r}function stylize(e,t){Object.keys(t).forEach((function(r){e.style[r]=t[r]}))}var cresToast=function(){var e,t,r={SHOW:{"-webkit-transition":"opacity 400ms, -webkit-transform 400ms",transition:"opacity 400ms, transform 400ms",opacity:"1","-webkit-transform":"translateY(-100%) translateZ(0)",transform:"translateY(-100%) translateZ(0)"},HIDE:{opacity:"0","-webkit-transform":"translateY(150%) translateZ(0)",transform:"translateY(150%) translateZ(0)"}},n={style:{main:{background:"rgba(0, 0, 0, .85)","box-shadow":"0 0 10px rgba(0, 0, 0, .8)","border-radius":"3px","z-index":"99999",color:"rgba(255, 255, 255, .9)","font-family":"sans-serif",padding:"10px 15px","max-width":"60%",width:"100%","word-break":"keep-all",margin:"0 auto","text-align":"center",position:"fixed",left:"0",right:"0",bottom:"0","-webkit-transform":"translateY(150%) translateZ(0)",transform:"translateY(150%) translateZ(0)","-webkit-filter":"blur(0)",opacity:"0"}},settings:{duration:4e3}},i=[];function o(e,o,s){var u=s||r;if(void 0!==l())i.push({text:e,options:o,transitions:u});else{var d=o||{};(function(e,r,n){!function(e,t){var r=document.createElement("div");"string"==typeof e&&(e=document.createTextNode(e));r.appendChild(e),c(r),stylize(l(),t)}(e,r.style.main);var i=l();document.body.insertBefore(i,document.body.firstChild),i.offsetHeight,stylize(i,n.SHOW),clearTimeout(t),0!==r.settings.duration&&(t=setTimeout((function(){return a(n)}),r.settings.duration))})(e,d=mergeOptions(n,d),u)}return{hide:function(){return a(u)}}}function a(e){var r=l();stylize(r,e.HIDE),clearTimeout(t),r.addEventListener("transitionend",s,{once:!0})}function s(){var e=l();if(document.body.removeChild(e),c(void 0),i.length>0){var t=i.shift();o(t.text,t.options,t.transitions)}}function l(){return e}function c(t){e=t}return{toast:o}}();function getComponentName(e){return e.getAttribute("x-title")||e.getAttribute("x-id")||e.id||e.getAttribute("name")||findCresID(e.getAttribute("cres:id"))||findLiveViewName(e)||e.getAttribute("aria-label")||extractFunctionName(e.getAttribute("x-data"))||e.getAttribute("role")||e.tagName.toLowerCase()}function findCresID(e){if(e&&window.cresenity.ui)try{window.cresenity.ui.find(e);if(window.cresenity.ui.__instance)return"cres:"+window.cresenity.ui.__instance.fingerprint.name}catch(e){}}function findLiveViewName(e){var t=e.closest("[data-phx-view]");if(t){if(!window.liveSocket.getViewByEl)return;var r=window.liveSocket.getViewByEl(t);return r&&r.name}}function extractFunctionName(e){if(!e.startsWith("{"))return e.replace(/\(([^\)]+)\)/,"").replace("()","")}function isRequiredVersion(e,t){if(e===t)return!0;for(var r=e.split(".").map((function(e){return parseInt(e,10)})),n=t.split(".").map((function(e){return parseInt(e,10)})),i=0;i<r.length;i++){if(n[i]<r[i])return!1;if(n[i]>r[i])return!0}return!0}var CRESALPINE_RENDER_ATTR_NAME="data-cresalpine-render",CRESALPINE_RENDER_BINDING_ATTR_NAME=":".concat(CRESALPINE_RENDER_ATTR_NAME),CresAlpine=function(){function e(t){_classCallCheck(this,e),this.Alpine=t,this.lastComponentCrawl=Date.now(),this.components=[],this.uuid=1,this.errorElements=[],this.observer=null}return _createClass(e,[{key:"alpineVersion",get:function(){return this.Alpine.version||""}},{key:"isV3",get:function(){return isRequiredVersion("3.0.0",this.alpineVersion)}},{key:"getAlpineDataInstance",value:function(e){return this.isV3?e._x_dataStack?e._x_dataStack[0]:null:e.__x}},{key:"getComponent",value:function(e){for(var t=this.getComponents(),r=0;r<t.length;r++)if(t[r].name==e)return t[r];return null}},{key:"getComponents",value:function(){var e=this,t=Array.from(document.querySelectorAll("[x-data]"));if(Object.values(t).every((function(e){return e.cresAlpine}))){var r=t.reduce((function(e,t){var r=t.getAttribute(CRESALPINE_RENDER_ATTR_NAME),n=parseInt(r,10);return n&&n>e?n:e}),this.lastComponentCrawl)>this.lastComponentCrawl;if(r&&(this.lastComponentCrawl=Date.now()),!r&&this.components.length===t.length)return this.components}return this.components=[],t.forEach((function(r,n){if(e.getAlpineDataInstance(r)){if(r.cresAlpine||(e.isV3||r.setAttribute(CRESALPINE_RENDER_BINDING_ATTR_NAME,"Date.now()"),r.cresAlpine={id:e.uuid++},window["$x".concat(r.cresAlpine.id-1)]=e.getAlpineDataInstance(r)),r.cresAlpine.id===e.selectedComponentId&&e.sendComponentData(e.selectedComponentId,r),e.isV3){var i=e.getAlpineDataInstance(r);e.Alpine.effect((function(){Object.keys(i).forEach((function(t){i[t],r.cresAlpine.id===e.selectedComponentId&&e.sendComponentData(e.selectedComponentId,r)}))}))}var o=0===n?0:t.reduce((function(e,t,i){return n===i?e:t.contains(r)?e+1:e}),0);e.components.push({name:getComponentName(r),depth:o,index:n,id:r.cresAlpine.id,getData:function(){return e.getAlpineDataInstance(r)}})}})),this.components}},{key:"postMessage",value:function(e){window.postMessage({source:"cres-alpine-backend",payload:e},"*")}}]),e}(),SSE=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"listen",value:function(e,t){var r=new window.EventSource(e);r.addEventListener("message",(function(e){t(e)}),!1),r.addEventListener("error",(function(e){e.readyState==EventSource.CLOSED&&console.log("SSE Connection Closed.")}),!1)}}]),e}(),global$1=void 0!==global$1?global$1:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},commonjsGlobal="undefined"!=typeof window?window:void 0!==global$1?global$1:"undefined"!=typeof self?self:{},NumeralFormatter=function(e,t,r,n,i,o,a,s,l,c){var u=this;u.numeralDecimalMark=e||".",u.numeralIntegerScale=t>0?t:0,u.numeralDecimalScale=r>=0?r:2,u.numeralThousandsGroupStyle=n||NumeralFormatter.groupStyle.thousand,u.numeralPositiveOnly=!!i,u.stripLeadingZeroes=!1!==o,u.prefix=a||""===a?a:"",u.signBeforePrefix=!!s,u.tailPrefix=!!l,u.delimiter=c||""===c?c:",",u.delimiterRE=c?new RegExp("\\"+c,"g"):""};NumeralFormatter.groupStyle={thousand:"thousand",lakh:"lakh",wan:"wan",none:"none"},NumeralFormatter.prototype={getRawValue:function(e){return e.replace(this.delimiterRE,"").replace(this.numeralDecimalMark,".")},format:function(e){var t,r,n,i,o=this,a="";switch(e=e.replace(/[A-Za-z]/g,"").replace(o.numeralDecimalMark,"M").replace(/[^\dM-]/g,"").replace(/^\-/,"N").replace(/\-/g,"").replace("N",o.numeralPositiveOnly?"":"-").replace("M",o.numeralDecimalMark),o.stripLeadingZeroes&&(e=e.replace(/^(-)?0+(?=\d)/,"$1")),r="-"===e.slice(0,1)?"-":"",n=void 0!==o.prefix?o.signBeforePrefix?r+o.prefix:o.prefix+r:r,i=e,e.indexOf(o.numeralDecimalMark)>=0&&(i=(t=e.split(o.numeralDecimalMark))[0],a=o.numeralDecimalMark+t[1].slice(0,o.numeralDecimalScale)),"-"===r&&(i=i.slice(1)),o.numeralIntegerScale>0&&(i=i.slice(0,o.numeralIntegerScale)),o.numeralThousandsGroupStyle){case NumeralFormatter.groupStyle.lakh:i=i.replace(/(\d)(?=(\d\d)+\d$)/g,"$1"+o.delimiter);break;case NumeralFormatter.groupStyle.wan:i=i.replace(/(\d)(?=(\d{4})+$)/g,"$1"+o.delimiter);break;case NumeralFormatter.groupStyle.thousand:i=i.replace(/(\d)(?=(\d{3})+$)/g,"$1"+o.delimiter)}return o.tailPrefix?r+i.toString()+(o.numeralDecimalScale>0?a.toString():"")+o.prefix:n+i.toString()+(o.numeralDecimalScale>0?a.toString():"")}};var NumeralFormatter_1=NumeralFormatter,DateFormatter=function(e,t,r){var n=this;n.date=[],n.blocks=[],n.datePattern=e,n.dateMin=t.split("-").reverse().map((function(e){return parseInt(e,10)})),2===n.dateMin.length&&n.dateMin.unshift(0),n.dateMax=r.split("-").reverse().map((function(e){return parseInt(e,10)})),2===n.dateMax.length&&n.dateMax.unshift(0),n.initBlocks()};DateFormatter.prototype={initBlocks:function(){var e=this;e.datePattern.forEach((function(t){"Y"===t?e.blocks.push(4):e.blocks.push(2)}))},getISOFormatDate:function(){var e=this,t=e.date;return t[2]?t[2]+"-"+e.addLeadingZero(t[1])+"-"+e.addLeadingZero(t[0]):""},getBlocks:function(){return this.blocks},getValidatedDate:function(e){var t=this,r="";return e=e.replace(/[^\d]/g,""),t.blocks.forEach((function(n,i){if(e.length>0){var o=e.slice(0,n),a=o.slice(0,1),s=e.slice(n);switch(t.datePattern[i]){case"d":"00"===o?o="01":parseInt(a,10)>3?o="0"+a:parseInt(o,10)>31&&(o="31");break;case"m":"00"===o?o="01":parseInt(a,10)>1?o="0"+a:parseInt(o,10)>12&&(o="12")}r+=o,e=s}})),this.getFixedDateString(r)},getFixedDateString:function(e){var t,r,n,i=this,o=i.datePattern,a=[],s=0,l=0,c=0,u=0,d=0,f=0,p=!1;return 4===e.length&&"y"!==o[0].toLowerCase()&&"y"!==o[1].toLowerCase()&&(d=2-(u="d"===o[0]?0:2),t=parseInt(e.slice(u,u+2),10),r=parseInt(e.slice(d,d+2),10),a=this.getFixedDate(t,r,0)),8===e.length&&(o.forEach((function(e,t){switch(e){case"d":s=t;break;case"m":l=t;break;default:c=t}})),f=2*c,u=s<=c?2*s:2*s+2,d=l<=c?2*l:2*l+2,t=parseInt(e.slice(u,u+2),10),r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(f,f+4),10),p=4===e.slice(f,f+4).length,a=this.getFixedDate(t,r,n)),4!==e.length||"y"!==o[0]&&"y"!==o[1]||(f=2-(d="m"===o[0]?0:2),r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(f,f+2),10),p=2===e.slice(f,f+2).length,a=[0,r,n]),6!==e.length||"Y"!==o[0]&&"Y"!==o[1]||(f=2-.5*(d="m"===o[0]?0:4),r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(f,f+4),10),p=4===e.slice(f,f+4).length,a=[0,r,n]),a=i.getRangeFixedDate(a),i.date=a,0===a.length?e:o.reduce((function(e,t){switch(t){case"d":return e+(0===a[0]?"":i.addLeadingZero(a[0]));case"m":return e+(0===a[1]?"":i.addLeadingZero(a[1]));case"y":return e+(p?i.addLeadingZeroForYear(a[2],!1):"");case"Y":return e+(p?i.addLeadingZeroForYear(a[2],!0):"")}}),"")},getRangeFixedDate:function(e){var t=this,r=t.datePattern,n=t.dateMin||[],i=t.dateMax||[];return!e.length||n.length<3&&i.length<3||r.find((function(e){return"y"===e.toLowerCase()}))&&0===e[2]?e:i.length&&(i[2]<e[2]||i[2]===e[2]&&(i[1]<e[1]||i[1]===e[1]&&i[0]<e[0]))?i:n.length&&(n[2]>e[2]||n[2]===e[2]&&(n[1]>e[1]||n[1]===e[1]&&n[0]>e[0]))?n:e},getFixedDate:function(e,t,r){return e=Math.min(e,31),t=Math.min(t,12),r=parseInt(r||0,10),(t<7&&t%2==0||t>8&&t%2==1)&&(e=Math.min(e,2===t?this.isLeapYear(r)?29:28:30)),[e,t,r]},isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},addLeadingZero:function(e){return(e<10?"0":"")+e},addLeadingZeroForYear:function(e,t){return t?(e<10?"000":e<100?"00":e<1e3?"0":"")+e:(e<10?"0":"")+e}};var DateFormatter_1=DateFormatter,TimeFormatter=function(e,t){var r=this;r.time=[],r.blocks=[],r.timePattern=e,r.timeFormat=t,r.initBlocks()};TimeFormatter.prototype={initBlocks:function(){var e=this;e.timePattern.forEach((function(){e.blocks.push(2)}))},getISOFormatTime:function(){var e=this,t=e.time;return t[2]?e.addLeadingZero(t[0])+":"+e.addLeadingZero(t[1])+":"+e.addLeadingZero(t[2]):""},getBlocks:function(){return this.blocks},getTimeFormatOptions:function(){return"12"===String(this.timeFormat)?{maxHourFirstDigit:1,maxHours:12,maxMinutesFirstDigit:5,maxMinutes:60}:{maxHourFirstDigit:2,maxHours:23,maxMinutesFirstDigit:5,maxMinutes:60}},getValidatedTime:function(e){var t=this,r="";e=e.replace(/[^\d]/g,"");var n=t.getTimeFormatOptions();return t.blocks.forEach((function(i,o){if(e.length>0){var a=e.slice(0,i),s=a.slice(0,1),l=e.slice(i);switch(t.timePattern[o]){case"h":parseInt(s,10)>n.maxHourFirstDigit?a="0"+s:parseInt(a,10)>n.maxHours&&(a=n.maxHours+"");break;case"m":case"s":parseInt(s,10)>n.maxMinutesFirstDigit?a="0"+s:parseInt(a,10)>n.maxMinutes&&(a=n.maxMinutes+"")}r+=a,e=l}})),this.getFixedTimeString(r)},getFixedTimeString:function(e){var t,r,n,i=this,o=i.timePattern,a=[],s=0,l=0,c=0,u=0,d=0,f=0;return 6===e.length&&(o.forEach((function(e,t){switch(e){case"s":s=2*t;break;case"m":l=2*t;break;case"h":c=2*t}})),f=c,d=l,u=s,t=parseInt(e.slice(u,u+2),10),r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(f,f+2),10),a=this.getFixedTime(n,r,t)),4===e.length&&i.timePattern.indexOf("s")<0&&(o.forEach((function(e,t){switch(e){case"m":l=2*t;break;case"h":c=2*t}})),f=c,d=l,t=0,r=parseInt(e.slice(d,d+2),10),n=parseInt(e.slice(f,f+2),10),a=this.getFixedTime(n,r,t)),i.time=a,0===a.length?e:o.reduce((function(e,t){switch(t){case"s":return e+i.addLeadingZero(a[2]);case"m":return e+i.addLeadingZero(a[1]);case"h":return e+i.addLeadingZero(a[0])}}),"")},getFixedTime:function(e,t,r){return r=Math.min(parseInt(r||0,10),60),t=Math.min(t,60),[e=Math.min(e,60),t,r]},addLeadingZero:function(e){return(e<10?"0":"")+e}};var TimeFormatter_1=TimeFormatter,PhoneFormatter=function(e,t){var r=this;r.delimiter=t||""===t?t:" ",r.delimiterRE=t?new RegExp("\\"+t,"g"):"",r.formatter=e};PhoneFormatter.prototype={setFormatter:function(e){this.formatter=e},format:function(e){var t=this;t.formatter.clear();for(var r,n="",i=!1,o=0,a=(e=(e=(e=e.replace(/[^\d+]/g,"")).replace(/^\+/,"B").replace(/\+/g,"").replace("B","+")).replace(t.delimiterRE,"")).length;o<a;o++)r=t.formatter.inputDigit(e.charAt(o)),/[\s()-]/g.test(r)?(n=r,i=!0):i||(n=r);return n=(n=n.replace(/[()]/g,"")).replace(/[\s-]/g,t.delimiter)}};var PhoneFormatter_1=PhoneFormatter,CreditCardDetector={blocks:{uatp:[4,5,6],amex:[4,6,5],diners:[4,6,4],discover:[4,4,4,4],mastercard:[4,4,4,4],dankort:[4,4,4,4],instapayment:[4,4,4,4],jcb15:[4,6,5],jcb:[4,4,4,4],maestro:[4,4,4,4],visa:[4,4,4,4],mir:[4,4,4,4],unionPay:[4,4,4,4],general:[4,4,4,4]},re:{uatp:/^(?!1800)1\d{0,14}/,amex:/^3[47]\d{0,13}/,discover:/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,diners:/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,mastercard:/^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,dankort:/^(5019|4175|4571)\d{0,12}/,instapayment:/^63[7-9]\d{0,13}/,jcb15:/^(?:2131|1800)\d{0,11}/,jcb:/^(?:35\d{0,2})\d{0,12}/,maestro:/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,mir:/^220[0-4]\d{0,12}/,visa:/^4\d{0,15}/,unionPay:/^(62|81)\d{0,14}/},getStrictBlocks:function(e){var t=e.reduce((function(e,t){return e+t}),0);return e.concat(19-t)},getInfo:function(e,t){var r=CreditCardDetector.blocks,n=CreditCardDetector.re;for(var i in t=!!t,n)if(n[i].test(e)){var o=r[i];return{type:i,blocks:t?this.getStrictBlocks(o):o}}return{type:"unknown",blocks:t?this.getStrictBlocks(r.general):r.general}}},CreditCardDetector_1=CreditCardDetector,Util={noop:function(){},strip:function(e,t){return e.replace(t,"")},getPostDelimiter:function(e,t,r){if(0===r.length)return e.slice(-t.length)===t?t:"";var n="";return r.forEach((function(t){e.slice(-t.length)===t&&(n=t)})),n},getDelimiterREByDelimiter:function(e){return new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g")},getNextCursorPosition:function(e,t,r,n,i){return t.length===e?r.length:e+this.getPositionOffset(e,t,r,n,i)},getPositionOffset:function(e,t,r,n,i){var o,a,s;return o=this.stripDelimiters(t.slice(0,e),n,i),a=this.stripDelimiters(r.slice(0,e),n,i),0!==(s=o.length-a.length)?s/Math.abs(s):0},stripDelimiters:function(e,t,r){var n=this;if(0===r.length){var i=t?n.getDelimiterREByDelimiter(t):"";return e.replace(i,"")}return r.forEach((function(t){t.split("").forEach((function(t){e=e.replace(n.getDelimiterREByDelimiter(t),"")}))})),e},headStr:function(e,t){return e.slice(0,t)},getMaxLength:function(e){return e.reduce((function(e,t){return e+t}),0)},getPrefixStrippedValue:function(e,t,r,n,i,o,a,s,l){if(0===r)return e;if(e===t&&""!==e)return"";if(l&&"-"==e.slice(0,1)){var c="-"==n.slice(0,1)?n.slice(1):n;return"-"+this.getPrefixStrippedValue(e.slice(1),t,r,c,i,o,a,s,l)}if(n.slice(0,r)!==t&&!s)return a&&!n&&e?e:"";if(n.slice(-r)!==t&&s)return a&&!n&&e?e:"";var u=this.stripDelimiters(n,i,o);return e.slice(0,r)===t||s?e.slice(-r)!==t&&s?u.slice(0,-r-1):s?e.slice(0,-r):e.slice(r):u.slice(r)},getFirstDiffIndex:function(e,t){for(var r=0;e.charAt(r)===t.charAt(r);)if(""===e.charAt(r++))return-1;return r},getFormattedValue:function(e,t,r,n,i,o){var a="",s=i.length>0,l="";return 0===r?e:(t.forEach((function(t,c){if(e.length>0){var u=e.slice(0,t),d=e.slice(t);l=s?i[o?c-1:c]||l:n,o?(c>0&&(a+=l),a+=u):(a+=u,u.length===t&&c<r-1&&(a+=l)),e=d}})),a)},fixPrefixCursor:function(e,t,r,n){if(e){var i=e.value,o=r||n[0]||" ";if(e.setSelectionRange&&t&&!(t.length+o.length<=i.length)){var a=2*i.length;setTimeout((function(){e.setSelectionRange(a,a)}),1)}}},checkFullSelection:function(e){try{return(window.getSelection()||document.getSelection()||{}).toString().length===e.length}catch(e){}return!1},setSelection:function(e,t,r){if(e===this.getActiveElement(r)&&!(e&&e.value.length<=t))if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else try{e.setSelectionRange(t,t)}catch(e){console.warn("The input element type does not support selection")}},getActiveElement:function(e){var t=e.activeElement;return t&&t.shadowRoot?this.getActiveElement(t.shadowRoot):t},isAndroid:function(){return navigator&&/android/i.test(navigator.userAgent)},isAndroidBackspaceKeydown:function(e,t){return!!(this.isAndroid()&&e&&t)&&t===e.slice(0,-1)}},Util_1=Util,DefaultProperties={assign:function(e,t){return t=t||{},(e=e||{}).creditCard=!!t.creditCard,e.creditCardStrictMode=!!t.creditCardStrictMode,e.creditCardType="",e.onCreditCardTypeChanged=t.onCreditCardTypeChanged||function(){},e.phone=!!t.phone,e.phoneRegionCode=t.phoneRegionCode||"AU",e.phoneFormatter={},e.time=!!t.time,e.timePattern=t.timePattern||["h","m","s"],e.timeFormat=t.timeFormat||"24",e.timeFormatter={},e.date=!!t.date,e.datePattern=t.datePattern||["d","m","Y"],e.dateMin=t.dateMin||"",e.dateMax=t.dateMax||"",e.dateFormatter={},e.numeral=!!t.numeral,e.numeralIntegerScale=t.numeralIntegerScale>0?t.numeralIntegerScale:0,e.numeralDecimalScale=t.numeralDecimalScale>=0?t.numeralDecimalScale:2,e.numeralDecimalMark=t.numeralDecimalMark||".",e.numeralThousandsGroupStyle=t.numeralThousandsGroupStyle||"thousand",e.numeralPositiveOnly=!!t.numeralPositiveOnly,e.stripLeadingZeroes=!1!==t.stripLeadingZeroes,e.signBeforePrefix=!!t.signBeforePrefix,e.tailPrefix=!!t.tailPrefix,e.swapHiddenInput=!!t.swapHiddenInput,e.numericOnly=e.creditCard||e.date||!!t.numericOnly,e.uppercase=!!t.uppercase,e.lowercase=!!t.lowercase,e.prefix=e.creditCard||e.date?"":t.prefix||"",e.noImmediatePrefix=!!t.noImmediatePrefix,e.prefixLength=e.prefix.length,e.rawValueTrimPrefix=!!t.rawValueTrimPrefix,e.copyDelimiter=!!t.copyDelimiter,e.initValue=void 0!==t.initValue&&null!==t.initValue?t.initValue.toString():"",e.delimiter=t.delimiter||""===t.delimiter?t.delimiter:t.date?"/":t.time?":":t.numeral?",":(t.phone," "),e.delimiterLength=e.delimiter.length,e.delimiterLazyShow=!!t.delimiterLazyShow,e.delimiters=t.delimiters||[],e.blocks=t.blocks||[],e.blocksLength=e.blocks.length,e.root="object"==typeof commonjsGlobal&&commonjsGlobal?commonjsGlobal:window,e.document=t.document||e.root.document,e.maxLength=0,e.backspace=!1,e.result="",e.onValueChanged=t.onValueChanged||function(){},e}},DefaultProperties_1=DefaultProperties,Cleave=function(e,t){var r=this,n=!1;if("string"==typeof e?(r.element=document.querySelector(e),n=document.querySelectorAll(e).length>1):void 0!==e.length&&e.length>0?(r.element=e[0],n=e.length>1):r.element=e,!r.element)throw new Error("[cleave.js] Please check the element");if(n)try{console.warn("[cleave.js] Multiple input fields matched, cleave.js will only take the first one.")}catch(e){}t.initValue=r.element.value,r.properties=Cleave.DefaultProperties.assign({},t),r.init()};Cleave.prototype={init:function(){var e=this,t=e.properties;t.numeral||t.phone||t.creditCard||t.time||t.date||0!==t.blocksLength||t.prefix?(t.maxLength=Cleave.Util.getMaxLength(t.blocks),e.isAndroid=Cleave.Util.isAndroid(),e.lastInputValue="",e.isBackward="",e.onChangeListener=e.onChange.bind(e),e.onKeyDownListener=e.onKeyDown.bind(e),e.onFocusListener=e.onFocus.bind(e),e.onCutListener=e.onCut.bind(e),e.onCopyListener=e.onCopy.bind(e),e.initSwapHiddenInput(),e.element.addEventListener("input",e.onChangeListener),e.element.addEventListener("keydown",e.onKeyDownListener),e.element.addEventListener("focus",e.onFocusListener),e.element.addEventListener("cut",e.onCutListener),e.element.addEventListener("copy",e.onCopyListener),e.initPhoneFormatter(),e.initDateFormatter(),e.initTimeFormatter(),e.initNumeralFormatter(),(t.initValue||t.prefix&&!t.noImmediatePrefix)&&e.onInput(t.initValue)):e.onInput(t.initValue)},initSwapHiddenInput:function(){var e=this;if(e.properties.swapHiddenInput){var t=e.element.cloneNode(!0);e.element.parentNode.insertBefore(t,e.element),e.elementSwapHidden=e.element,e.elementSwapHidden.type="hidden",e.element=t,e.element.id=""}},initNumeralFormatter:function(){var e=this.properties;e.numeral&&(e.numeralFormatter=new Cleave.NumeralFormatter(e.numeralDecimalMark,e.numeralIntegerScale,e.numeralDecimalScale,e.numeralThousandsGroupStyle,e.numeralPositiveOnly,e.stripLeadingZeroes,e.prefix,e.signBeforePrefix,e.tailPrefix,e.delimiter))},initTimeFormatter:function(){var e=this.properties;e.time&&(e.timeFormatter=new Cleave.TimeFormatter(e.timePattern,e.timeFormat),e.blocks=e.timeFormatter.getBlocks(),e.blocksLength=e.blocks.length,e.maxLength=Cleave.Util.getMaxLength(e.blocks))},initDateFormatter:function(){var e=this.properties;e.date&&(e.dateFormatter=new Cleave.DateFormatter(e.datePattern,e.dateMin,e.dateMax),e.blocks=e.dateFormatter.getBlocks(),e.blocksLength=e.blocks.length,e.maxLength=Cleave.Util.getMaxLength(e.blocks))},initPhoneFormatter:function(){var e=this.properties;if(e.phone)try{e.phoneFormatter=new Cleave.PhoneFormatter(new e.root.Cleave.AsYouTypeFormatter(e.phoneRegionCode),e.delimiter)}catch(e){throw new Error("[cleave.js] Please include phone-type-formatter.{country}.js lib")}},onKeyDown:function(e){var t=this,r=e.which||e.keyCode;t.lastInputValue=t.element.value,t.isBackward=8===r},onChange:function(e){var t=this,r=t.properties,n=Cleave.Util;t.isBackward=t.isBackward||"deleteContentBackward"===e.inputType;var i=n.getPostDelimiter(t.lastInputValue,r.delimiter,r.delimiters);t.isBackward&&i?r.postDelimiterBackspace=i:r.postDelimiterBackspace=!1,this.onInput(this.element.value)},onFocus:function(){var e=this,t=e.properties;e.lastInputValue=e.element.value,t.prefix&&t.noImmediatePrefix&&!e.element.value&&this.onInput(t.prefix),Cleave.Util.fixPrefixCursor(e.element,t.prefix,t.delimiter,t.delimiters)},onCut:function(e){Cleave.Util.checkFullSelection(this.element.value)&&(this.copyClipboardData(e),this.onInput(""))},onCopy:function(e){Cleave.Util.checkFullSelection(this.element.value)&&this.copyClipboardData(e)},copyClipboardData:function(e){var t=this.properties,r=Cleave.Util,n=this.element.value,i="";i=t.copyDelimiter?n:r.stripDelimiters(n,t.delimiter,t.delimiters);try{e.clipboardData?e.clipboardData.setData("Text",i):window.clipboardData.setData("Text",i),e.preventDefault()}catch(e){}},onInput:function(e){var t=this,r=t.properties,n=Cleave.Util,i=n.getPostDelimiter(e,r.delimiter,r.delimiters);return r.numeral||!r.postDelimiterBackspace||i||(e=n.headStr(e,e.length-r.postDelimiterBackspace.length)),r.phone?(!r.prefix||r.noImmediatePrefix&&!e.length?r.result=r.phoneFormatter.format(e):r.result=r.prefix+r.phoneFormatter.format(e).slice(r.prefix.length),void t.updateValueState()):r.numeral?(r.prefix&&r.noImmediatePrefix&&0===e.length?r.result="":r.result=r.numeralFormatter.format(e),void t.updateValueState()):(r.date&&(e=r.dateFormatter.getValidatedDate(e)),r.time&&(e=r.timeFormatter.getValidatedTime(e)),e=n.stripDelimiters(e,r.delimiter,r.delimiters),e=n.getPrefixStrippedValue(e,r.prefix,r.prefixLength,r.result,r.delimiter,r.delimiters,r.noImmediatePrefix,r.tailPrefix,r.signBeforePrefix),e=r.numericOnly?n.strip(e,/[^\d]/g):e,e=r.uppercase?e.toUpperCase():e,e=r.lowercase?e.toLowerCase():e,r.prefix&&(r.tailPrefix?e+=r.prefix:e=r.prefix+e,0===r.blocksLength)?(r.result=e,void t.updateValueState()):(r.creditCard&&t.updateCreditCardPropsByValue(e),e=n.headStr(e,r.maxLength),r.result=n.getFormattedValue(e,r.blocks,r.blocksLength,r.delimiter,r.delimiters,r.delimiterLazyShow),void t.updateValueState()))},updateCreditCardPropsByValue:function(e){var t,r=this.properties,n=Cleave.Util;n.headStr(r.result,4)!==n.headStr(e,4)&&(t=Cleave.CreditCardDetector.getInfo(e,r.creditCardStrictMode),r.blocks=t.blocks,r.blocksLength=r.blocks.length,r.maxLength=n.getMaxLength(r.blocks),r.creditCardType!==t.type&&(r.creditCardType=t.type,r.onCreditCardTypeChanged.call(this,r.creditCardType)))},updateValueState:function(){var e=this,t=Cleave.Util,r=e.properties;if(e.element){var n=e.element.selectionEnd,i=e.element.value,o=r.result;n=t.getNextCursorPosition(n,i,o,r.delimiter,r.delimiters),e.isAndroid?window.setTimeout((function(){e.element.value=o,t.setSelection(e.element,n,r.document,!1),e.callOnValueChanged()}),1):(e.element.value=o,r.swapHiddenInput&&(e.elementSwapHidden.value=e.getRawValue()),t.setSelection(e.element,n,r.document,!1),e.callOnValueChanged())}},callOnValueChanged:function(){var e=this,t=e.properties;t.onValueChanged.call(e,{target:{name:e.element.name,value:t.result,rawValue:e.getRawValue()}})},setPhoneRegionCode:function(e){var t=this;t.properties.phoneRegionCode=e,t.initPhoneFormatter(),t.onChange()},setRawValue:function(e){var t=this,r=t.properties;e=null!=e?e.toString():"",r.numeral&&(e=e.replace(".",r.numeralDecimalMark)),r.postDelimiterBackspace=!1,t.element.value=e,t.onInput(e)},getRawValue:function(){var e=this.properties,t=Cleave.Util,r=this.element.value;return e.rawValueTrimPrefix&&(r=t.getPrefixStrippedValue(r,e.prefix,e.prefixLength,e.result,e.delimiter,e.delimiters,e.noImmediatePrefix,e.tailPrefix,e.signBeforePrefix)),r=e.numeral?e.numeralFormatter.getRawValue(r):t.stripDelimiters(r,e.delimiter,e.delimiters)},getISOFormatDate:function(){var e=this.properties;return e.date?e.dateFormatter.getISOFormatDate():""},getISOFormatTime:function(){var e=this.properties;return e.time?e.timeFormatter.getISOFormatTime():""},getFormattedValue:function(){return this.element.value},destroy:function(){var e=this;e.element.removeEventListener("input",e.onChangeListener),e.element.removeEventListener("keydown",e.onKeyDownListener),e.element.removeEventListener("focus",e.onFocusListener),e.element.removeEventListener("cut",e.onCutListener),e.element.removeEventListener("copy",e.onCopyListener)},toString:function(){return"[Cleave Object]"}},Cleave.NumeralFormatter=NumeralFormatter_1,Cleave.DateFormatter=DateFormatter_1,Cleave.TimeFormatter=TimeFormatter_1,Cleave.PhoneFormatter=PhoneFormatter_1,Cleave.CreditCardDetector=CreditCardDetector_1,Cleave.Util=Util_1,Cleave.DefaultProperties=DefaultProperties_1,("object"==typeof commonjsGlobal&&commonjsGlobal?commonjsGlobal:window).Cleave=Cleave;var Cleave_1=Cleave;function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var findModifierArgument=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e[e.indexOf(t)+r]},buildConfigFromModifiers$2=function(e,t,r){var n={};return e.includes("card")?(n.creditCard=!0,n.creditCardStrictMode=e.includes("strict")):e.includes("date")?(n.date=!0,n.datePattern=t?r(t):null):e.includes("time")?(n.time=!0,n.timePattern=t?r(t):null):e.includes("numeral")?(n.numeral=!0,e.includes("thousands")&&(n.numeralThousandsGroupStyle=findModifierArgument(e,"thousands")),e.includes("delimiter")&&(n.delimiter="dot"===findModifierArgument(e,"delimiter")?".":","),e.includes("decimal")&&(n.numeralDecimalMark="comma"===findModifierArgument(e,"decimal")?",":"."),e.includes("positive")&&(n.numeralPositiveOnly=!0),e.includes("prefix")&&(n.prefix=findModifierArgument(e,"prefix"))):e.includes("blocks")&&(n.blocks=r(t)),n},valueChangedCallback=function(e){return function(t){e._x_model&&e._x_model.set(t.target.rawValue)}};function AlpineCleave(e){e.magic("cleave",(function(e){if(e.__cleave)return e.__cleave})),e.directive("cleave",(function(t,r,n){var i=r.modifiers,o=r.expression,a=n.effect,s=n.evaluate;if(t._x_model){var l=e.prefixed("model");Object.keys(t._x_attributeCleanups).forEach((function(e){e.startsWith(l)&&(t._x_attributeCleanups[l][0](),delete t._x_attributeCleanups[l])})),t._x_forceModelUpdate=function(){}}var c=0===i.length?_objectSpread$1(_objectSpread$1({},s(o)),{},{onValueChanged:valueChangedCallback(t)}):_objectSpread$1(_objectSpread$1({},buildConfigFromModifiers$2(i,o,s)),{},{onValueChanged:valueChangedCallback(t)});t.__cleave||(t.__cleave=new Cleave_1(t,c)),t._x_model&&a((function(){e.mutateDom((function(){return t.__cleave.setRawValue(t._x_model.get())}))}))}))}var buildConfigFromModifiers$1=function(e,t,r){return r(t)},valueChangeCallback=function(e){return function(){var t=$(e).autoNumeric("get");e._x_model&&e._x_model.set(t)}};function AlpineAutoNumeric(e){e.magic("autonumeric",(function(e){if(e.__autonumeric)return e.__autonumeric})),e.directive("autonumeric",(function(t,r,n){var i=r.modifiers,o=r.expression,a=n.effect,s=n.evaluate,l=n.cleanup;if("undefined"!=typeof jQuery&&"undefined"!=typeof $)if(void 0!==$.prototype.autoNumeric){if(t._x_model){var c=e.prefixed("model");Object.keys(t._x_attributeCleanups).forEach((function(e){e.startsWith(c)&&(t._x_attributeCleanups[c][0](),delete t._x_attributeCleanups[c])})),t._x_forceModelUpdate=function(){}}var u=0===i.length?o?s(o):{}:buildConfigFromModifiers$1(i,o,s);t.__autonumeric||($(t).autoNumeric("init",u),t.__autonumeric=$(t).data("autoNumeric"),$(t).bind("blur focusout change",valueChangeCallback(t)),t._x_model&&a((function(){e.mutateDom((function(){return $(t).autoNumeric("set",t._x_model.get())}))})),t._x_bindings&&t._x_bindings.value&&a((function(){e.mutateDom((function(){$(t).autoNumeric("set",t._x_bindings.value)}))})),l((function(){$(t).unbind("blur focusout change",valueChangeCallback(t)),$(t).autoNumeric("destroy")})))}else console.error("Error AutoNumeric is not defined");else console.error("Error autonumeric need jquery")}))}function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global$1.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global$1.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance$1=global$1.performance||{},performanceNow=performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance$1),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var browser$1={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},process=browser$1,top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce((function(e,t){return e.concat([t+"-"+start,t+"-"+end])}),[]),placements=[].concat(basePlacements,[auto]).reduce((function(e,t){return e.concat([t,t+"-"+start,t+"-"+end])}),[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getWindow(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function isElement$1(e){return e instanceof getWindow(e).Element||e instanceof Element}function isHTMLElement(e){return e instanceof getWindow(e).HTMLElement||e instanceof HTMLElement}function isShadowRoot(e){return"undefined"!=typeof ShadowRoot&&(e instanceof getWindow(e).ShadowRoot||e instanceof ShadowRoot)}function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];isHTMLElement(i)&&getNodeName(i)&&(Object.assign(i.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function effect$2(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});isHTMLElement(n)&&getNodeName(n)&&(Object.assign(n.style,o),Object.keys(i).forEach((function(e){n.removeAttribute(e)})))}))}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement$1(e){return e.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getBoundingClientRect(e,t){void 0===t&&(t=!1);var r=e.getBoundingClientRect(),n=1,i=1;if(isHTMLElement(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(n=round(r.width)/a||1),o>0&&(i=round(r.height)/o||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function getLayoutRect(e){var t=getBoundingClientRect(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function contains(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&isShadowRoot(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getDocumentElement(e){return((isElement$1(e)?e.ownerDocument:e.document)||window.document).documentElement}function getParentNode(e){return"html"===getNodeName(e)?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getTrueOffsetParent(e){return isHTMLElement(e)&&"fixed"!==getComputedStyle$1(e).position?e.offsetParent:null}function getContainingBlock(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&isHTMLElement(e)&&"fixed"===getComputedStyle$1(e).position)return null;var r=getParentNode(e);for(isShadowRoot(r)&&(r=r.host);isHTMLElement(r)&&["html","body"].indexOf(getNodeName(r))<0;){var n=getComputedStyle$1(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}function getOffsetParent(e){for(var t=getWindow(e),r=getTrueOffsetParent(e);r&&isTableElement(r)&&"static"===getComputedStyle$1(r).position;)r=getTrueOffsetParent(r);return r&&("html"===getNodeName(r)||"body"===getNodeName(r)&&"static"===getComputedStyle$1(r).position)?t:r||getContainingBlock(e)||t}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function within(e,t,r){return max(e,min(t,r))}function withinMaxClamp(e,t,r){var n=within(e,t,r);return n>r?r:n}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign({},getFreshSideObject(),e)}function expandToHashMap(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}var toPaddingObject=function(e,t){return mergePaddingObject("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:expandToHashMap(e,basePlacements))};function arrow(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=getBasePlacement$1(r.placement),l=getMainAxisFromPlacement(s),c=[left,right].indexOf(s)>=0?"height":"width";if(o&&a){var u=toPaddingObject(i.padding,r),d=getLayoutRect(o),f="y"===l?top:left,p="y"===l?bottom:right,h=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],m=a[l]-r.rects.reference[l],g=getOffsetParent(o),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=h/2-m/2,b=u[f],w=y-d[c]-u[p],_=y/2-d[c]/2+v,S=within(b,_,w),C=l;r.modifiersData[n]=((t={})[C]=S,t.centerOffset=S-_,t)}}function effect$1(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&("production"!==process.env.NODE_ENV&&(isHTMLElement(n)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),contains(t.elements.popper,n)?t.elements.arrow=n:"production"!==process.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))}var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(e){return e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:round(t*n)/n||0,y:round(r*n)/n||0}}function mapToStyles(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=a.x,p=void 0===f?0:f,h=a.y,m=void 0===h?0:h,g="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=left,w=top,_=window;if(c){var S=getOffsetParent(r),C="clientHeight",E="clientWidth";if(S===getWindow(r)&&"static"!==getComputedStyle$1(S=getDocumentElement(r)).position&&"absolute"===s&&(C="scrollHeight",E="scrollWidth"),S=S,i===top||(i===left||i===right)&&o===end)w=bottom,m-=(d&&S===_&&_.visualViewport?_.visualViewport.height:S[C])-n.height,m*=l?1:-1;if(i===left||(i===top||i===bottom)&&o===end)b=right,p-=(d&&S===_&&_.visualViewport?_.visualViewport.width:S[E])-n.width,p*=l?1:-1}var $,x=Object.assign({position:s},c&&unsetSides),k=!0===u?roundOffsetsByDPR({x:p,y:m}):{x:p,y:m};return p=k.x,m=k.y,l?Object.assign({},x,(($={})[w]=v?"0":"",$[b]=y?"0":"",$.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",$)):Object.assign({},x,((t={})[w]=v?m+"px":"",t[b]=y?p+"px":"",t.transform="",t))}function computeStyles(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=void 0===n||n,o=r.adaptive,a=void 0===o||o,s=r.roundOffsets,l=void 0===s||s;if("production"!==process.env.NODE_ENV){var c=getComputedStyle$1(t.elements.popper).transitionProperty||"";a&&["transform","top","right","bottom","left"].some((function(e){return c.indexOf(e)>=0}))&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:getBasePlacement$1(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}},passive={passive:!0};function effect(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=void 0===i||i,a=n.resize,s=void 0===a||a,l=getWindow(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",r.update,passive)})),s&&l.addEventListener("resize",r.update,passive),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",r.update,passive)})),s&&l.removeEventListener("resize",r.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect,data:{}},hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,(function(e){return hash$1[e]}))}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,(function(e){return hash[e]}))}function getWindowScroll(e){var t=getWindow(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getViewportRect(e){var t=getWindow(e),r=getDocumentElement(e),n=t.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,s=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:i,height:o,x:a+getWindowScrollBarX(e),y:s}}function getDocumentRect(e){var t,r=getDocumentElement(e),n=getWindowScroll(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=max(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=max(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+getWindowScrollBarX(e),l=-n.scrollTop;return"rtl"===getComputedStyle$1(i||r).direction&&(s+=max(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function isScrollParent(e){var t=getComputedStyle$1(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function getScrollParent(e){return["html","body","#document"].indexOf(getNodeName(e))>=0?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function listScrollParents(e,t){var r;void 0===t&&(t=[]);var n=getScrollParent(e),i=n===(null==(r=e.ownerDocument)?void 0:r.body),o=getWindow(n),a=i?[o].concat(o.visualViewport||[],isScrollParent(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(listScrollParents(getParentNode(a)))}function rectToClientRect(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e){var t=getBoundingClientRect(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function getClientRectFromMixedType(e,t){return t===viewport?rectToClientRect(getViewportRect(e)):isElement$1(t)?getInnerBoundingClientRect(t):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e)),r=["absolute","fixed"].indexOf(getComputedStyle$1(e).position)>=0&&isHTMLElement(e)?getOffsetParent(e):e;return isElement$1(r)?t.filter((function(e){return isElement$1(e)&&contains(e,r)&&"body"!==getNodeName(e)})):[]}function getClippingRect(e,t,r){var n="clippingParents"===t?getClippingParents(e):[].concat(t),i=[].concat(n,[r]),o=i[0],a=i.reduce((function(t,r){var n=getClientRectFromMixedType(e,r);return t.top=max(n.top,t.top),t.right=min(n.right,t.right),t.bottom=min(n.bottom,t.bottom),t.left=max(n.left,t.left),t}),getClientRectFromMixedType(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function computeOffsets(e){var t,r=e.reference,n=e.element,i=e.placement,o=i?getBasePlacement$1(i):null,a=i?getVariation(i):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(o){case top:t={x:s,y:r.y-n.height};break;case bottom:t={x:s,y:r.y+r.height};break;case right:t={x:r.x+r.width,y:l};break;case left:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=o?getMainAxisFromPlacement(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case start:t[c]=t[c]-(r[u]/2-n[u]/2);break;case end:t[c]=t[c]+(r[u]/2-n[u]/2)}}return t}function detectOverflow(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=void 0===n?e.placement:n,o=r.boundary,a=void 0===o?clippingParents:o,s=r.rootBoundary,l=void 0===s?viewport:s,c=r.elementContext,u=void 0===c?popper:c,d=r.altBoundary,f=void 0!==d&&d,p=r.padding,h=void 0===p?0:p,m=mergePaddingObject("number"!=typeof h?h:expandToHashMap(h,basePlacements)),g=u===popper?reference:popper,y=e.rects.popper,v=e.elements[f?g:u],b=getClippingRect(isElement$1(v)?v:v.contextElement||getDocumentElement(e.elements.popper),a,l),w=getBoundingClientRect(e.elements.reference),_=computeOffsets({reference:w,element:y,strategy:"absolute",placement:i}),S=rectToClientRect(Object.assign({},y,_)),C=u===popper?S:w,E={top:b.top-C.top+m.top,bottom:C.bottom-b.bottom+m.bottom,left:b.left-C.left+m.left,right:C.right-b.right+m.right},$=e.modifiersData.offset;if(u===popper&&$){var x=$[i];Object.keys(E).forEach((function(e){var t=[right,bottom].indexOf(e)>=0?1:-1,r=[top,bottom].indexOf(e)>=0?"y":"x";E[e]+=x[r]*t}))}return E}function computeAutoPlacement(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?placements:l,u=getVariation(n),d=u?s?variationPlacements:variationPlacements.filter((function(e){return getVariation(e)===u})):basePlacements,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d,"production"!==process.env.NODE_ENV&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var p=f.reduce((function(t,r){return t[r]=detectOverflow(e,{placement:r,boundary:i,rootBoundary:o,padding:a})[getBasePlacement$1(r)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}function getExpandedFallbackPlacements(e){if(getBasePlacement$1(e)===auto)return[];var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function flip(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=void 0===i||i,a=r.altAxis,s=void 0===a||a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,f=r.altBoundary,p=r.flipVariations,h=void 0===p||p,m=r.allowedAutoPlacements,g=t.options.placement,y=getBasePlacement$1(g),v=l||(y===g||!h?[getOppositePlacement(g)]:getExpandedFallbackPlacements(g)),b=[g].concat(v).reduce((function(e,r){return e.concat(getBasePlacement$1(r)===auto?computeAutoPlacement(t,{placement:r,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):r)}),[]),w=t.rects.reference,_=t.rects.popper,S=new Map,C=!0,E=b[0],$=0;$<b.length;$++){var x=b[$],k=getBasePlacement$1(x),O=getVariation(x)===start,T=[top,bottom].indexOf(k)>=0,A=T?"width":"height",I=detectOverflow(t,{placement:x,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),P=T?O?right:left:O?bottom:top;w[A]>_[A]&&(P=getOppositePlacement(P));var R=getOppositePlacement(P),M=[];if(o&&M.push(I[k]<=0),s&&M.push(I[P]<=0,I[R]<=0),M.every((function(e){return e}))){E=x,C=!1;break}S.set(x,M)}if(C)for(var j=function(e){var t=b.find((function(t){var r=S.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},D=h?3:1;D>0;D--){if("break"===j(D))break}t.placement!==E&&(t.modifiersData[n]._skip=!0,t.placement=E,t.reset=!0)}}var flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function isAnySideFullyClipped(e){return[top,right,bottom,left].some((function(t){return e[t]>=0}))}function hide(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=detectOverflow(t,{elementContext:"reference"}),s=detectOverflow(t,{altBoundary:!0}),l=getSideOffsets(a,n),c=getSideOffsets(s,i,o),u=isAnySideFullyClipped(l),d=isAnySideFullyClipped(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(e,t,r){var n=getBasePlacement$1(e),i=[left,top].indexOf(n)>=0?-1:1,o="function"==typeof r?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[left,right].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function offset(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=void 0===i?[0,0]:i,a=placements.reduce((function(e,r){return e[r]=distanceAndSkiddingToXY(r,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(e){var t=e.state,r=e.name;t.modifiersData[r]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(e){return"x"===e?"y":"x"}function preventOverflow(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=void 0===i||i,a=r.altAxis,s=void 0!==a&&a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,f=r.tether,p=void 0===f||f,h=r.tetherOffset,m=void 0===h?0:h,g=detectOverflow(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=getBasePlacement$1(t.placement),v=getVariation(t.placement),b=!v,w=getMainAxisFromPlacement(y),_=getAltAxis(w),S=t.modifiersData.popperOffsets,C=t.rects.reference,E=t.rects.popper,$="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,x="number"==typeof $?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(S){if(o){var T,A="y"===w?top:left,I="y"===w?bottom:right,P="y"===w?"height":"width",R=S[w],M=R+g[A],j=R-g[I],D=p?-E[P]/2:0,L=v===start?C[P]:E[P],N=v===start?-E[P]:-C[P],F=t.elements.arrow,B=p&&F?getLayoutRect(F):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject(),H=z[A],V=z[I],U=within(0,C[P],B[P]),G=b?C[P]/2-D-U-H-x.mainAxis:L-U-H-x.mainAxis,W=b?-C[P]/2+D+U+V+x.mainAxis:N+U+V+x.mainAxis,q=t.elements.arrow&&getOffsetParent(t.elements.arrow),Y=q?"y"===w?q.clientTop||0:q.clientLeft||0:0,K=null!=(T=null==k?void 0:k[w])?T:0,Q=R+W-K,X=within(p?min(M,R+G-K-Y):M,R,p?max(j,Q):j);S[w]=X,O[w]=X-R}if(s){var J,Z="x"===w?top:left,ee="x"===w?bottom:right,te=S[_],re="y"===_?"height":"width",ne=te+g[Z],ie=te-g[ee],oe=-1!==[top,left].indexOf(y),ae=null!=(J=null==k?void 0:k[_])?J:0,se=oe?ne:te-C[re]-E[re]-ae+x.altAxis,le=oe?te+C[re]+E[re]-ae-x.altAxis:ie,ce=p&&oe?withinMaxClamp(se,te,le):within(p?se:ne,te,p?le:ie);S[_]=ce,O[_]=ce-te}t.modifiersData[n]=O}}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){return e!==getWindow(e)&&isHTMLElement(e)?getHTMLElementScroll(e):getWindowScroll(e)}function isElementScaled(e){var t=e.getBoundingClientRect(),r=round(t.width)/e.offsetWidth||1,n=round(t.height)/e.offsetHeight||1;return 1!==r||1!==n}function getCompositeRect(e,t,r){void 0===r&&(r=!1);var n=isHTMLElement(t),i=isHTMLElement(t)&&isElementScaled(t),o=getDocumentElement(t),a=getBoundingClientRect(e,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&(("body"!==getNodeName(t)||isScrollParent(o))&&(s=getNodeScroll(t)),isHTMLElement(t)?((l=getBoundingClientRect(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=getWindowScrollBarX(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function order(e){var t=new Map,r=new Set,n=[];function i(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&i(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||i(e)})),n}function orderModifiers(e){var t=order(e);return modifierPhases.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}function debounce$1(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}function format(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return[].concat(r).reduce((function(e,t){return e.replace(/%s/,t)}),e)}var INVALID_MODIFIER_ERROR='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',MISSING_DEPENDENCY_ERROR='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',VALID_PROPERTIES=["name","enabled","phase","fn","effect","requires","options"];function validateModifiers(e){e.forEach((function(t){[].concat(Object.keys(t),VALID_PROPERTIES).filter((function(e,t,r){return r.indexOf(e)===t})).forEach((function(r){switch(r){case"name":"string"!=typeof t.name&&console.error(format(INVALID_MODIFIER_ERROR,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":"boolean"!=typeof t.enabled&&console.error(format(INVALID_MODIFIER_ERROR,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":modifierPhases.indexOf(t.phase)<0&&console.error(format(INVALID_MODIFIER_ERROR,t.name,'"phase"',"either "+modifierPhases.join(", "),'"'+String(t.phase)+'"'));break;case"fn":"function"!=typeof t.fn&&console.error(format(INVALID_MODIFIER_ERROR,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":null!=t.effect&&"function"!=typeof t.effect&&console.error(format(INVALID_MODIFIER_ERROR,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":null==t.requires||Array.isArray(t.requires)||console.error(format(INVALID_MODIFIER_ERROR,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(format(INVALID_MODIFIER_ERROR,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+VALID_PROPERTIES.map((function(e){return'"'+e+'"'})).join(", ")+'; but "'+r+'" was provided.')}t.requires&&t.requires.forEach((function(r){null==e.find((function(e){return e.name===r}))&&console.error(format(MISSING_DEPENDENCY_ERROR,String(t.name),r,r))}))}))}))}function uniqueBy(e,t){var r=new Set;return e.filter((function(e){var n=t(e);if(!r.has(n))return r.add(n),!0}))}function mergeByName(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var INVALID_ELEMENT_ERROR="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",INFINITE_LOOP_ERROR="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function popperGenerator(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,o=void 0===i?DEFAULT_OPTIONS:i;return function(e,t,r){void 0===r&&(r=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(r){var s="function"==typeof r?r(i.options):r;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:isElement$1(e)?listScrollParents(e):e.contextElement?listScrollParents(e.contextElement):[],popper:listScrollParents(t)};var u=orderModifiers(mergeByName([].concat(n,i.options.modifiers)));if(i.orderedModifiers=u.filter((function(e){return e.enabled})),"production"!==process.env.NODE_ENV){if(validateModifiers(uniqueBy([].concat(u,i.options.modifiers),(function(e){return e.name}))),getBasePlacement$1(i.options.placement)===auto)i.orderedModifiers.find((function(e){return"flip"===e.name}))||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "));var d=getComputedStyle$1(t);[d.marginTop,d.marginRight,d.marginBottom,d.marginLeft].some((function(e){return parseFloat(e)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return i.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var s=o({state:i,name:t,instance:l,options:n}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,r=e.popper;if(areValidElements(t,r)){i.rects={reference:getCompositeRect(t,getOffsetParent(r),"fixed"===i.options.strategy),popper:getLayoutRect(r)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0,o=0;o<i.orderedModifiers.length;o++){if("production"!==process.env.NODE_ENV&&(n+=1)>100){console.error(INFINITE_LOOP_ERROR);break}if(!0!==i.reset){var a=i.orderedModifiers[o],c=a.fn,u=a.options,d=void 0===u?{}:u,f=a.name;"function"==typeof c&&(i=c({state:i,options:d,name:f,instance:l})||i)}else i.reset=!1,o=-1}}else"production"!==process.env.NODE_ENV&&console.error(INVALID_ELEMENT_ERROR)}},update:debounce$1((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!areValidElements(e,t))return"production"!==process.env.NODE_ENV&&console.error(INVALID_ELEMENT_ERROR),l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(r).then((function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers:defaultModifiers}),BOX_CLASS="tippy-box",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",TOUCH_OPTIONS={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function(){return document.body};function hasOwnProperty(e,t){return{}.hasOwnProperty.call(e,t)}function getValueAtIndexOrReturn(e,t,r){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(r)?r[t]:r:n}return e}function isType(e,t){var r={}.toString.call(e);return 0===r.indexOf("[object")&&r.indexOf(t+"]")>-1}function invokeWithArgsOrReturn(e,t){return"function"==typeof e?e.apply(void 0,t):e}function debounce(e,t){return 0===t?e:function(n){clearTimeout(r),r=setTimeout((function(){e(n)}),t)};var r}function removeProperties(e,t){var r=Object.assign({},e);return t.forEach((function(e){delete r[e]})),r}function splitBySpaces(e){return e.split(/\s+/).filter(Boolean)}function normalizeToArray(e){return[].concat(e)}function pushIfUnique(e,t){-1===e.indexOf(t)&&e.push(t)}function unique(e){return e.filter((function(t,r){return e.indexOf(t)===r}))}function getBasePlacement(e){return e.split("-")[0]}function arrayFrom(e){return[].slice.call(e)}function removeUndefinedProps(e){return Object.keys(e).reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function div(){return document.createElement("div")}function isElement(e){return["Element","Fragment"].some((function(t){return isType(e,t)}))}function isNodeList(e){return isType(e,"NodeList")}function isMouseEvent(e){return isType(e,"MouseEvent")}function isReferenceElement(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function getArrayOfElements(e){return isElement(e)?[e]:isNodeList(e)?arrayFrom(e):Array.isArray(e)?e:arrayFrom(document.querySelectorAll(e))}function setTransitionDuration(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function setVisibilityState(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function getOwnerDocument(e){var t,r=normalizeToArray(e)[0];return null!=r&&null!=(t=r.ownerDocument)&&t.body?r.ownerDocument:document}function isCursorOutsideInteractiveBorder(e,t){var r=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,o=e.props.interactiveBorder,a=getBasePlacement(i.placement),s=i.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,d="left"===a?s.right.x:0,f=t.top-n+l>o,p=n-t.bottom-c>o,h=t.left-r+u>o,m=r-t.right-d>o;return f||p||h||m}))}function updateTransitionEndListener(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[n](t,r)}))}function actualContains(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=null==r.getRootNode||null==(n=r.getRootNode())?void 0:n.host}return!1}var currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var e=performance.now();e-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=e}function onWindowBlur(){var e=document.activeElement;if(isReferenceElement(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,TOUCH_OPTIONS),window.addEventListener("blur",onWindowBlur)}var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,isIE11=!!isBrowser&&!!window.msCrypto,visitedMessages;function createMemoryLeakWarning(e){return[e+"() was called on a"+("destroy"===e?"n already-":" ")+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function clean(e){return e.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function getDevMessage(e){return clean("\n  %ctippy.js\n\n  %c"+clean(e)+"\n\n  %cð·â This is a development-only message. It will be removed in production.\n  ")}function getFormattedMessage(e){return[getDevMessage(e),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function resetVisitedMessages(){visitedMessages=new Set}function warnWhen(e,t){var r;e&&!visitedMessages.has(t)&&(visitedMessages.add(t),(r=console).warn.apply(r,getFormattedMessage(t)))}function errorWhen(e,t){var r;e&&!visitedMessages.has(t)&&(visitedMessages.add(t),(r=console).error.apply(r,getFormattedMessage(t)))}function validateTargets(e){var t=!e,r="[object Object]"===Object.prototype.toString.call(e)&&!e.addEventListener;errorWhen(t,["tippy() was passed","`"+String(e)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),errorWhen(r,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}"production"!==process.env.NODE_ENV&&resetVisitedMessages();var pluginProps={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},renderProps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},defaultProps=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pluginProps,renderProps),defaultKeys=Object.keys(defaultProps),setDefaultProps=function(e){"production"!==process.env.NODE_ENV&&validateProps(e,[]),Object.keys(e).forEach((function(t){defaultProps[t]=e[t]}))};function getExtendedPassedProps(e){var t=(e.plugins||[]).reduce((function(t,r){var n,i=r.name,o=r.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(n=defaultProps[i])?n:o);return t}),{});return Object.assign({},e,t)}function getDataAttributeProps(e,t){return(t?Object.keys(getExtendedPassedProps(Object.assign({},defaultProps,{plugins:t}))):defaultKeys).reduce((function(t,r){var n=(e.getAttribute("data-tippy-"+r)||"").trim();if(!n)return t;if("content"===r)t[r]=n;else try{t[r]=JSON.parse(n)}catch(e){t[r]=n}return t}),{})}function evaluateProps(e,t){var r=Object.assign({},t,{content:invokeWithArgsOrReturn(t.content,[e])},t.ignoreAttributes?{}:getDataAttributeProps(e,t.plugins));return r.aria=Object.assign({},defaultProps.aria,r.aria),r.aria={expanded:"auto"===r.aria.expanded?t.interactive:r.aria.expanded,content:"auto"===r.aria.content?t.interactive?null:"describedby":r.aria.content},r}function validateProps(e,t){void 0===e&&(e={}),void 0===t&&(t=[]),Object.keys(e).forEach((function(e){var r=!hasOwnProperty(removeProperties(defaultProps,Object.keys(pluginProps)),e);r&&(r=0===t.filter((function(t){return t.name===e})).length),warnWhen(r,["`"+e+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.","\n\n","All props: https://atomiks.github.io/tippyjs/v6/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))}))}var innerHTML=function(){return"innerHTML"};function dangerouslySetInnerHTML(e,t){e[innerHTML()]=t}function createArrowElement(e){var t=div();return!0===e?t.className=ARROW_CLASS:(t.className=SVG_ARROW_CLASS,isElement(e)?t.appendChild(e):dangerouslySetInnerHTML(t,e)),t}function setContent(e,t){isElement(t.content)?(dangerouslySetInnerHTML(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?dangerouslySetInnerHTML(e,t.content):e.textContent=t.content)}function getChildren(e){var t=e.firstElementChild,r=arrayFrom(t.children);return{box:t,content:r.find((function(e){return e.classList.contains(CONTENT_CLASS)})),arrow:r.find((function(e){return e.classList.contains(ARROW_CLASS)||e.classList.contains(SVG_ARROW_CLASS)})),backdrop:r.find((function(e){return e.classList.contains(BACKDROP_CLASS)}))}}function render(e){var t=div(),r=div();r.className=BOX_CLASS,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=div();function i(r,n){var i=getChildren(t),o=i.box,a=i.content,s=i.arrow;n.theme?o.setAttribute("data-theme",n.theme):o.removeAttribute("data-theme"),"string"==typeof n.animation?o.setAttribute("data-animation",n.animation):o.removeAttribute("data-animation"),n.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?o.setAttribute("role",n.role):o.removeAttribute("role"),r.content===n.content&&r.allowHTML===n.allowHTML||setContent(a,e.props),n.arrow?s?r.arrow!==n.arrow&&(o.removeChild(s),o.appendChild(createArrowElement(n.arrow))):o.appendChild(createArrowElement(n.arrow)):s&&o.removeChild(s)}return n.className=CONTENT_CLASS,n.setAttribute("data-state","hidden"),setContent(n,e.props),t.appendChild(r),r.appendChild(n),i(e.props,e.props),{popper:t,onUpdate:i}}render.$$tippy=!0;var idCounter=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(e,t){var r,n,i,o,a,s,l,c=evaluateProps(e,Object.assign({},defaultProps,getExtendedPassedProps(removeUndefinedProps(t)))),u=!1,d=!1,f=!1,p=!1,h=[],m=debounce(W,c.interactiveDebounce),g=idCounter++,y=unique(c.plugins),v={id:g,reference:e,popper:div(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(n),cancelAnimationFrame(i)},setProps:function(t){"production"!==process.env.NODE_ENV&&warnWhen(v.state.isDestroyed,createMemoryLeakWarning("setProps"));if(v.state.isDestroyed)return;P("onBeforeUpdate",[v,t]),U();var r=v.props,n=evaluateProps(e,Object.assign({},r,removeUndefinedProps(t),{ignoreAttributes:!0}));v.props=n,V(),r.interactiveDebounce!==n.interactiveDebounce&&(j(),m=debounce(W,n.interactiveDebounce));r.triggerTarget&&!n.triggerTarget?normalizeToArray(r.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):n.triggerTarget&&e.removeAttribute("aria-expanded");M(),I(),_&&_(r,n);v.popperInstance&&(Q(),J().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));P("onAfterUpdate",[v,t])},setContent:function(e){v.setProps({content:e})},show:function(){"production"!==process.env.NODE_ENV&&warnWhen(v.state.isDestroyed,createMemoryLeakWarning("show"));var e=v.state.isVisible,t=v.state.isDestroyed,r=!v.state.isEnabled,n=currentInput.isTouch&&!v.props.touch,i=getValueAtIndexOrReturn(v.props.duration,0,defaultProps.duration);if(e||t||r||n)return;if(k().hasAttribute("disabled"))return;if(P("onShow",[v],!1),!1===v.props.onShow(v))return;v.state.isVisible=!0,x()&&(w.style.visibility="visible");I(),F(),v.state.isMounted||(w.style.transition="none");if(x()){var o=T(),a=o.box,l=o.content;setTransitionDuration([a,l],0)}s=function(){var e;if(v.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=v.props.moveTransition,x()&&v.props.animation){var t=T(),r=t.box,n=t.content;setTransitionDuration([r,n],i),setVisibilityState([r,n],"visible")}R(),M(),pushIfUnique(mountedInstances,v),null==(e=v.popperInstance)||e.forceUpdate(),P("onMount",[v]),v.props.animation&&x()&&function(e,t){z(e,t)}(i,(function(){v.state.isShown=!0,P("onShown",[v])}))}},function(){var e,t=v.props.appendTo,r=k();e=v.props.interactive&&t===TIPPY_DEFAULT_APPEND_TO||"parent"===t?r.parentNode:invokeWithArgsOrReturn(t,[r]);e.contains(w)||e.appendChild(w);v.state.isMounted=!0,Q(),"production"!==process.env.NODE_ENV&&warnWhen(v.props.interactive&&t===defaultProps.appendTo&&r.nextElementSibling!==w,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.","\n\n","Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.","\n\n","Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.","\n\n","See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}()},hide:function(){"production"!==process.env.NODE_ENV&&warnWhen(v.state.isDestroyed,createMemoryLeakWarning("hide"));var e=!v.state.isVisible,t=v.state.isDestroyed,r=!v.state.isEnabled,n=getValueAtIndexOrReturn(v.props.duration,1,defaultProps.duration);if(e||t||r)return;if(P("onHide",[v],!1),!1===v.props.onHide(v))return;v.state.isVisible=!1,v.state.isShown=!1,p=!1,u=!1,x()&&(w.style.visibility="hidden");if(j(),B(),I(!0),x()){var i=T(),o=i.box,a=i.content;v.props.animation&&(setTransitionDuration([o,a],n),setVisibilityState([o,a],"hidden"))}R(),M(),v.props.animation?x()&&function(e,t){z(e,(function(){!v.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(n,v.unmount):v.unmount()},hideWithInteractivity:function(e){"production"!==process.env.NODE_ENV&&warnWhen(v.state.isDestroyed,createMemoryLeakWarning("hideWithInteractivity"));O().addEventListener("mousemove",m),pushIfUnique(mouseMoveListeners,m),m(e)},enable:function(){v.state.isEnabled=!0},disable:function(){v.hide(),v.state.isEnabled=!1},unmount:function(){"production"!==process.env.NODE_ENV&&warnWhen(v.state.isDestroyed,createMemoryLeakWarning("unmount"));v.state.isVisible&&v.hide();if(!v.state.isMounted)return;X(),J().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w);mountedInstances=mountedInstances.filter((function(e){return e!==v})),v.state.isMounted=!1,P("onHidden",[v])},destroy:function(){"production"!==process.env.NODE_ENV&&warnWhen(v.state.isDestroyed,createMemoryLeakWarning("destroy"));if(v.state.isDestroyed)return;v.clearDelayTimeouts(),v.unmount(),U(),delete e._tippy,v.state.isDestroyed=!0,P("onDestroy",[v])}};if(!c.render)return"production"!==process.env.NODE_ENV&&errorWhen(!0,"render() function has not been supplied."),v;var b=c.render(v),w=b.popper,_=b.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+v.id,v.popper=w,e._tippy=v,w._tippy=v;var S=y.map((function(e){return e.fn(v)})),C=e.hasAttribute("aria-expanded");return V(),M(),I(),P("onCreate",[v]),c.showOnCreate&&Z(),w.addEventListener("mouseenter",(function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",m)})),v;function E(){var e=v.props.touch;return Array.isArray(e)?e:[e,0]}function $(){return"hold"===E()[0]}function x(){var e;return!(null==(e=v.props.render)||!e.$$tippy)}function k(){return l||e}function O(){var e=k().parentNode;return e?getOwnerDocument(e):document}function T(){return getChildren(w)}function A(e){return v.state.isMounted&&!v.state.isVisible||currentInput.isTouch||o&&"focus"===o.type?0:getValueAtIndexOrReturn(v.props.delay,e?0:1,defaultProps.delay)}function I(e){void 0===e&&(e=!1),w.style.pointerEvents=v.props.interactive&&!e?"":"none",w.style.zIndex=""+v.props.zIndex}function P(e,t,r){var n;(void 0===r&&(r=!0),S.forEach((function(r){r[e]&&r[e].apply(r,t)})),r)&&(n=v.props)[e].apply(n,t)}function R(){var t=v.props.aria;if(t.content){var r="aria-"+t.content,n=w.id;normalizeToArray(v.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(r);if(v.state.isVisible)e.setAttribute(r,t?t+" "+n:n);else{var i=t&&t.replace(n,"").trim();i?e.setAttribute(r,i):e.removeAttribute(r)}}))}}function M(){!C&&v.props.aria.expanded&&normalizeToArray(v.props.triggerTarget||e).forEach((function(e){v.props.interactive?e.setAttribute("aria-expanded",v.state.isVisible&&e===k()?"true":"false"):e.removeAttribute("aria-expanded")}))}function j(){O().removeEventListener("mousemove",m),mouseMoveListeners=mouseMoveListeners.filter((function(e){return e!==m}))}function D(t){if(!currentInput.isTouch||!f&&"mousedown"!==t.type){var r=t.composedPath&&t.composedPath()[0]||t.target;if(!v.props.interactive||!actualContains(w,r)){if(normalizeToArray(v.props.triggerTarget||e).some((function(e){return actualContains(e,r)}))){if(currentInput.isTouch)return;if(v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else P("onClickOutside",[v,t]);!0===v.props.hideOnClick&&(v.clearDelayTimeouts(),v.hide(),d=!0,setTimeout((function(){d=!1})),v.state.isMounted||B())}}}function L(){f=!0}function N(){f=!1}function F(){var e=O();e.addEventListener("mousedown",D,!0),e.addEventListener("touchend",D,TOUCH_OPTIONS),e.addEventListener("touchstart",N,TOUCH_OPTIONS),e.addEventListener("touchmove",L,TOUCH_OPTIONS)}function B(){var e=O();e.removeEventListener("mousedown",D,!0),e.removeEventListener("touchend",D,TOUCH_OPTIONS),e.removeEventListener("touchstart",N,TOUCH_OPTIONS),e.removeEventListener("touchmove",L,TOUCH_OPTIONS)}function z(e,t){var r=T().box;function n(e){e.target===r&&(updateTransitionEndListener(r,"remove",n),t())}if(0===e)return t();updateTransitionEndListener(r,"remove",a),updateTransitionEndListener(r,"add",n),a=n}function H(t,r,n){void 0===n&&(n=!1),normalizeToArray(v.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,r,n),h.push({node:e,eventType:t,handler:r,options:n})}))}function V(){$()&&(H("touchstart",G,{passive:!0}),H("touchend",q,{passive:!0})),splitBySpaces(v.props.trigger).forEach((function(e){if("manual"!==e)switch(H(e,G),e){case"mouseenter":H("mouseleave",q);break;case"focus":H(isIE11?"focusout":"blur",Y);break;case"focusin":H("focusout",Y)}}))}function U(){h.forEach((function(e){var t=e.node,r=e.eventType,n=e.handler,i=e.options;t.removeEventListener(r,n,i)})),h=[]}function G(e){var t,r=!1;if(v.state.isEnabled&&!K(e)&&!d){var n="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,M(),!v.state.isVisible&&isMouseEvent(e)&&mouseMoveListeners.forEach((function(t){return t(e)})),"click"===e.type&&(v.props.trigger.indexOf("mouseenter")<0||u)&&!1!==v.props.hideOnClick&&v.state.isVisible?r=!0:Z(e),"click"===e.type&&(u=!r),r&&!n&&ee(e)}}function W(e){var t=e.target,r=k().contains(t)||w.contains(t);if("mousemove"!==e.type||!r){var n=J().concat(w).map((function(e){var t,r=null==(t=e._tippy.popperInstance)?void 0:t.state;return r?{popperRect:e.getBoundingClientRect(),popperState:r,props:c}:null})).filter(Boolean);isCursorOutsideInteractiveBorder(n,e)&&(j(),ee(e))}}function q(e){K(e)||v.props.trigger.indexOf("click")>=0&&u||(v.props.interactive?v.hideWithInteractivity(e):ee(e))}function Y(e){v.props.trigger.indexOf("focusin")<0&&e.target!==k()||v.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||ee(e)}function K(e){return!!currentInput.isTouch&&$()!==e.type.indexOf("touch")>=0}function Q(){X();var t=v.props,r=t.popperOptions,n=t.placement,i=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,l=x()?getChildren(w).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||k()}:e,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(x()){var r=T().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?r.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?r.setAttribute("data-"+e,""):r.removeAttribute("data-"+e)})),t.attributes.popper={}}}},d=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},u];x()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==r?void 0:r.modifiers)||[]),v.popperInstance=createPopper(c,w,Object.assign({},r,{placement:n,onFirstUpdate:s,modifiers:d}))}function X(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function J(){return arrayFrom(w.querySelectorAll("[data-tippy-root]"))}function Z(e){v.clearDelayTimeouts(),e&&P("onTrigger",[v,e]),F();var t=A(!0),n=E(),i=n[0],o=n[1];currentInput.isTouch&&"hold"===i&&o&&(t=o),t?r=setTimeout((function(){v.show()}),t):v.show()}function ee(e){if(v.clearDelayTimeouts(),P("onUntrigger",[v,e]),v.state.isVisible){if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=A(!1);t?n=setTimeout((function(){v.state.isVisible&&v.hide()}),t):i=requestAnimationFrame((function(){v.hide()}))}}else B()}}function tippy(e,t){void 0===t&&(t={});var r=defaultProps.plugins.concat(t.plugins||[]);"production"!==process.env.NODE_ENV&&(validateTargets(e),validateProps(t,r)),bindGlobalEventListeners();var n=Object.assign({},t,{plugins:r}),i=getArrayOfElements(e);if("production"!==process.env.NODE_ENV){var o=isElement(n.content),a=i.length>1;warnWhen(o&&a,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.","\n\n","Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.","\n\n","1) content: element.innerHTML\n","2) content: () => element.cloneNode(true)"].join(" "))}var s=i.reduce((function(e,t){var r=t&&createTippy(t,n);return r&&e.push(r),e}),[]);return isElement(e)?s[0]:s}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}tippy.defaultProps=defaultProps,tippy.setDefaultProps=setDefaultProps,tippy.currentInput=currentInput,Object.assign({},applyStyles$1,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}}),tippy.setDefaultProps({render:render});var buildConfigFromModifiers=function(e){var t={plugins:[]},r=function(t){return e[e.indexOf(t)+1]};if(e.includes("animation")&&(t.animation=r("animation")),e.includes("duration")&&(t.duration=parseInt(r("duration"))),e.includes("delay")){var n=r("delay");t.delay=n.includes("-")?n.split("-").map((function(e){return parseInt(e)})):parseInt(n)}if(e.includes("cursor")){t.plugins.push(tippy.followCursor);var i=r("cursor");["x","initial"].includes(i)?t.followCursor="x"===i?"horizontal":"initial":t.followCursor=!0}return e.includes("on")&&(t.trigger=r("on")),e.includes("arrowless")&&(t.arrow=!1),e.includes("html")&&(t.allowHTML=!0),e.includes("interactive")&&(t.interactive=!0),e.includes("border")&&t.interactive&&(t.interactiveBorder=parseInt(r("border"))),e.includes("debounce")&&t.interactive&&(t.interactiveDebounce=parseInt(r("debounce"))),e.includes("max-width")&&(t.maxWidth=parseInt(r("max-width"))),e.includes("theme")&&(t.theme=r("theme")),e.includes("placement")&&(t.placement=r("placement")),t};function AlpineTippy(e){e.magic("tooltip",(function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=tippy(e,_objectSpread({content:t,trigger:"manual"},r));n.show(),setTimeout((function(){n.hide(),setTimeout((function(){return n.destroy()}),r.duration||300)}),r.timeout||2e3)}})),e.directive("tooltip",(function(e,t,r){var n=t.modifiers,i=t.expression,o=r.evaluateLater,a=r.effect,s=n.length>0?buildConfigFromModifiers(n):{};e.__x_tippy||(e.__x_tippy=tippy(e,s));var l=function(){return e.__x_tippy.enable()},c=function(t){t?(l(),e.__x_tippy.setContent(t)):e.__x_tippy.disable()};if(n.includes("raw"))c(i);else{var u=o(i);a((function(){u((function(t){"object"===_typeof$1(t)?(e.__x_tippy.setProps(t),l()):c(t)}))}))}}))}var dateFormatter=new DateFormatter$1,formatter={formatDate:function(e,t){var r=null!=t?t:capp.format.date;return dateFormatter.formatDate(e,r)},unformatDate:function(e,t){var r=null!=t?t:capp.format.date;return dateFormatter.parseDate(e,r)}},updateWindowSize=function(){if(document&&("interactive"===document.readyState||"complete"===document.readyState)){var e=document.documentElement;e.style.setProperty("--cres-window-height","".concat(window.innerHeight,"px")),e.style.setProperty("--cres-window-width","".concat(window.innerWidth,"px"))}},initCssDomVar=function(){domReady(updateWindowSize),window.addEventListener("resize",updateWindowSize)},class2type={},hasOwn=class2type.hasOwnProperty,fnToString=hasOwn.toString,isPlainObject=function(e){var t,r;return!(!e||"[object Object]"!==toString.call(e))&&(!(t=getProto(e))||"function"==typeof(r=hasOwn.call(t,"constructor")&&t.constructor)&&fnToString.call(r)===ObjectFunctionString)};function extend(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"!==_typeof$1(a)&&"function"!=typeof a&&(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(c&&n&&(isPlainObject(n)||(i=Array.isArray(n)))?(r=a[t],o=i&&!Array.isArray(r)?[]:i||isPlainObject(r)?r:{},i=!1,a[t]=extend(c,o,n)):void 0!==n&&(a[t]=n));return a}var easeInOutQuad=function(e,t,r,n){return(e/=n/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t},easeInQuart=function(e,t,r,n){return r*(e/=n)*e*e*e+t},easeOutQuart=function(e,t,r,n){return e/=n,-r*(--e*e*e*e-1)+t},easeInOutQuart=function(e,t,r,n){return(e/=n/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t},easeOutElastic=function(e,t,r,n){var i=1.70158,o=.7*n,a=r;if(0==e)return t;if(1==(e/=n))return t+r;if(o||(o=.3*n),a<Math.abs(r)){a=r;i=o/4}else i=o/(2*Math.PI)*Math.asin(r/a);return a*Math.pow(2,-10*e)*Math.sin((e*n-i)*(2*Math.PI)/o)+r+t},mathFunction=Object.freeze({__proto__:null,easeInOutQuad:easeInOutQuad,easeInQuart:easeInQuart,easeOutQuart:easeOutQuart,easeInOutQuart:easeInOutQuart,easeOutElastic:easeOutElastic}),scrollTo=function(e,t,r,n){var i=n||window,o=i.scrollTop||document.documentElement.scrollTop,a=null;n||(o=window.scrollY||document.documentElement.scrollTop);window.requestAnimationFrame((function n(s){a||(a=s);var l=s-a;l>t&&(l=t);var c=easeInOutQuad(l,o,e-o,t);i.scrollTo(0,c),l<t?window.requestAnimationFrame(n):r&&r()}))},setHeight=function(e,t,r,n,i,o){var a=t-e,s=null;r.style.height=e+"px",window.requestAnimationFrame((function l(c){s||(s=c);var u=c-s;u>n&&(u=n);var d=parseInt(u/n*a+e);o&&(d=mathFunction[o](u,e,t-e,n)),r.style.height=d+"px",u<n?window.requestAnimationFrame(l):i&&i()}))},slug=function(e,t){var r;e=String(e),t=Object(t);var n={delimiter:"-",limit:void 0,lowercase:!0,replacements:{},transliterate:!0};for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i]);var o=(_defineProperty(r={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"AE","Ã":"C","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã":"D","Ã":"N","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Å":"O","Ã":"O","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Å°":"U","Ã":"Y","Ã":"TH","Ã":"ss","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã¦":"ae","Ã§":"c","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã°":"d","Ã±":"n","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Å":"o","Ã¸":"o","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Å±":"u","Ã½":"y","Ã¾":"th","Ã¿":"y","Â©":"(c)","Î":"A","Î":"B","Î":"G","Î":"D","Î":"E","Î":"Z","Î":"H","Î":"8","Î":"I","Î":"K","Î":"L","Î":"M","Î":"N","Î":"3","Î":"O","Î ":"P","Î¡":"R","Î£":"S","Î¤":"T","Î¥":"Y","Î¦":"F","Î§":"X","Î¨":"PS","Î©":"W","Î":"A","Î":"E","Î":"I","Î":"O","Î":"Y","Î":"H","Î":"W","Îª":"I","Î«":"Y","Î±":"a","Î²":"b","Î³":"g","Î´":"d","Îµ":"e","Î¶":"z","Î·":"h","Î¸":"8","Î¹":"i","Îº":"k","Î»":"l","Î¼":"m","Î½":"n","Î¾":"3","Î¿":"o","Ï":"p","Ï":"r","Ï":"s","Ï":"t","Ï":"y","Ï":"f","Ï":"x","Ï":"ps","Ï":"w","Î¬":"a","Î­":"e","Î¯":"i","Ï":"o","Ï":"y","Î®":"h","Ï":"w","Ï":"s","Ï":"i","Î°":"y","Ï":"y","Î":"i","Å":"S","Ä°":"I"},"Ã","C"),_defineProperty(r,"Ã","U"),_defineProperty(r,"Ã","O"),_defineProperty(r,"Ä","G"),_defineProperty(r,"Å","s"),_defineProperty(r,"Ä±","i"),_defineProperty(r,"Ã§","c"),_defineProperty(r,"Ã¼","u"),_defineProperty(r,"Ã¶","o"),_defineProperty(r,"Ä","g"),_defineProperty(r,"Ð","A"),_defineProperty(r,"Ð","B"),_defineProperty(r,"Ð","V"),_defineProperty(r,"Ð","G"),_defineProperty(r,"Ð","D"),_defineProperty(r,"Ð","E"),_defineProperty(r,"Ð","Yo"),_defineProperty(r,"Ð","Zh"),_defineProperty(r,"Ð","Z"),_defineProperty(r,"Ð","I"),_defineProperty(r,"Ð","J"),_defineProperty(r,"Ð","K"),_defineProperty(r,"Ð","L"),_defineProperty(r,"Ð","M"),_defineProperty(r,"Ð","N"),_defineProperty(r,"Ð","O"),_defineProperty(r,"Ð","P"),_defineProperty(r,"Ð ","R"),_defineProperty(r,"Ð¡","S"),_defineProperty(r,"Ð¢","T"),_defineProperty(r,"Ð£","U"),_defineProperty(r,"Ð¤","F"),_defineProperty(r,"Ð¥","H"),_defineProperty(r,"Ð¦","C"),_defineProperty(r,"Ð§","Ch"),_defineProperty(r,"Ð¨","Sh"),_defineProperty(r,"Ð©","Sh"),_defineProperty(r,"Ðª",""),_defineProperty(r,"Ð«","Y"),_defineProperty(r,"Ð¬",""),_defineProperty(r,"Ð­","E"),_defineProperty(r,"Ð®","Yu"),_defineProperty(r,"Ð¯","Ya"),_defineProperty(r,"Ð°","a"),_defineProperty(r,"Ð±","b"),_defineProperty(r,"Ð²","v"),_defineProperty(r,"Ð³","g"),_defineProperty(r,"Ð´","d"),_defineProperty(r,"Ðµ","e"),_defineProperty(r,"Ñ","yo"),_defineProperty(r,"Ð¶","zh"),_defineProperty(r,"Ð·","z"),_defineProperty(r,"Ð¸","i"),_defineProperty(r,"Ð¹","y"),_defineProperty(r,"Ðº","k"),_defineProperty(r,"Ð»","l"),_defineProperty(r,"Ð¼","m"),_defineProperty(r,"Ð½","n"),_defineProperty(r,"Ð¾","o"),_defineProperty(r,"Ð¿","p"),_defineProperty(r,"Ñ","r"),_defineProperty(r,"Ñ","s"),_defineProperty(r,"Ñ","t"),_defineProperty(r,"Ñ","u"),_defineProperty(r,"Ñ","f"),_defineProperty(r,"Ñ","h"),_defineProperty(r,"Ñ","ts"),_defineProperty(r,"Ñ","ch"),_defineProperty(r,"Ñ","sh"),_defineProperty(r,"Ñ","sh"),_defineProperty(r,"Ñ",""),_defineProperty(r,"Ñ","y"),_defineProperty(r,"Ñ",""),_defineProperty(r,"Ñ","e"),_defineProperty(r,"Ñ","yu"),_defineProperty(r,"Ñ","ya"),_defineProperty(r,"Ð","Ye"),_defineProperty(r,"Ð","I"),_defineProperty(r,"Ð","Yi"),_defineProperty(r,"Ò","G"),_defineProperty(r,"Ñ","ye"),_defineProperty(r,"Ñ","i"),_defineProperty(r,"Ñ","yi"),_defineProperty(r,"Ò","g"),_defineProperty(r,"Ä","C"),_defineProperty(r,"Ä","D"),_defineProperty(r,"Ä","E"),_defineProperty(r,"Å","N"),_defineProperty(r,"Å","R"),_defineProperty(r,"Å ","S"),_defineProperty(r,"Å¤","T"),_defineProperty(r,"Å®","U"),_defineProperty(r,"Å½","Z"),_defineProperty(r,"Ä","c"),_defineProperty(r,"Ä","d"),_defineProperty(r,"Ä","e"),_defineProperty(r,"Å","n"),_defineProperty(r,"Å","r"),_defineProperty(r,"Å¡","s"),_defineProperty(r,"Å¥","t"),_defineProperty(r,"Å¯","u"),_defineProperty(r,"Å¾","z"),_defineProperty(r,"Ä","A"),_defineProperty(r,"Ä","C"),_defineProperty(r,"Ä","e"),_defineProperty(r,"Å","L"),_defineProperty(r,"Å","N"),_defineProperty(r,"Ã","o"),_defineProperty(r,"Å","S"),_defineProperty(r,"Å¹","Z"),_defineProperty(r,"Å»","Z"),_defineProperty(r,"Ä","a"),_defineProperty(r,"Ä","c"),_defineProperty(r,"Ä","e"),_defineProperty(r,"Å","l"),_defineProperty(r,"Å","n"),_defineProperty(r,"Ã³","o"),_defineProperty(r,"Å","s"),_defineProperty(r,"Åº","z"),_defineProperty(r,"Å¼","z"),_defineProperty(r,"Ä","A"),_defineProperty(r,"Ä","C"),_defineProperty(r,"Ä","E"),_defineProperty(r,"Ä¢","G"),_defineProperty(r,"Äª","i"),_defineProperty(r,"Ä¶","k"),_defineProperty(r,"Ä»","L"),_defineProperty(r,"Å","N"),_defineProperty(r,"Å ","S"),_defineProperty(r,"Åª","u"),_defineProperty(r,"Å½","Z"),_defineProperty(r,"Ä","a"),_defineProperty(r,"Ä","c"),_defineProperty(r,"Ä","e"),_defineProperty(r,"Ä£","g"),_defineProperty(r,"Ä«","i"),_defineProperty(r,"Ä·","k"),_defineProperty(r,"Ä¼","l"),_defineProperty(r,"Å","n"),_defineProperty(r,"Å¡","s"),_defineProperty(r,"Å«","u"),_defineProperty(r,"Å¾","z"),r);for(var i in t.replacements)e=e.replace(RegExp(i,"g"),t.replacements[i]);if(t.transliterate)for(var i in o)e=e.replace(RegExp(i,"g"),o[i]);var a=RegExp("[^a-z0-9]+","ig");return e=(e=(e=(e=e.replace(a,t.delimiter)).replace(RegExp("["+t.delimiter+"]{2,}","g"),t.delimiter)).substring(0,t.limit)).replace(RegExp("(^"+t.delimiter+"|"+t.delimiter+"$)","g"),""),t.lowercase?e.toLowerCase():e},toggleDarkMode=function(e){addClass(document.body,"cres-theme-dark"),removeClass(document.body,"cres-theme-light"),removeClass(document.body,"cres-detect-theme"),localStorage.setItem(e,"dark-mode")},toggleLightMode=function(e){addClass(document.body,"cres-theme-light"),removeClass(document.body,"cres-theme-dark"),removeClass(document.body,"cres-detect-theme"),localStorage.setItem(e,"light-mode")},enableAutoDetect=function(e){window.matchMedia("(prefers-color-scheme: dark)").addListener((function(t){return t.matches&&toggleLightMode(e)})),window.matchMedia("(prefers-color-scheme: light)").addListener((function(t){return t.matches&&toggleLightMode(e)}))},toggleAutoDetectMode=function(e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=window.matchMedia("(prefers-color-scheme: light)").matches;window.matchMedia("(prefers-color-scheme: no-preference)").matches,t&&toggleDarkMode(e),r&&toggleLightMode(e)},toggleMode=function(e){hasClass(document.body,"cres-theme-light")?toggleDarkMode(e):toggleLightMode(e)},initThemeMode=function(e){"dark-mode"==localStorage.getItem(e)&&toggleDarkMode(e),"light-mode"==localStorage.getItem(e)&&toggleLightMode(e),hasClass(document.body,"cres-detect-theme")&&toggleAutoDetectMode(e)},Theme=function(){function e(){var t,r,n,i,o,a,s,l,c,u,d=this;_classCallCheck(this,e),_defineProperty(this,"toggleLightMode",(function(){toggleLightMode(d.localStorageKey)})),this.name=null!==(t=null===(r=capp.theme)||void 0===r?void 0:r.name)&&void 0!==t?t:"cresenity",this.modules=null!==(n=null===(i=capp.theme)||void 0===i?void 0:i.data.client_modules)&&void 0!==n?n:[],this.css=null!==(o=null===(a=capp.theme)||void 0===a?void 0:a.css)&&void 0!==o?o:[],this.js=null!==(s=null===(l=capp.theme)||void 0===l?void 0:l.js)&&void 0!==s?s:[],this.js=null!==(c=null===(u=capp.theme)||void 0===u?void 0:u.data)&&void 0!==c?c:{}}return _createClass(e,[{key:"slug",get:function(){return slug(this.name,{delimiter:"-"})}},{key:"localStorageKey",get:function(){return this.slug+"-cres-theme"}},{key:"toggleDarkMode",value:function(){toggleDarkMode(this.localStorageKey)}},{key:"enableAutoDetect",value:function(){enableAutoDetect(this.localStorageKey)}},{key:"toogleAutoDetectMode",value:function(){toggleAutoDetectMode(this.localStorageKey)}},{key:"toggleMode",value:function(){toggleMode(this.localStorageKey)}}]),e}(),initMenuProperties=function(){document.querySelectorAll(".cres-menu").forEach((function(e){e.style.display="block"})),document.querySelectorAll('[cres-menu-effect="menu-reveal"]').forEach((function(e){e.style.display="none"})),document.querySelectorAll(".cres-menu-box-left, .cres-menu-box-right").forEach((function(e){"cover"===e.getAttribute("cres-menu-width")?e.style.width="100%":e.style.width=e.getAttribute("cres-menu-width")+"px"})),document.querySelectorAll(".cres-menu-box-bottom, .cres-menu-box-top, .cres-menu-box-modal").forEach((function(e){"cover"===e.getAttribute("cres-menu-width")?(e.style.width="100%",e.style.height="100%"):(e.style.width=e.getAttribute("cres-menu-width")+"px",e.style.height=e.getAttribute("cres-menu-height")+"px")}))},applyMenuParallaxEffect=function(e,t){var r=e.getAttribute("cres-menu-width"),n=e.offsetHeight,i=document.querySelectorAll(t);if(e.classList.contains("cres-menu-box-left"))for(var o=0;o<i.length;o++)i[o].style.transform="translateX("+r/10+"px)";if(e.classList.contains("cres-menu-box-right"))for(var a=0;a<i.length;a++)i[a].style.transform="translateX(-"+r/10+"px)";if(e.classList.contains("cres-menu-box-bottom"))for(var s=0;s<i.length;s++)i[s].style.transform="translateY(-"+n/5+"px)";if(e.classList.contains("cres-menu-box-top"))for(var l=0;l<i.length;l++)i[l].style.transform="translateY("+n/5+"px)"},applyMenuPushEffect=function(e,t){var r=e.getAttribute("cres-menu-width"),n=e.offsetHeight,i=document.querySelectorAll(t);if(e.classList.contains("cres-menu-box-left"))for(var o=0;o<i.length;o++)i[o].style.transform="translateX("+r+"px)";if(e.classList.contains("cres-menu-box-right"))for(var a=0;a<i.length;a++)i[a].style.transform="translateX(-"+r+"px)";if(e.classList.contains("cres-menu-box-bottom"))for(var s=0;s<i.length;s++)i[s].style.transform="translateY(-"+n+"px)";if(e.classList.contains("cres-menu-box-top"))for(var l=0;l<i.length;l++)i[l].style.transform="translateY("+n+"px)"},initMenuTrigger=function(){document.querySelectorAll("[cres-menu]").forEach((function(e){return e.addEventListener("click",(function(t){for(var r,n=document.querySelectorAll(".cres-menu-active"),i=0;i<n.length;i++)n[i].classList.remove("cres-menu-active");var o=e.getAttribute("cres-menu");document.getElementById(o).classList.add("cres-menu-active"),document.getElementsByClassName("cres-menu-hider")[0].classList.add("cres-menu-active");var a=document.getElementById(o),s=a.getAttribute("cres-menu-effect"),l=null!==(r=a.getAttribute("cres-menu-effect-selector"))&&void 0!==r?r:"body",c=a.getAttribute("cres-menu-hide");c&&setTimeout((function(){document.getElementById(o).classList.remove("cres-menu-active"),document.getElementsByClassName("cres-menu-hider")[0].classList.remove("cres-menu-active")}),c),"menu-push"===s&&applyMenuPushEffect(a,l),"menu-parallax"===s&&applyMenuParallaxEffect(a,l)}))}))},initMenuHider=function(){if(!document.querySelectorAll(".cres-menu-hider").length){var e=document.createElement("div");e.classList.add("cres-menu-hider"),document.body.appendChild(e)}var t=document.querySelectorAll(".cres-menu-hider");t[0].classList.contains("cres-menu-active")&&(t[0].classList.add("disabled"),t[0].classList.remove("cres-menu-active"),t[0].style.transform="translateX(0px)",setTimeout((function(){t[0].classList.remove("disabled")}))),document.querySelectorAll(".cres-menu-close, .cres-menu-hider").forEach((function(e){return e.addEventListener("click",(function(e){var r=document.querySelectorAll('[cres-menu-effect="menu-reveal"]');setTimeout((function(){for(var e=0;e<r.length;e++)r[e].style.display="none"}),270);var n=document.querySelectorAll(".cres-menu-active");t[0].style.transform="translateX(0px)";for(var i=0;i<n.length;i++){var o;n[i].classList.remove("cres-menu-active");for(var a=null!==(o=n[i].getAttribute("cres-menu-effect-selector"))&&void 0!==o?o:"body",s=document.querySelectorAll(a),l=0;l<s.length;l++)s[l].style.transform="none"}}))}))},initMenu=function(){initMenuProperties(),initMenuTrigger(),initMenuHider()},formatCurrency=function(e){var t,r,n,i,o,a,s,l,c;e=""+e;var u="",d="",f=null!==(t=null===(r=window.capp)||void 0===r||null===(n=r.format)||void 0===n?void 0:n.decimalSeparator)&&void 0!==t?t:".",p=null!==(i=null===(o=window.capp)||void 0===o||null===(a=o.format)||void 0===a?void 0:a.thousandSeparator)&&void 0!==i?i:",",h=null!==(s=null===(l=window.capp)||void 0===l||null===(c=l.format)||void 0===c?void 0:c.decimalDigit)&&void 0!==s?s:2;h=parseInt(h,10);var m="";e.indexOf("-")>=0&&(m=e.substring(e.indexOf("-"),1),e=e.substring(e.indexOf("-")+1)),e.indexOf(".")>=0&&(d=e.substring(e.indexOf(".")),e=e.substring(0,e.indexOf(".")));for(var g=e.length;g>3;){u=p+e.substring(g-3)+u;var y=e.length-3;g=(e=e.substring(0,y)).length}return u=e+u,(d=d.replace(".",f)).length>h&&(d=d.substring(0,h+1)),m+u+d},unformatCurrency=function(e){var t,r,n,i,o,a;void 0===e&&(e="");var s,l,c,u=null!==(t=null===(r=window.capp)||void 0===r||null===(n=r.format)||void 0===n?void 0:n.decimalSeparator)&&void 0!==t?t:".",d=null!==(i=null===(o=window.capp)||void 0===o||null===(a=o.format)||void 0===a?void 0:a.thousandSeparator)&&void 0!==i?i:",";return s=e,l="",c=d.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),e=(e=s.replace(new RegExp(c,"g"),l)).replace(u,".")},Cresenity=function(){function Cresenity(){_classCallCheck(this,Cresenity),this.cf=cf,this.base64={encode:encode,decode:decode},this.element=element,this.windowEventList=["cresenity:confirm","cresenity:jquery:loaded","cresenity:loaded","cresenity:js:loaded","cresenity:ui:start"],this.modalElements=[],this.cresenityEventList=[],this.url=new Url,this.scrollToTop=new ScrollToTop,this.callback={},this.filesAdded=[],this.ui=new UI,this.php=php,this.react=cresReact,this.observer={elementRendered:elementRendered,elementReady:elementReady},this.confirmHandler=defaultConfirmHandler,this.dispatchWindowEvent=dispatch$1,this.websocket=null,this.debounce=debounce$3,this.sse=new SSE,this.formatter=formatter,this.extend=extend,this.dom={hasClass:hasClass,addClass:addClass,removeClass:removeClass},this.animation={scrollTo:scrollTo,setHeight:setHeight},this.theme=new Theme,this.$=cresQuery}return _createClass(Cresenity,[{key:"loadJs",value:function(e,t){var r=this,n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),"function"==typeof t&&(n.onload=t,n.onreadystatechange=function(){"complete"===r.readyState&&t()}),document.getElementsByTagName("head")[0].appendChild(n)}},{key:"createWebSocket",value:function(e){return new CSocket(e)}},{key:"haveCallback",value:function(e){return"function"==typeof this.callback[e]}},{key:"doCallback",value:function(e){if(this.haveCallback(e)){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(t=this.callback)[e].apply(t,n)}}},{key:"setConfirmHandler",value:function(e){return this.confirmHandler=e,this}},{key:"setCallback",value:function(e,t){return this.callback[e]=t,this}},{key:"isUsingRequireJs",value:function(){return void 0===this.cf.getConfig().requireJs||this.cf.getConfig().requireJs}},{key:"normalizeRequireJs",value:function(){this.isUsingRequireJs()||"function"==typeof define&&(window.define=void 0)}},{key:"isJson",value:function(e){return"string"==typeof e&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dispatch$1("cresenity:"+e,t)}},{key:"on",value:function(e,t){window.addEventListener("cresenity:"+e,t)}},{key:"handleResponse",value:function(e,t){if(e.cssRequire&&e.cssRequire.length>0)for(var r=0;r<e.cssRequire.length;r++)this.cf.require(e.cssRequire[r],"css");if(e.css_require&&e.css_require.length>0)for(var n=0;n<e.css_require.length;n++)this.cf.require(e.css_require[n],"css");t()}},{key:"htmlModal",value:function(e){showHtmlModal(e)}},{key:"urlModal",value:function(e){showUrlModal(e)}},{key:"handleAjaxError",value:function(e,t,r){var n;"abort"!==r&&(this.message("error","Error, please call administrator... ("+r+")"),200!=e.status&&"production"!==(null===(n=window.capp)||void 0===n?void 0:n.environment)&&this.htmlModal(e.responseText))}},{key:"reload",value:function reload(options){var _this2=this,targetOptions={};if(options&&options.selector){var target=$(options.selector);target.attr("data-url")&&(targetOptions.url=target.attr("data-url")),target.attr("data-method")&&(targetOptions.method=target.attr("data-method")),target.attr("data-block-html")&&(targetOptions.blockHtml=target.attr("data-block-html")),target.attr("data-block-type")&&(targetOptions.blockType=target.attr("data-block-type")),target.attr("data-data-addition")&&(targetOptions.dataAddition=JSON.parse(target.attr("data-data-addition")))}var settings=extend({method:"get",dataAddition:{},url:"/",reloadType:"reload",onComplete:!1,onSuccess:!1,onBlock:!1,blockHtml:!1,blockType:"default",onUnblock:!1},targetOptions,options),method=settings.method,selector=settings.selector;settings.blockType,settings.blockHtml;var xhr=jQuery(selector).data("xhr");xhr&&xhr.abort();var dataAddition=settings.dataAddition,url=settings.url;url&&(url=this.url.replaceParam(url)),void 0===dataAddition&&(dataAddition={}),$(selector).each((function(index,element){$(element).attr("id"),"function"==typeof settings.onBlock?settings.onBlock($(element)):_this2.blockElement($(element)),_this2.dispatch("reload:before"),$(element).data("xhr",$.ajax({type:method,url:url,dataType:"json",data:dataAddition,success:function success(data){var isError=!1;void 0===data.html&&(_this2.htmlModal(data),isError=!0),isError||(_this2.doCallback("onReloadSuccess",data),_this2.dispatch("reload:success",data),_this2.handleResponse(data,(function(){switch(settings.reloadType){case"after":$(element).after(data.html);break;case"before":$(element).before(data.html);break;case"append":$(element).append(data.html);break;case"prepend":$(element).prepend(data.html);break;default:$(element).html(data.html)}if(data.js&&data.js.length>0){var script=_this2.base64.decode(data.js);eval(script),_this2.applyDeferXData()}$(element).find(".prettyprint").length>0&&window.prettyPrint&&window.prettyPrint(),"function"==typeof settings.onSuccess&&settings.onSuccess(data)})))},error:function(e,t,r){_this2.dispatch("reload:error",{xhr:e,ajaxOptions:t,error:r}),_this2.handleAjaxError(e,t,r)},complete:function(){_this2.dispatch("reload:complete"),$(element).data("xhr",!1),"function"==typeof settings.onBlock?settings.onUnblock($(element)):_this2.unblockElement($(element)),"function"==typeof settings.onComplete&&settings.onComplete()}}))}))}},{key:"append",value:function(e){e.reloadType="append",this.reload(e)}},{key:"prepend",value:function(e){e.reloadType="prepend",this.reload(e)}},{key:"after",value:function(e){e.reloadType="after",this.reload(e)}},{key:"before",value:function(e){e.reloadType="before",this.reload(e)}},{key:"confirm",value:function(e){var t,r,n,i,o=extend({method:"get",dataAddition:{},message:null!==(t=null===(r=window.capp)||void 0===r||null===(n=r.labels)||void 0===n||null===(i=n.confirm)||void 0===i?void 0:i.areYouSure)&&void 0!==t?t:"Are you sure?",onConfirmed:!1,confirmCallback:!1,owner:null},e),a=o.confirmCallback?o.confirmCallback:o.onConfirmed;return this.confirmHandler?this.confirmHandler(o.owner,o,a):window.bootbox?window.bootbox.confirm(o.message,a):void 0}},{key:"modal",value:function(e){var t=this,r=extend({haveHeader:!1,haveFooter:!1,headerText:"",backdrop:"static",modalClass:!1,onClose:!1,appendTo:!1,footerAction:{}},e);r.title&&(r.haveHeader=!0,r.headerText=r.title);var n=jQuery("<div>").addClass("modal");r.modalClass&&n.addClass(r.modalClass),r.isSidebar&&(n.addClass("sidebar"),n.addClass(r.sidebarMode)),r.isFull&&n.addClass("sidebar full");var i=jQuery("<div>").addClass("modal-dialog modal-xl"),o=jQuery("<div>").addClass("modal-content"),a=jQuery("<div>").addClass("modal-header"),s=jQuery("<div>").addClass("modal-title"),l=jQuery('<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>');l.click((function(){l.closest(".modal").modal("hide")}));var c=jQuery("<div>").addClass("modal-body"),u=jQuery("<div>").addClass("modal-footer");i.append(o),n.append(i),r.haveHeader&&(s.html(r.headerText),a.append(s).append(l),o.append(a)),i.append(o),r.haveFooter&&o.append(u),o.append(c);var d=r.appendTo;if(void 0!==d&&d||(d=$("body")),n.appendTo(d),n.addClass("capp-modal"),n.on("hidden.bs.modal",(function(e){if(t.modalElements.length>0){var n=t.modalElements[t.modalElements.length-1];if(n&&n.get(0)===$(e.target).get(0)){var i=new function(){var e=this;this.isRunning=!1,this.callback=function(t){var r=t;void 0===r&&(r=0),isNaN(parseInt(r,10))&&(r=0),setTimeout((function(){$(n).remove(),window.cresenity.modalElements.pop(),$(".modal:visible").length>0?$("body").hasClass("modal-open")||$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),r),e.isRunning=!0}};"function"==typeof r.onClose&&r.onClose(e,i.callback),i.isRunning||i.callback()}}})),n.on("shown.bs.modal",(function(){t.modalElements.push(n)})),r.message&&c.append(r.message),r.reload){var f=r.reload;f.selector=c,this.reload(f)}return n.modal({backdrop:r.backdrop}),n}},{key:"closeLastModal",value:function(){this.modalElements.length>0&&this.modalElements[this.modalElements.length-1].modal("hide")}},{key:"closeDialog",value:function(){this.closeLastModal()}},{key:"ajax",value:function(e){var t=this,r=extend({block:!0,url:window.location.href,method:"post"},e),n=r.dataAddition,i=r.url;i=this.url.replaceParam(i),void 0===n&&(n={}),r.block&&this.blockPage();var o={url:i,dataType:"json",data:n,type:r.method,success:function(e){var n=function(){},i=function(e){t.showError(e)};"function"==typeof r.onSuccess&&(n=r.onSuccess),"function"==typeof r.onError&&(i=r.onError),!0===r.handleJsonResponse?t.handleJsonResponse(e,n,i):n(e)},error:function(e,r,n){"abort"!==n&&t.showError(n)},complete:function(){r.block&&t.unblockPage(),"function"==typeof r.onComplete&&r.onComplete()}};return $.ajax(o)}},{key:"ajaxSubmit",value:function(e){var t=this,r=extend({},e),n=r.selector;return $(n).each((function(e,n){var i=$(n).attr("action")||"",o=$(n).attr("method")||"get";t.blockElement($(n));var a=!0,s={url:i,dataType:"json",type:o,beforeSubmit:function(){return"function"!=typeof $(n).validate||(a=$(n).validate().form())},success:function(e){var n=function(){},i=function(e){t.showError(e)},o=!1;"function"==typeof r.onSuccess&&a&&(n=r.onSuccess,o=!0),"function"==typeof r.onError&&a&&(i=r.onError),a&&(!0===r.handleJsonResponse&&o?t.handleJsonResponse(e,n,i):n(e))},complete:function(){t.unblockElement($(n)),"function"==typeof r.onComplete&&a&&r.onComplete()}};$(n).ajaxSubmit(s)})),!1}},{key:"debug",value:function(e){this.cf.getConfig().debug&&window.console.log(e)}},{key:"toast",value:function(e,t,r){var n=extend({title:ucfirst(e),position:"top-right"},r);return window.toastr?window.toastr[e](t,n.title,{positionClass:"toast-"+n.position,closeButton:!0,progressBar:!0,preventDuplicates:!1,newestOnTop:!1}):cresToast.toast(t)}},{key:"message",value:function(e,t,r,n){r=void 0!==r?r:"notify";var i=$("#container");if(0===i.length&&(i=$("body")),"bootbox"===r&&window.bootbox)return void 0===n?window.bootbox.alert(t):window.bootbox.alert(t,n);if("notify"===r){var o=$("<div>");if(i.prepend(o),o.addClass("notifications"),o.addClass("top-right"),void 0!==o.notify)return o.notify({message:{text:t},type:e}).show()}return this.toast(e,t)}},{key:"scrollTo",value:function(e,t){void 0===t&&(t=document.body),$(t).animate({scrollTop:$(e).offset().top-($(t).offset().top+$(t).scrollTop())})}},{key:"replaceAll",value:function(e,t,r){var n=t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");return e.replace(new RegExp(n,"g"),r)}},{key:"formatCurrency",value:function(e){return formatCurrency(e)}},{key:"unformatCurrency",value:function(e){return unformatCurrency(e)}},{key:"getStyles",value:function(e,t,r){var n,i,o={},a=$(e);if(t&&t instanceof Array)for(var s=0,l=t.length;s<l;s++)o[i=t[s]]=a.css(i);else if(a.length){var c=a.get(0);if(window.getComputedStyle){var u,d,f=/\-([a-z])/g,p=function(e,t){return t.toUpperCase()},h=function(e){return e.replace(f,p)};if(n=window.getComputedStyle(c,null))if(n.length)for(var m=0,g=n.length;m<g;m++)u=h(i=n[m]),d=n.getPropertyValue(i),o[u]=d;else for(i in n)u=h(i),d=n.getPropertyValue(i)||n[i],o[u]=d}else if(n=c.currentStyle)for(i in n)o[i]=n[i];else if(n=c.style)for(i in n)"function"!=typeof n[i]&&(o[i]=n[i])}if(r&&r instanceof Array)for(var y=0,v=r.length;y<v;y++)delete o[i=r[y]];return o}},{key:"createPlaceholderElement",value:function(e,t,r){var n=this;r=parseInt(r,10),Number.isInteger(r)||(r=0);var i=$(e);if(0===i.length)return null;t=t||i;var o=i.clone().empty();if(o.removeAttr("id"),o.removeAttr("data-block-html"),o.removeClass(),!i.is(":visible"))return null;var a=this.getStyles(i);if(r>0&&0===i.children(":visible:not(:empty)").length){var s=i.offset().top-t.offset().top,l=i.offset().left-t.offset().left;a.width=i.outerWidth()+"px",a.height=i.outerHeight()-8+"px",a.position="absolute",a.top=s+4+"px",a.left=l+"px",a.backgroundColor="#ced4da"}switch(a.border="0",a.borderRadius="0",a.overflow="hidden",i.prop("tagName").toLowerCase()){case"ul":a.padding="0px";break;case"li":a.listStyle="none"}return 0===r&&(a.position="relative"),o.css(a),0===r&&(o.addClass("capp-ph-item"),o.attr("style",(function(e,t){return(t||"")+"margin: 0 !important;"}))),i.children().each((function(e,i){var a=n.createPlaceholderElement(i,t,r+1);a&&o.append(a)})),o}},{key:"blockPage",value:function(e){var t=extend({innerMessage:'<div class="sk-folding-cube sk-primary"><div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div></div><h5 style="color: #444">LOADING...</h5>'},e);$.blockUI({message:t.innerMessage,css:{backgroundColor:"transparent",border:"0",zIndex:9999999},overlayCSS:{backgroundColor:"#fff",opacity:.8,zIndex:9999990}})}},{key:"unblockPage",value:function(){$.unblockUI()}},{key:"blockElement",value:function(e,t){var r,n,i,o,a=extend({innerMessage:null!==(r=null===(n=window)||void 0===n||null===(i=n.capp)||void 0===i||null===(o=i.block)||void 0===o?void 0:o.html)&&void 0!==r?r:'<div class="sk-wave sk-primary"><div class="sk-rect sk-rect1"></div> <div class="sk-rect sk-rect2"></div> <div class="sk-rect sk-rect3"></div> <div class="sk-rect sk-rect4"></div> <div class="sk-rect sk-rect5"></div></div>'},t);$(e).block({message:a.innerMessage,css:{backgroundColor:"transparent",border:"0"},overlayCSS:{backgroundColor:"#fff",opacity:.8}})}},{key:"unblockElement",value:function(e){$(e).unblock()}},{key:"value",value:function(e){return 0===(e=$(e)).length?null:("checkbox"!==e.attr("type")||e.is(":checked"))&&("radio"!==e.attr("type")||e.is(":checked"))?void 0!==e.val()?e.val():void 0!==e.attr("value")?e.attr("value"):e.html():null}},{key:"initConfirm",value:function(){var e=this;elementRendered("a.confirm, button.confirm, input[type=submit].confirm",(function(t){$(t).click((function(r){return r.preventDefault(),r.stopPropagation(),confirmFromElement(t,e.confirmHandler),!1}))})),jQuery(document).ready((function(){jQuery("#toggle-subnavbar").click((function(){"Hide"===jQuery("#toggle-subnavbar span").html()?(jQuery("#subnavbar").slideUp("slow"),jQuery("#toggle-subnavbar span").html("Show")):(jQuery("#subnavbar").slideDown("slow"),jQuery("#toggle-subnavbar span").html("Hide"))})),jQuery("#toggle-fullscreen").click((function(){toggleFullscreen(document.documentElement)}))}))}},{key:"initReload",value:function(){var e=this;$("body").attr("data-reload-initialized")||($(".capp-reload").each((function(t,r){if(!$(r).hasClass("capp-reloaded")){var n={};n.selector=$(r),e.reload(n),$(r).addClass("capp-reloaded")}})),$("body").attr("data-reload-initialized","1"))}},{key:"initValidation",value:function(){$&&$.validator&&initValidation()}},{key:"initPlugin",value:function(){initPlugin()}},{key:"initElement",value:function(){initElement()}},{key:"initWaves",value:function(){if($){var e,t,r,n=null!==(e=null===(t=window.capp)||void 0===t||null===(r=t.waves)||void 0===r?void 0:r.selector)&&void 0!==e?e:".cres-waves-effect";$(n).each((function(e,t){$(t).hasClass("cres-waves-effect")||$(t).addClass("cres-waves-effect"),attachWaves(t)}))}}},{key:"applyDeferXData",value:function(){var e=document.querySelector("[defer-x-data]");e&&e.setAttribute("x-data",e.getAttribute("defer-x-data"))}},{key:"initCssDomVar",value:function(){initCssDomVar()}},{key:"initAlpineAndUi",value:function(){module_default.plugin(AlpineCleave),module_default.plugin(AlpineAutoNumeric),module_default.plugin(AlpineTippy),window.Alpine=module_default,this.ui.start(),window.Alpine.start(),this.alpine=new CresAlpine(window.Alpine)}},{key:"initLiveReload",value:function(){var e=this;!this.cf.isProduction()&&this.cf.config.vscode.liveReload.enable&&new Promise((function(t,r){var n=new WebSocket(e.cf.config.vscode.liveReload.protocol+"://"+e.cf.config.vscode.liveReload.host+":"+e.cf.config.vscode.liveReload.port+"/","reload-protocol");n.onmessage=function(e){"RELOAD"==e.data&&location.reload()},n.onerror=function(){r("couldn't connect")}})).catch((function(e){}))}},{key:"init",value:function(){var e=this;this.cf.onBeforeInit((function(){e.normalizeRequireJs()})),this.cf.onAfterInit((function(){e.cf.getConfig().haveScrollToTop&&(document.getElementById("cres-topcontrol")||e.scrollToTop.init()),e.initElement(),e.initConfirm(),e.initReload(),e.initValidation(),e.initPlugin(),e.initWaves(),e.initAlpineAndUi(),e.initCssDomVar(),e.initLiveReload(),initProgressive();var t=document.getElementsByTagName("html")[0];t.classList.add("cresenity-loaded"),t.classList.remove("no-js"),domReady((function(){removePreloader((function(){initThemeMode(e.theme.localStorageKey),initMenu()})),dispatch$1("cresenity:loaded")})),e.applyDeferXData()})),this.cf.init()}},{key:"downloadProgress",value:function(e){var t=this,r=extend({method:"get",dataAddition:{},url:"/",onComplete:!1,onSuccess:!1,onBlock:!1,onUnblock:!1},e),n=r.method,i=jQuery(window).data("cappXhrProgress");i&&i.abort();var o=r.dataAddition,a=r.url;a=this.url.replaceParam(a),void 0===o&&(o={}),"function"==typeof r.onBlock?r.onBlock():this.blockPage(),$.ajax({type:n,url:a,dataType:"json",data:o,success:function(e){t.handleJsonResponse(e,(function(e){var r=e.progressUrl,i=$("<div>").addClass("cres-download-progress"),o=setInterval((function(){$.ajax({type:n,url:r,dataType:"json",success:function(e){t.handleJsonResponse(e,(function(e){var r=i.find(".cres-download-progress-status");if("DONE"===e.state){r.empty();var n=$("<div>"),a=$("<label>",{class:"mb-3 d-block"}).append("Your file is ready"),s=$("<a>",{target:"_blank",href:e.fileUrl,class:"btn btn-primary"}).append("Download"),l=$("<a>",{href:"javascript:;",class:"btn btn-primary ml-3"}).append("Close");n.append(a),n.append(s),n.append(l),r.append(n),l.click((function(){t.closeLastModal()})),clearInterval(o)}else if("PENDING"===e.state){var c=parseFloat(e.progressValue);if(c>0){var u=i.find(".cres-download-progress-status-bar");if(0==u.length){var d=i.find(".cres-download-progress-animation");d.empty();var f=$('<div class="cres-download-progress-status-bar my-4">'),p=$('<div class="progress">'),h=$('<div class="progress-bar progress-bar-striped progress-bar-animated">');d.append(f.append(p.append(h)))}var m=parseFloat(e.progressMax);(isNaN(m)||0==m)&&(m=100);var g=u.find(".progress-bar"),y=Math.round(m>0?100*c/m:0);g.css("width",y+"%"),g.html(y+"%")}}}))}})}),3e3),a=$("<div>"),s=$("<label>",{class:"mb-4"}).append("Please Wait..."),l=$('<div class="cres-download-progress-animation">').append('<div class="sk-fading-circle sk-primary"><div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div></div>'),c=$("<div>",{class:"text-center my-3"}),u=$("<button>",{class:"btn btn-primary"}).append("Cancel");c.append(u),a.append(s),a.append(l),a.append(c),i.append($('<div class="text-center">').addClass("cres-download-progress-status").append(a)),u.click((function(){clearInterval(o),t.closeLastModal()})),t.modal({message:i,modalClass:"cres-modal-download-progress"})}))},error:function(e,r,n){"abort"!==n&&t.message("error","Error, please call administrator... ("+n+")")},complete:function(){"function"==typeof r.onBlock?r.onUnblock():t.unblockPage(),"function"==typeof r.onComplete&&r.onComplete()}})}},{key:"reactive",value:function(e,t){var r=module_default.reactive(e);return"function"==typeof t&&module_default.effect((function(){t(r)})),r}},{key:"getAlpineData",value:function(e){return"string"==typeof e&&(e=document.querySelector(e)),this.alpine.getAlpineDataInstance(e)}},{key:"handleJsonResponse",value:function(e,t,r){var n="Unexpected error happen, please relogin ro refresh this page";"string"==typeof r&&(n=r),0==e.errCode?"function"==typeof t&&t(e.data):(void 0!==e.errMessage&&(n=e.errMessage),"function"==typeof r?r(n):this.showError(n))}},{key:"showError",value:function(e){this.toast("error",e)}},{key:"inViewPort",value:function(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"tzDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=new Date;null!==e&&(t=e);var r=-t.getTimezoneOffset(),n=r>=0?"+":"-",i=function(e,t){var r=Math.floor(Math.abs(e));return t?(r<10?"00":r<100?"0":"")+r:(r<10?"0":"")+r};return t.getFullYear()+"-"+i(t.getMonth()+1)+"-"+i(t.getDate())+"T"+i(t.getHours())+":"+i(t.getMinutes())+":"+i(t.getSeconds())+"."+i(t.getMilliseconds(),!0)+n+i(r/60)+":"+i(r%60)}},{key:"randomGUID",value:function(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))}},{key:"getScrollParent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=getComputedStyle(e),n="absolute"===r.position,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===r.position)return document.body;for(var o=e;o=o.parentElement;)if(r=getComputedStyle(o),(!n||"static"!==r.position)&&i.test(r.overflow+r.overflowY+r.overflowX))return o;return document.body}}]),Cresenity}();String.prototype.contains=function(e){return!!~this.indexOf(e)},String.prototype.toNumber=function(){var e=parseFloat(this);return isNaN(e)?0:e},window.Cresenity=Cresenity,window.cresenity||(window.cresenity=new Cresenity),window.document.addEventListener("DOMContentLoaded",(function(){window.cresenity.init()}))}));
//# sourceMappingURL=cres.js.map
